var dx=Object.defineProperty,hx=Object.defineProperties;var yx=Object.getOwnPropertyDescriptors;var zm=Object.getOwnPropertySymbols;var vx=Object.prototype.hasOwnProperty,gx=Object.prototype.propertyIsEnumerable;var Bm=(v,h,s)=>h in v?dx(v,h,{enumerable:!0,configurable:!0,writable:!0,value:s}):v[h]=s,Uv=(v,h)=>{for(var s in h||(h={}))vx.call(h,s)&&Bm(v,s,h[s]);if(zm)for(var s of zm(h))gx.call(h,s)&&Bm(v,s,h[s]);return v},Fm=(v,h)=>hx(v,yx(h));var md=(v,h,s)=>new Promise((l,o)=>{var p=g=>{try{_(s.next(g))}catch(E){o(E)}},d=g=>{try{_(s.throw(g))}catch(E){o(E)}},_=g=>g.done?l(g.value):Promise.resolve(g.value).then(p,d);_((s=s.apply(v,h)).next())});import{I as bx,_ as Jv,h as mx,j as _x,af as Ox}from"./index.js";import{p as wx,e as xx,d as C0,f as _d,h as Ex,u as Wr,n as Gv,b as Sx,a6 as Ka,Z as Va,_ as rf,F as Um,a9 as jx,l as sf,a8 as jd,E as Px,a0 as Ax,a1 as Od,aa as Hv,ab as Tx,a7 as Qv,c as Mx,w as Gm,o as kx,$ as Dx}from"./vue-b9806415.js";import{a6 as Nx,T as Cx,b as Rx,aQ as R0}from"./antd-57936705.js";import{B as Ix,u as Lx}from"./index-7caba1aa.js";import{J as zx}from"./index-71573f15.js";import{P as Bx}from"./index-c8f3d3c2.js";import"./useWindowSizeFn-da6b5cad.js";import"./useContentViewHeight-bbdf3bf4.js";import"./onMountedOrActivated-b65981ee.js";const I0=Symbol("flow-chart");function Fx(v){wx(I0,v)}function Ux(){return xx(I0)}var xr=(v=>(v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData",v))(xr||{});const Gx=C0({name:"FlowChartToolbar",components:{Icon:bx,Divider:Nx,Tooltip:Cx},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:h}){const s=_d([{type:xr.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"缩小"},{type:xr.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"放大"},{type:xr.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"重置比例"},{separate:!0},{type:xr.UNDO,icon:"ion:arrow-undo-outline",tooltip:"后退",disabled:!0},{type:xr.REDO,icon:"ion:arrow-redo-outline",tooltip:"前进",disabled:!0},{separate:!0},{type:xr.SNAPSHOT,icon:"ion:download-outline",tooltip:"下载"},{type:xr.VIEW_DATA,icon:"carbon:document-view",tooltip:"查看数据"}]),{logicFlow:l}=Ux();function o({data:{undoAble:d,redoAble:_}}){const g=Wr(s),E=g.findIndex(P=>P.type===xr.UNDO),T=g.findIndex(P=>P.type===xr.REDO);E!==-1&&(Wr(s)[E].disabled=!d),T!==-1&&(Wr(s)[T].disabled=!_)}const p=d=>{const _=Wr(l);if(_)switch(d.type){case xr.ZOOM_IN:_.zoom();break;case xr.ZOOM_OUT:_.zoom(!0);break;case xr.RESET_ZOOM:_.resetZoom();break;case xr.UNDO:_.undo();break;case xr.REDO:_.redo();break;case xr.SNAPSHOT:_.getSnapshot();break;case xr.VIEW_DATA:h("view-data");break}};return Ex(()=>md(this,null,function*(){var d;Wr(l)&&(yield Gv(),(d=Wr(l))==null||d.on("history:change",o))})),Sx(()=>{var d;(d=Wr(l))==null||d.off("history:change",o)}),{toolbarItemList:s,onControl:p}}});const Hx=["onClick"];function Xx(v,h,s,l,o,p){const d=Ka("Icon"),_=Ka("Tooltip"),g=Ka("Divider");return Va(),rf("div",{class:Od([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Va(!0),rf(Um,null,jx(v.toolbarItemList,E=>(Va(),rf(Um,{key:E.type},[sf(_,Tx({placement:"bottom"},E.disabled?{visible:!1}:{}),{title:jd(()=>[Px(Ax(E.tooltip),1)]),default:jd(()=>[E.icon?(Va(),rf("span",{key:0,class:Od(`${v.prefixCls}-toolbar__icon`),onClick:T=>v.onControl(E)},[sf(d,{icon:E.icon,class:Od(E.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,Hx)):Hv("",!0)]),_:2},1040),E.separate?(Va(),Qv(g,{key:0,type:"vertical"})):Hv("",!0)],64))),128))],2)}const Yx=Jv(Gx,[["render",Xx]]);var Xv={exports:{}};(function(v,h){(function(s,l){v.exports=l()})(window,function(){return function(s){var l={};function o(p){if(l[p])return l[p].exports;var d=l[p]={i:p,l:!1,exports:{}};return s[p].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=l,o.d=function(p,d,_){o.o(p,d)||Object.defineProperty(p,d,{enumerable:!0,get:_})},o.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},o.t=function(p,d){if(1&d&&(p=o(p)),8&d||4&d&&typeof p=="object"&&p&&p.__esModule)return p;var _=Object.create(null);if(o.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:p}),2&d&&typeof p!="string")for(var g in p)o.d(_,g,function(E){return p[E]}.bind(null,g));return _},o.n=function(p){var d=p&&p.__esModule?function(){return p.default}:function(){return p};return o.d(d,"a",d),d},o.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)},o.p="",o(o.s=220)}([function(s,l,o){o.d(l,"a",function(){return te}),o.d(l,"b",function(){return ue}),o.d(l,"c",function(){return Ke}),o.d(l,"d",function(){return yt}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return ne}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return Ge}),o.d(l,"i",function(){return d}),o.d(l,"j",function(){return ht}),o.d(l,"k",function(){return $});var p,d,_,g,E,T,P,D={},M=[],R=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(se,ce){for(var ge in ce)se[ge]=ce[ge];return se}function B(se){var ce=se.parentNode;ce&&ce.removeChild(se)}function G(se,ce,ge){var Ne,He,Le,Ot={};for(Le in ce)Le=="key"?Ne=ce[Le]:Le=="ref"?He=ce[Le]:Ot[Le]=ce[Le];if(arguments.length>2&&(Ot.children=arguments.length>3?p.call(arguments,2):ge),typeof se=="function"&&se.defaultProps!=null)for(Le in se.defaultProps)Ot[Le]===void 0&&(Ot[Le]=se.defaultProps[Le]);return W(se,Ot,Ne,He,null)}function W(se,ce,ge,Ne,He){var Le={type:se,props:ce,key:ge,ref:Ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He==null?++_:He};return He==null&&d.vnode!=null&&d.vnode(Le),Le}function ne(){return{current:null}}function ue(se){return se.children}function te(se,ce){this.props=se,this.context=ce}function J(se,ce){if(ce==null)return se.__?J(se.__,se.__.__k.indexOf(se)+1):null;for(var ge;ce<se.__k.length;ce++)if((ge=se.__k[ce])!=null&&ge.__e!=null)return ge.__e;return typeof se.type=="function"?J(se):null}function ee(se){var ce,ge;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,ce=0;ce<se.__k.length;ce++)if((ge=se.__k[ce])!=null&&ge.__e!=null){se.__e=se.__c.base=ge.__e;break}return ee(se)}}function Y(se){(!se.__d&&(se.__d=!0)&&g.push(se)&&!L.__r++||T!==d.debounceRendering)&&((T=d.debounceRendering)||E)(L)}function L(){for(var se;L.__r=g.length;)se=g.sort(function(ce,ge){return ce.__v.__b-ge.__v.__b}),g=[],se.some(function(ce){var ge,Ne,He,Le,Ot,At;ce.__d&&(Ot=(Le=(ge=ce).__v).__e,(At=ge.__P)&&(Ne=[],(He=C({},Le)).__v=Le.__v+1,Se(At,Le,He,ge.__n,At.ownerSVGElement!==void 0,Le.__h!=null?[Ot]:null,Ne,Ot==null?J(Le):Ot,Le.__h),ve(Ne,Le),Le.__e!=Ot&&ee(Le)))})}function H(se,ce,ge,Ne,He,Le,Ot,At,Et,dt){var Me,ut,fe,rt,Ct,nn,Rt,$t=Ne&&Ne.__k||M,fn=$t.length;for(ge.__k=[],Me=0;Me<ce.length;Me++)if((rt=ge.__k[Me]=(rt=ce[Me])==null||typeof rt=="boolean"?null:typeof rt=="string"||typeof rt=="number"||typeof rt=="bigint"?W(null,rt,null,null,rt):Array.isArray(rt)?W(ue,{children:rt},null,null,null):rt.__b>0?W(rt.type,rt.props,rt.key,null,rt.__v):rt)!=null){if(rt.__=ge,rt.__b=ge.__b+1,(fe=$t[Me])===null||fe&&rt.key==fe.key&&rt.type===fe.type)$t[Me]=void 0;else for(ut=0;ut<fn;ut++){if((fe=$t[ut])&&rt.key==fe.key&&rt.type===fe.type){$t[ut]=void 0;break}fe=null}Se(se,rt,fe=fe||D,He,Le,Ot,At,Et,dt),Ct=rt.__e,(ut=rt.ref)&&fe.ref!=ut&&(Rt||(Rt=[]),fe.ref&&Rt.push(fe.ref,null,rt),Rt.push(ut,rt.__c||Ct,rt)),Ct!=null?(nn==null&&(nn=Ct),typeof rt.type=="function"&&rt.__k===fe.__k?rt.__d=Et=V(rt,Et,se):Et=ae(se,rt,fe,$t,Ct,Et),typeof ge.type=="function"&&(ge.__d=Et)):Et&&fe.__e==Et&&Et.parentNode!=se&&(Et=J(fe))}for(ge.__e=nn,Me=fn;Me--;)$t[Me]!=null&&(typeof ge.type=="function"&&$t[Me].__e!=null&&$t[Me].__e==ge.__d&&(ge.__d=J(Ne,Me+1)),Ue($t[Me],$t[Me]));if(Rt)for(Me=0;Me<Rt.length;Me++)Ae(Rt[Me],Rt[++Me],Rt[++Me])}function V(se,ce,ge){for(var Ne,He=se.__k,Le=0;He&&Le<He.length;Le++)(Ne=He[Le])&&(Ne.__=se,ce=typeof Ne.type=="function"?V(Ne,ce,ge):ae(ge,Ne,Ne,He,Ne.__e,ce));return ce}function $(se,ce){return ce=ce||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(ge){$(ge,ce)}):ce.push(se)),ce}function ae(se,ce,ge,Ne,He,Le){var Ot,At,Et;if(ce.__d!==void 0)Ot=ce.__d,ce.__d=void 0;else if(ge==null||He!=Le||He.parentNode==null)e:if(Le==null||Le.parentNode!==se)se.appendChild(He),Ot=null;else{for(At=Le,Et=0;(At=At.nextSibling)&&Et<Ne.length;Et+=2)if(At==He)break e;se.insertBefore(He,Le),Ot=Le}return Ot!==void 0?Ot:He.nextSibling}function Oe(se,ce,ge){ce[0]==="-"?se.setProperty(ce,ge):se[ce]=ge==null?"":typeof ge!="number"||R.test(ce)?ge:ge+"px"}function he(se,ce,ge,Ne,He){var Le;e:if(ce==="style")if(typeof ge=="string")se.style.cssText=ge;else{if(typeof Ne=="string"&&(se.style.cssText=Ne=""),Ne)for(ce in Ne)ge&&ce in ge||Oe(se.style,ce,"");if(ge)for(ce in ge)Ne&&ge[ce]===Ne[ce]||Oe(se.style,ce,ge[ce])}else if(ce[0]==="o"&&ce[1]==="n")Le=ce!==(ce=ce.replace(/Capture$/,"")),ce=ce.toLowerCase()in se?ce.toLowerCase().slice(2):ce.slice(2),se.l||(se.l={}),se.l[ce+Le]=ge,ge?Ne||se.addEventListener(ce,Le?Be:Pe,Le):se.removeEventListener(ce,Le?Be:Pe,Le);else if(ce!=="dangerouslySetInnerHTML"){if(He)ce=ce.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ce!=="href"&&ce!=="list"&&ce!=="form"&&ce!=="tabIndex"&&ce!=="download"&&ce in se)try{se[ce]=ge==null?"":ge;break e}catch(Ot){}typeof ge=="function"||(ge!=null&&(ge!==!1||ce[0]==="a"&&ce[1]==="r")?se.setAttribute(ce,ge):se.removeAttribute(ce))}}function Pe(se){this.l[se.type+!1](d.event?d.event(se):se)}function Be(se){this.l[se.type+!0](d.event?d.event(se):se)}function Se(se,ce,ge,Ne,He,Le,Ot,At,Et){var dt,Me,ut,fe,rt,Ct,nn,Rt,$t,fn,_n,kt=ce.type;if(ce.constructor!==void 0)return null;ge.__h!=null&&(Et=ge.__h,At=ce.__e=ge.__e,ce.__h=null,Le=[At]),(dt=d.__b)&&dt(ce);try{e:if(typeof kt=="function"){if(Rt=ce.props,$t=(dt=kt.contextType)&&Ne[dt.__c],fn=dt?$t?$t.props.value:dt.__:Ne,ge.__c?nn=(Me=ce.__c=ge.__c).__=Me.__E:("prototype"in kt&&kt.prototype.render?ce.__c=Me=new kt(Rt,fn):(ce.__c=Me=new te(Rt,fn),Me.constructor=kt,Me.render=et),$t&&$t.sub(Me),Me.props=Rt,Me.state||(Me.state={}),Me.context=fn,Me.__n=Ne,ut=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),kt.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=C({},Me.__s)),C(Me.__s,kt.getDerivedStateFromProps(Rt,Me.__s))),fe=Me.props,rt=Me.state,ut)kt.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(kt.getDerivedStateFromProps==null&&Rt!==fe&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(Rt,fn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(Rt,Me.__s,fn)===!1||ce.__v===ge.__v){Me.props=Rt,Me.state=Me.__s,ce.__v!==ge.__v&&(Me.__d=!1),Me.__v=ce,ce.__e=ge.__e,ce.__k=ge.__k,ce.__k.forEach(function(Nn){Nn&&(Nn.__=ce)}),Me.__h.length&&Ot.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(Rt,Me.__s,fn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(fe,rt,Ct)})}Me.context=fn,Me.props=Rt,Me.state=Me.__s,(dt=d.__r)&&dt(ce),Me.__d=!1,Me.__v=ce,Me.__P=se,dt=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(Ne=C(C({},Ne),Me.getChildContext())),ut||Me.getSnapshotBeforeUpdate==null||(Ct=Me.getSnapshotBeforeUpdate(fe,rt)),_n=dt!=null&&dt.type===ue&&dt.key==null?dt.props.children:dt,H(se,Array.isArray(_n)?_n:[_n],ce,ge,Ne,He,Le,Ot,At,Et),Me.base=ce.__e,ce.__h=null,Me.__h.length&&Ot.push(Me),nn&&(Me.__E=Me.__=null),Me.__e=!1}else Le==null&&ce.__v===ge.__v?(ce.__k=ge.__k,ce.__e=ge.__e):ce.__e=je(ge.__e,ce,ge,Ne,He,Le,Ot,Et);(dt=d.diffed)&&dt(ce)}catch(Nn){ce.__v=null,(Et||Le!=null)&&(ce.__e=At,ce.__h=!!Et,Le[Le.indexOf(At)]=null),d.__e(Nn,ce,ge)}}function ve(se,ce){d.__c&&d.__c(ce,se),se.some(function(ge){try{se=ge.__h,ge.__h=[],se.some(function(Ne){Ne.call(ge)})}catch(Ne){d.__e(Ne,ge.__v)}})}function je(se,ce,ge,Ne,He,Le,Ot,At){var Et,dt,Me,ut=ge.props,fe=ce.props,rt=ce.type,Ct=0;if(rt==="svg"&&(He=!0),Le!=null){for(;Ct<Le.length;Ct++)if((Et=Le[Ct])&&"setAttribute"in Et==!!rt&&(rt?Et.localName===rt:Et.nodeType===3)){se=Et,Le[Ct]=null;break}}if(se==null){if(rt===null)return document.createTextNode(fe);se=He?document.createElementNS("http://www.w3.org/2000/svg",rt):document.createElement(rt,fe.is&&fe),Le=null,At=!1}if(rt===null)ut===fe||At&&se.data===fe||(se.data=fe);else{if(Le=Le&&p.call(se.childNodes),dt=(ut=ge.props||D).dangerouslySetInnerHTML,Me=fe.dangerouslySetInnerHTML,!At){if(Le!=null)for(ut={},Ct=0;Ct<se.attributes.length;Ct++)ut[se.attributes[Ct].name]=se.attributes[Ct].value;(Me||dt)&&(Me&&(dt&&Me.__html==dt.__html||Me.__html===se.innerHTML)||(se.innerHTML=Me&&Me.__html||""))}if(function(nn,Rt,$t,fn,_n){var kt;for(kt in $t)kt==="children"||kt==="key"||kt in Rt||he(nn,kt,null,$t[kt],fn);for(kt in Rt)_n&&typeof Rt[kt]!="function"||kt==="children"||kt==="key"||kt==="value"||kt==="checked"||$t[kt]===Rt[kt]||he(nn,kt,Rt[kt],$t[kt],fn)}(se,fe,ut,He,At),Me)ce.__k=[];else if(Ct=ce.props.children,H(se,Array.isArray(Ct)?Ct:[Ct],ce,ge,Ne,He&&rt!=="foreignObject",Le,Ot,Le?Le[0]:ge.__k&&J(ge,0),At),Le!=null)for(Ct=Le.length;Ct--;)Le[Ct]!=null&&B(Le[Ct]);At||("value"in fe&&(Ct=fe.value)!==void 0&&(Ct!==ut.value||Ct!==se.value||rt==="progress"&&!Ct)&&he(se,"value",Ct,ut.value,!1),"checked"in fe&&(Ct=fe.checked)!==void 0&&Ct!==se.checked&&he(se,"checked",Ct,ut.checked,!1))}return se}function Ae(se,ce,ge){try{typeof se=="function"?se(ce):se.current=ce}catch(Ne){d.__e(Ne,ge)}}function Ue(se,ce,ge){var Ne,He;if(d.unmount&&d.unmount(se),(Ne=se.ref)&&(Ne.current&&Ne.current!==se.__e||Ae(Ne,null,ce)),(Ne=se.__c)!=null){if(Ne.componentWillUnmount)try{Ne.componentWillUnmount()}catch(Le){d.__e(Le,ce)}Ne.base=Ne.__P=null}if(Ne=se.__k)for(He=0;He<Ne.length;He++)Ne[He]&&Ue(Ne[He],ce,typeof se.type!="function");ge||se.__e==null||B(se.__e),se.__e=se.__d=void 0}function et(se,ce,ge){return this.constructor(se,ge)}function ht(se,ce,ge){var Ne,He,Le;d.__&&d.__(se,ce),He=(Ne=typeof ge=="function")?null:ge&&ge.__k||ce.__k,Le=[],Se(ce,se=(!Ne&&ge||ce).__k=G(ue,null,[se]),He||D,D,ce.ownerSVGElement!==void 0,!Ne&&ge?[ge]:He?null:ce.firstChild?p.call(ce.childNodes):null,Le,!Ne&&ge?ge:He?He.__e:ce.firstChild,Ne),ve(Le,se)}function Ge(se,ce){ht(se,ce,Ge)}function Ke(se,ce,ge){var Ne,He,Le,Ot=C({},se.props);for(Le in ce)Le=="key"?Ne=ce[Le]:Le=="ref"?He=ce[Le]:Ot[Le]=ce[Le];return arguments.length>2&&(Ot.children=arguments.length>3?p.call(arguments,2):ge),W(se.type,Ot,Ne||se.key,He||se.ref,null)}function yt(se,ce){var ge={__c:ce="__cC"+P++,__:se,Consumer:function(Ne,He){return Ne.children(He)},Provider:function(Ne){var He,Le;return this.getChildContext||(He=[],(Le={})[ce]=this,this.getChildContext=function(){return Le},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&He.some(Y)},this.sub=function(Ot){He.push(Ot);var At=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){He.splice(He.indexOf(Ot),1),At&&At.call(Ot)}}),Ne.children}};return ge.Provider.__=ge.Consumer.contextType=ge}p=M.slice,d={__e:function(se,ce){for(var ge,Ne,He;ce=ce.__;)if((ge=ce.__c)&&!ge.__)try{if((Ne=ge.constructor)&&Ne.getDerivedStateFromError!=null&&(ge.setState(Ne.getDerivedStateFromError(se)),He=ge.__d),ge.componentDidCatch!=null&&(ge.componentDidCatch(se),He=ge.__d),He)return ge.__E=ge}catch(Le){se=Le}throw se}},_=0,te.prototype.setState=function(se,ce){var ge;ge=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof se=="function"&&(se=se(C({},ge),this.props)),se&&C(ge,se),se!=null&&this.__v&&(ce&&this.__h.push(ce),Y(this))},te.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),Y(this))},te.prototype.render=ue,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(s,l,o){(function(p,d){o.d(l,"a",function(){return Y}),o.d(l,"b",function(){return hu}),o.d(l,"c",function(){return Jr}),o.d(l,"d",function(){return xt}),o.d(l,"e",function(){return We}),o.d(l,"f",function(){return Ve}),o.d(l,"g",function(){return gt}),o.d(l,"h",function(){return po}),o.d(l,"i",function(){return _n}),o.d(l,"j",function(){return ot}),o.d(l,"k",function(){return Oo}),o.d(l,"l",function(){return ou}),o.d(l,"m",function(){return nn}),o.d(l,"n",function(){return ci}),o.d(l,"o",function(){return V}),o.d(l,"p",function(){return tc}),o.d(l,"q",function(){return wo}),o.d(l,"r",function(){return ua}),o.d(l,"s",function(){return Br}),o.d(l,"t",function(){return Mn}),o.d(l,"u",function(){return aa}),o.d(l,"v",function(){return ec}),o.d(l,"w",function(){return su}),o.d(l,"x",function(){return si}),o.d(l,"y",function(){return zr}),o.d(l,"z",function(){return Un}),o.d(l,"A",function(){return mr}),o.d(l,"B",function(){return uo}),o.d(l,"C",function(){return dt}),o.d(l,"D",function(){return nc}),o.d(l,"E",function(){return rn}),o.d(l,"F",function(){return an}),o.d(l,"G",function(){return nu}),o.d(l,"H",function(){return tu}),o.d(l,"I",function(){return lu}),o.d(l,"J",function(){return Vn}),o.d(l,"K",function(){return de}),o.d(l,"L",function(){return hn}),o.d(l,"M",function(){return sa});var _=[];Object.freeze(_);var g={};function E(){return++ct.mobxGuid}function T(O){throw P(!1,O),"X"}function P(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function D(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var M=function(){};function R(O){return O!==null&&typeof O=="object"}function C(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function B(O,w,A){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:A})}function G(O,w){var A="isMobX"+O;return w.prototype[A]=!0,function(z){return R(z)&&z[A]===!0}}function W(O){return O instanceof Map}function ne(O){return O instanceof Set}function ue(O){var w=new Set;for(var A in O)w.add(A);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function te(O){return O&&O.toString?O.toString():new String(O).toString()}function J(O){return O===null?null:typeof O=="object"?""+O:O}var ee=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,Y=Symbol("mobx administration"),L=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ut.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return ia(this)},O.prototype.reportChanged=function(){hr(),function(w){w.lowestObserverState!==ut.STALE&&(w.lowestObserverState=ut.STALE,w.observers.forEach(function(A){A.dependenciesState===ut.UP_TO_DATE&&(A.isTracing!==fe.NONE&&qr(A,w),A.onBecomeStale()),A.dependenciesState=ut.STALE}))}(this),Er()},O.prototype.toString=function(){return this.name},O}(),H=G("Atom",L);function V(O,w,A){w===void 0&&(w=M),A===void 0&&(A=M);var z,K=new L(O);return w!==M&&Ju("onBecomeObserved",K,w,z),A!==M&&rn(K,A),K}var $={identity:function(O,w){return O===w},structural:function(O,w){return Ce(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ce(O,w,1)}},ae=function(O,w){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,z){A.__proto__=z}||function(A,z){for(var K in z)z.hasOwnProperty(K)&&(A[K]=z[K])},ae(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Oe=function(){return Oe=Object.assign||function(O){for(var w,A=1,z=arguments.length;A<z;A++)for(var K in w=arguments[A])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Oe.apply(this,arguments)};function he(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],A=0;return w?w.call(O):{next:function(){return O&&A>=O.length&&(O=void 0),{value:O&&O[A++],done:!O}}}}function Pe(O,w){var A=typeof Symbol=="function"&&O[Symbol.iterator];if(!A)return O;var z,K,pe=A.call(O),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=pe.next()).done;)Ee.push(z.value)}catch(Fe){K={error:Fe}}finally{try{z&&!z.done&&(A=pe.return)&&A.call(pe)}finally{if(K)throw K.error}}return Ee}function Be(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Pe(arguments[w]));return O}var Se=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),je={},Ae={};function Ue(O,w){var A=w?je:Ae;return A[O]||(A[O]={configurable:!0,enumerable:w,get:function(){return et(this),this[O]},set:function(z){et(this),this[O]=z}})}function et(O){var w,A;if(O[Se]!==!0){var z=O[ve];if(z){B(O,Se,!0);var K=Be(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var pe=he(K),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=z[Ee.value];Fe.propertyCreator(O,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(it){w={error:it}}finally{try{Ee&&!Ee.done&&(A=pe.return)&&A.call(pe)}finally{if(w)throw w.error}}}}}function ht(O,w){return function(){var A,z=function(K,pe,Ee,Fe){if(Fe===!0)return w(K,pe,Ee,K,A),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var it=K[ve];B(K,ve,Oe({},it))}return K[ve][pe]={prop:pe,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:A},Ue(pe,O)};return Ge(arguments)?(A=_,z.apply(null,arguments)):(A=Array.prototype.slice.call(arguments),z)}}function Ge(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Ke(O,w,A){return si(O)?O:Array.isArray(O)?dt.array(O,{name:A}):C(O)?dt.object(O,void 0,{name:A}):W(O)?dt.map(O,{name:A}):ne(O)?dt.set(O,{name:A}):O}function yt(O){return O}function se(O){P(O);var w=ht(!0,function(z,K,pe,Ee,Fe){var it=pe?pe.initializer?pe.initializer.call(z):pe.value:void 0;Sr(z).addObservableProp(K,it,O)}),A=(p!==void 0&&p.env,w);return A.enhancer=O,A}var ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ge(O){return O==null?ce:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(ce);var Ne=se(Ke),He=se(function(O,w,A){return O==null||mr(O)||zr(O)||Un(O)||sr(O)?O:Array.isArray(O)?dt.array(O,{name:A,deep:!1}):C(O)?dt.object(O,void 0,{name:A,deep:!1}):W(O)?dt.map(O,{name:A,deep:!1}):ne(O)?dt.set(O,{name:A,deep:!1}):T(!1)}),Le=se(yt),Ot=se(function(O,w,A){return Ce(O,w)?w:O});function At(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?yt:Ke}var Et={box:function(O,w){arguments.length>2&&Me("box");var A=ge(w);return new jn(O,At(A),A.name,!0,A.equals)},array:function(O,w){arguments.length>2&&Me("array");var A=ge(w);return Ri(O,At(A),A.name)},map:function(O,w){arguments.length>2&&Me("map");var A=ge(w);return new hu(O,At(A),A.name)},set:function(O,w){arguments.length>2&&Me("set");var A=ge(w);return new lo(O,At(A),A.name)},object:function(O,w,A){typeof arguments[1]=="string"&&Me("object");var z=ge(A);if(z.proxy===!1)return wo({},O,w,z);var K=iu(z),pe=wo({},void 0,void 0,z),Ee=li(pe);return Qu(Ee,O,w,K),Ee},ref:Le,shallow:He,deep:Ne,struct:Ot},dt=function(O,w,A){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ne.apply(null,arguments);if(si(O))return O;var z=C(O)?dt.object(O,w,A):Array.isArray(O)?dt.array(O,w):W(O)?dt.map(O,w):ne(O)?dt.set(O,w):O;if(z!==O)return z;T(!1)};function Me(O){T("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(Et).forEach(function(O){return dt[O]=Et[O]});var ut,fe,rt=ht(!1,function(O,w,A,z,K){var pe=A.get,Ee=A.set,Fe=K[0]||{};Sr(O).addComputedProp(O,w,Oe({get:pe,set:Ee,context:O},Fe))}),Ct=rt({equals:$.structural}),nn=function(O,w,A){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return rt.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new ao(z)};nn.struct=Ct,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(ut||(ut={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(fe||(fe={}));var Rt=function(O){this.cause=O};function $t(O){return O instanceof Rt}function fn(O){switch(O.dependenciesState){case ut.UP_TO_DATE:return!1;case ut.NOT_TRACKING:case ut.STALE:return!0;case ut.POSSIBLY_STALE:for(var w=Ve(!0),A=ie(),z=O.observing,K=z.length,pe=0;pe<K;pe++){var Ee=z[pe];if(_o(Ee)){if(ct.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch(Fe){return me(A),We(w),!0}if(O.dependenciesState===ut.STALE)return me(A),We(w),!0}}return lt(O),me(A),We(w),!1}}function _n(){return ct.trackingDerivation!==null}function kt(O){var w=O.observers.size>0;ct.computationDepth>0&&w&&T(!1),ct.allowStateChanges||!w&&ct.enforceActions!=="strict"||T(!1)}function Nn(O,w,A){var z=Ve(!0);lt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ct.runId;var K,pe=ct.trackingDerivation;if(ct.trackingDerivation=O,ct.disableErrorBoundaries===!0)K=w.call(A);else try{K=w.call(A)}catch(Ee){K=new Rt(Ee)}return ct.trackingDerivation=pe,function(Ee){for(var Fe=Ee.observing,it=Ee.observing=Ee.newObserving,Xt=ut.UP_TO_DATE,Qe=0,pn=Ee.unboundDepsCount,Lt=0;Lt<pn;Lt++)(tn=it[Lt]).diffValue===0&&(tn.diffValue=1,Qe!==Lt&&(it[Qe]=tn),Qe++),tn.dependenciesState>Xt&&(Xt=tn.dependenciesState);for(it.length=Qe,Ee.newObserving=null,pn=Fe.length;pn--;)(tn=Fe[pn]).diffValue===0&&qa(tn,Ee),tn.diffValue=0;for(;Qe--;){var tn;(tn=it[Qe]).diffValue===1&&(tn.diffValue=0,ms(tn,Ee))}Xt!==ut.UP_TO_DATE&&(Ee.dependenciesState=Xt,Ee.onBecomeStale())}(O),We(z),K}function q(O){var w=O.observing;O.observing=[];for(var A=w.length;A--;)qa(w[A],O);O.dependenciesState=ut.NOT_TRACKING}function de(O){var w=ie();try{return O()}finally{me(w)}}function ie(){var O=ct.trackingDerivation;return ct.trackingDerivation=null,O}function me(O){ct.trackingDerivation=O}function Ve(O){var w=ct.allowStateReads;return ct.allowStateReads=O,w}function We(O){ct.allowStateReads=O}function lt(O){if(O.dependenciesState!==ut.UP_TO_DATE){O.dependenciesState=ut.UP_TO_DATE;for(var w=O.observing,A=w.length;A--;)w[A].lowestObserverState=ut.UP_TO_DATE}}var Ut=0,Yn=1,tr=Object.getOwnPropertyDescriptor(function(){},"name");tr&&tr.configurable;function Cn(O,w,A){var z=function(){return Fn(O,w,A||this,arguments)};return z.isMobxAction=!0,z}function Fn(O,w,A,z){var K=ot();try{return w.apply(A,z)}catch(pe){throw K.error=pe,pe}finally{gt(K)}}function ot(O,w,A){var z=0,K=ie();hr();var pe={prevDerivation:K,prevAllowStateChanges:Dt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:z,actionId:Yn++,parentActionId:Ut};return Ut=pe.actionId,pe}function gt(O){Ut!==O.actionId&&T("invalid action stack. did you forget to finish an action?"),Ut=O.parentActionId,O.error!==void 0&&(ct.suppressReactionErrors=!0),sn(O.prevAllowStateChanges),We(O.prevAllowStateReads),Er(),me(O.prevDerivation),O.notifySpy,ct.suppressReactionErrors=!1}function xt(O,w){var A,z=Dt(O);try{A=w()}finally{sn(z)}return A}function Dt(O){var w=ct.allowStateChanges;return ct.allowStateChanges=O,w}function sn(O){ct.allowStateChanges=O}var jn=function(O){function w(A,z,K,pe,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=$.default);var Fe=O.call(this,K)||this;return Fe.enhancer=z,Fe.name=K,Fe.equals=Ee,Fe.hasUnreportedChange=!1,Fe.value=z(A,void 0,K),Fe}return function(A,z){function K(){this.constructor=A}ae(A,z),A.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,O),w.prototype.dehanceValue=function(A){return this.dehancer!==void 0?this.dehancer(A):A},w.prototype.set=function(A){this.value,(A=this.prepareNewValue(A))!==ct.UNCHANGED&&this.setNewValue(A)},w.prototype.prepareNewValue=function(A){if(kt(this),gr(this)){var z=Zt(this,{object:this,type:"update",newValue:A});if(!z)return ct.UNCHANGED;A=z.newValue}return A=this.enhancer(A,this.value,this.name),this.equals(this.value,A)?ct.UNCHANGED:A},w.prototype.setNewValue=function(A){var z=this.value;this.value=A,this.reportChanged(),br(this)&&Jn(this,{type:"update",object:this,newValue:A,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(A){return Eo(this,A)},w.prototype.observe=function(A,z){return z&&A({object:this,type:"update",newValue:this.value,oldValue:void 0}),so(this,A)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return J(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(L),mo=G("ObservableValue",jn),ao=function(){function O(w){this.dependenciesState=ut.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ut.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,P(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Cn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?$.structural:$.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===ut.UP_TO_DATE&&(w.lowestObserverState=ut.POSSIBLY_STALE,w.observers.forEach(function(A){A.dependenciesState===ut.UP_TO_DATE&&(A.dependenciesState=ut.POSSIBLY_STALE,A.isTracing!==fe.NONE&&qr(A,w),A.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),ct.inBatch!==0||this.observers.size!==0||this.keepAlive?(ia(this),fn(this)&&this.trackAndCompute()&&function(A){A.lowestObserverState!==ut.STALE&&(A.lowestObserverState=ut.STALE,A.observers.forEach(function(z){z.dependenciesState===ut.POSSIBLY_STALE?z.dependenciesState=ut.STALE:z.dependenciesState===ut.UP_TO_DATE&&(A.lowestObserverState=ut.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),hr(),this.value=this.computeValue(!1),Er());var w=this.value;if($t(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if($t(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){P(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else P(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,A=this.dependenciesState===ut.NOT_TRACKING,z=this.computeValue(!0),K=A||$t(w)||$t(z)||!this.equals(w,z);return K&&(this.value=z),K},O.prototype.computeValue=function(w){var A;if(this.isComputing=!0,ct.computationDepth++,w)A=Nn(this,this.derivation,this.scope);else if(ct.disableErrorBoundaries===!0)A=this.derivation.call(this.scope);else try{A=this.derivation.call(this.scope)}catch(z){A=new Rt(z)}return ct.computationDepth--,this.isComputing=!1,A},O.prototype.suspend=function(){this.keepAlive||(q(this),this.value=void 0)},O.prototype.observe=function(w,A){var z=this,K=!0,pe=void 0;return ou(function(){var Ee=z.get();if(!K||A){var Fe=ie();w({type:"update",object:z,newValue:Ee,oldValue:pe}),me(Fe)}K=!1,pe=Ee})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return J(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),_o=G("ComputedValue",ao),ui=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},bs={};function Za(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:bs}var Ir=!0,Di=!1,ct=function(){var O=Za();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Ir=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new ui().version&&(Ir=!1),Ir?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new ui):(setTimeout(function(){Di||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ui)}();function ms(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function qa(O,w){O.observers.delete(w),O.observers.size===0&&Ja(O)}function Ja(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ct.pendingUnobservations.push(O))}function hr(){ct.inBatch++}function Er(){if(--ct.inBatch==0){eu();for(var O=ct.pendingUnobservations,w=0;w<O.length;w++){var A=O[w];A.isPendingUnobservation=!1,A.observers.size===0&&(A.isBeingObserved&&(A.isBeingObserved=!1,A.onBecomeUnobserved()),A instanceof ao&&A.suspend())}ct.pendingUnobservations=[]}}function ia(O){var w=ct.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ct.inBatch>0&&Ja(O),!1)}function qr(O,w){if(O.isTracing===fe.BREAK){var A=[];Lr(Mn(O),A,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof ao?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+A.join(`
`)+`
*/
    `)()}}function Lr(O,w,A){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(A).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return Lr(z,w,A+1)}))}var Jr=function(){function O(w,A,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=A,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=ut.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ct.pendingReactions.push(this),eu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(hr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Er()}},O.prototype.track=function(w){if(!this.isDisposed){hr(),this._isRunning=!0;var A=Nn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&q(this),$t(A)&&this.reportExceptionInDerivation(A.cause),Er()}},O.prototype.reportExceptionInDerivation=function(w){var A=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ct.disableErrorBoundaries)throw w;ct.suppressReactionErrors,ct.globalReactionErrorHandlers.forEach(function(z){return z(w,A)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(hr(),q(this),Er()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[Y]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var A=[],z=0;z<arguments.length;z++)A[z]=arguments[z];var K=!1;typeof A[A.length-1]=="boolean"&&(K=A.pop());var pe=Qt(A);if(!pe)return T(!1);pe.isTracing,fe.NONE,pe.isTracing=K?fe.BREAK:fe.LOG}(this,w)},O}(),Qa=function(O){return O()};function eu(){ct.inBatch>0||ct.isRunningReactions||Qa(Ku)}function Ku(){ct.isRunningReactions=!0;for(var O=ct.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var A=O.splice(0),z=0,K=A.length;z<K;z++)A[z].runReaction()}ct.isRunningReactions=!1}var Ni=G("Reaction",Jr);function $u(O){var w=Qa;Qa=function(A){return O(function(){return w(A)})}}function tu(O){return function(){}}function _s(){T(!1)}function Go(O){return function(w,A,z){if(z){if(z.value)return{value:Cn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Cn(O,K.call(this))}}}return Zu(O).apply(this,arguments)}}function Zu(O){return function(w,A,z){Object.defineProperty(w,A,{configurable:!0,enumerable:!1,get:function(){},set:function(K){B(this,A,Oo(O,K))}})}}var Oo=function(O,w,A,z){return arguments.length===1&&typeof O=="function"?Cn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Cn(O,w):arguments.length===1&&typeof O=="string"?Go(O):z!==!0?Go(w).apply(null,arguments):void B(O,w,Cn(O.name||w,A.value,this))};function nu(O,w){return Fn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function aa(O){return typeof O=="function"&&O.isMobxAction===!0}function ru(O,w,A){B(O,w,Cn(w,A.bind(O)))}function ou(O,w){w===void 0&&(w=g);var A,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)A=new Jr(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=qu(w),pe=!1;A=new Jr(z,function(){pe||(pe=!0,K(function(){pe=!1,A.isDisposed||A.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){O(A)}return A.schedule(),A.getDisposer()}Oo.bound=function(O,w,A,z){return z===!0?(ru(O,w,A.value),null):A?{configurable:!0,enumerable:!1,get:function(){return ru(this,w,A.value||A.initializer.call(this)),this[w]},set:_s}:{enumerable:!1,configurable:!0,set:function(K){ru(this,w,K)},get:function(){}}};var Os=function(O){return O()};function qu(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Os}function an(O,w,A){A===void 0&&(A=g);var z,K,pe,Ee=A.name||"Reaction@"+E(),Fe=Oo(Ee,A.onError?(z=A.onError,K=w,function(){try{return K.apply(this,arguments)}catch(On){z.call(this,On)}}):w),it=!A.scheduler&&!A.delay,Xt=qu(A),Qe=!0,pn=!1,Lt=A.compareStructural?$.structural:A.equals||$.default,tn=new Jr(Ee,function(){Qe||it?Fr():pn||(pn=!0,Xt(Fr))},A.onError,A.requiresObservable);function Fr(){if(pn=!1,!tn.isDisposed){var On=!1;tn.track(function(){var _r=O(tn);On=Qe||!Lt(pe,_r),pe=_r}),Qe&&A.fireImmediately&&Fe(pe,tn),Qe||On!==!0||Fe(pe,tn),Qe&&(Qe=!1)}}return tn.schedule(),tn.getDisposer()}function rn(O,w,A){return Ju("onBecomeUnobserved",O,w,A)}function Ju(O,w,A,z){var K=typeof z=="function"?Br(w,A):Br(w),pe=typeof z=="function"?z:A,Ee=O+"Listeners";return K[Ee]?K[Ee].add(pe):K[Ee]=new Set([pe]),typeof K[O]!="function"?T(!1):function(){var Fe=K[Ee];Fe&&(Fe.delete(pe),Fe.size===0&&delete K[Ee])}}function ci(O){var w=O.enforceActions,A=O.computedRequiresReaction,z=O.computedConfigurable,K=O.disableErrorBoundaries,pe=O.reactionScheduler,Ee=O.reactionRequiresObservable,Fe=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ct.pendingReactions.length||ct.inBatch||ct.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),Di=!0,Ir&&(--Za().__mobxInstanceCount==0&&(Za().__mobxGlobals=void 0),ct=new ui)),w!==void 0){var it=void 0;switch(w){case!0:case"observed":it=!0;break;case!1:case"never":it=!1;break;case"strict":case"always":it="strict";break;default:T("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ct.enforceActions=it,ct.allowStateChanges=it!==!0&&it!=="strict"}A!==void 0&&(ct.computedRequiresReaction=!!A),Ee!==void 0&&(ct.reactionRequiresObservable=!!Ee),Fe!==void 0&&(ct.observableRequiresReaction=!!Fe,ct.allowStateReads=!ct.observableRequiresReaction),z!==void 0&&(ct.computedConfigurable=!!z),K!==void 0&&(ct.disableErrorBoundaries=!!K),pe&&$u(pe)}function wo(O,w,A,z){var K=iu(z=ge(z));return et(O),Sr(O,z.name,K.enhancer),w&&Qu(O,w,A,K),O}function iu(O){return O.defaultDecorator||(O.deep===!1?Le:Ne)}function Qu(O,w,A,z){var K,pe;hr();try{var Ee=ee(w);try{for(var Fe=he(Ee),it=Fe.next();!it.done;it=Fe.next()){var Xt=it.value,Qe=Object.getOwnPropertyDescriptor(w,Xt),pn=(A&&Xt in A?A[Xt]:Qe.get?rt:z)(O,Xt,Qe,!0);pn&&Object.defineProperty(O,Xt,pn)}}catch(Lt){K={error:Lt}}finally{try{it&&!it.done&&(pe=Fe.return)&&pe.call(Fe)}finally{if(K)throw K.error}}}finally{Er()}}function Mn(O,w){return au(Br(O,w))}function au(O){var w,A,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,A=[],w.forEach(function(K){A.indexOf(K)===-1&&A.push(K)}),A).map(au)),z}var Ci=0;function uu(){this.message="FLOW_CANCELLED"}function ua(O){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var A,z=this,K=arguments,pe=++Ci,Ee=Oo(w+" - runid: "+pe+" - init",O).apply(z,K),Fe=void 0,it=new Promise(function(Xt,Qe){var pn=0;function Lt(On){var _r;Fe=void 0;try{_r=Oo(w+" - runid: "+pe+" - yield "+pn++,Ee.next).call(Ee,On)}catch(jo){return Qe(jo)}Fr(_r)}function tn(On){var _r;Fe=void 0;try{_r=Oo(w+" - runid: "+pe+" - yield "+pn++,Ee.throw).call(Ee,On)}catch(jo){return Qe(jo)}Fr(_r)}function Fr(On){if(!On||typeof On.then!="function")return On.done?Xt(On.value):(Fe=Promise.resolve(On.value)).then(Lt,tn);On.then(Fr,Qe)}A=Qe,Lt(void 0)});return it.cancel=Oo(w+" - runid: "+pe+" - cancel",function(){try{Fe&&nr(Fe);var Xt=Ee.return(void 0),Qe=Promise.resolve(Xt.value);Qe.then(M,M),nr(Qe),A(new uu)}catch(pn){A(pn)}}),it}}function nr(O){typeof O.cancel=="function"&&O.cancel()}function cu(O,w){if(O==null)return!1;if(w!==void 0){if(mr(O)===!1||!O[Y].values.has(w))return!1;var A=Br(O,w);return _o(A)}return _o(O)}function ec(O){return arguments.length>1?T(!1):cu(O)}function su(O,w){return typeof w!="string"?T(!1):cu(O,w)}function ca(O,w){return O!=null&&(w!==void 0?!!mr(O)&&O[Y].values.has(w):mr(O)||!!O[Y]||H(O)||Ni(O)||_o(O))}function si(O){return arguments.length!==1&&T(!1),ca(O)}function uo(O){return mr(O)?O[Y].getKeys():Un(O)||sr(O)?Array.from(O.keys()):zr(O)?O.map(function(w,A){return A}):T(!1)}function hn(O){return mr(O)?uo(O).map(function(w){return O[w]}):Un(O)?uo(O).map(function(w){return O.get(w)}):sr(O)?Array.from(O.values()):zr(O)?O.slice():T(!1)}function tc(O){return mr(O)?uo(O).map(function(w){return[w,O[w]]}):Un(O)?uo(O).map(function(w){return[w,O.get(w)]}):sr(O)?Array.from(O.entries()):zr(O)?O.map(function(w,A){return[A,w]}):T(!1)}function yr(O,w,A){if(arguments.length!==2||sr(O))if(mr(O)){var z=O[Y],K=z.values.get(w);K?z.write(w,A):z.addObservableProp(w,A,z.defaultEnhancer)}else if(Un(O))O.set(w,A);else if(sr(O))O.add(w);else{if(!zr(O))return T(!1);typeof w!="number"&&(w=parseInt(w,10)),P(w>=0,"Not a valid index: '"+w+"'"),hr(),w>=O.length&&(O.length=w+1),O[w]=A,Er()}else{hr();var pe=w;try{for(var Ee in pe)yr(O,Ee,pe[Ee])}finally{Er()}}}function nc(O,w,A,z){return typeof A=="function"?function(K,pe,Ee,Fe){return po(K,pe).observe(Ee,Fe)}(O,w,A,z):function(K,pe,Ee){return po(K).observe(pe,Ee)}(O,w,A)}uu.prototype=Object.create(Error.prototype);var rc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(O,w,A,z){return z.detectCycles&&O.set(w,A),A}function vr(O,w,A){if(!w.recurseEverything&&!si(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(mo(O))return vr(O.get(),w,A);if(si(O)&&uo(O),w.detectCycles===!0&&O!==null&&A.has(O))return A.get(O);if(zr(O)||Array.isArray(O)){var z=cr(A,O,[],w),K=O.map(function(Lt){return vr(Lt,w,A)});z.length=K.length;for(var pe=0,Ee=K.length;pe<Ee;pe++)z[pe]=K[pe];return z}if(sr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=cr(A,O,new Set,w);return O.forEach(function(Lt){Fe.add(vr(Lt,w,A))}),Fe}var it=cr(A,O,[],w);return O.forEach(function(Lt){it.push(vr(Lt,w,A))}),it}if(Un(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Xt=cr(A,O,new Map,w);return O.forEach(function(Lt,tn){Xt.set(tn,vr(Lt,w,A))}),Xt}var Qe=cr(A,O,{},w);return O.forEach(function(Lt,tn){Qe[tn]=vr(Lt,w,A)}),Qe}var pn=cr(A,O,{},w);return ue(O).forEach(function(Lt){pn[Lt]=vr(O[Lt],w,A)}),pn}function lu(O,w){var A;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=rc),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(A=new Map),vr(O,w,A)}function Qt(O){switch(O.length){case 0:return ct.trackingDerivation;case 1:return Br(O[0]);case 2:return Br(O[0],O[1])}}function Vn(O,w){w===void 0&&(w=void 0),hr();try{return O.apply(w)}finally{Er()}}function sa(O,w,A){return arguments.length===1||w&&typeof w=="object"?fu(O,w):oc(O,w,A||{})}function oc(O,w,A){var z;typeof A.timeout=="number"&&(z=setTimeout(function(){if(!pe[Y].isDisposed){pe();var Ee=new Error("WHEN_TIMEOUT");if(!A.onError)throw Ee;A.onError(Ee)}},A.timeout)),A.name=A.name||"When@"+E();var K=Cn(A.name+"-effect",w),pe=ou(function(Ee){O()&&(Ee.dispose(),z&&clearTimeout(z),K())},A);return pe}function fu(O,w){var A,z=new Promise(function(K,pe){var Ee=oc(O,K,Oe(Oe({},w),{onError:pe}));A=function(){Ee(),pe("WHEN_CANCELLED")}});return z.cancel=A,z}function la(O){return O[Y]}function co(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var xo={has:function(O,w){if(w===Y||w==="constructor"||w===Se)return!0;var A=la(O);return co(w)?A.has(w):w in O},get:function(O,w){if(w===Y||w==="constructor"||w===Se)return O[w];var A=la(O),z=A.values.get(w);if(z instanceof L){var K=z.get();return K===void 0&&A.has(w),K}return co(w)&&A.has(w),O[w]},set:function(O,w,A){return!!co(w)&&(yr(O,w,A),!0)},deleteProperty:function(O,w){return!!co(w)&&(la(O).remove(w),!0)},ownKeys:function(O){return la(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return T("Dynamic observable objects cannot be frozen"),!1}};function li(O){var w=new Proxy(O,xo);return O[Y].proxy=w,w}function gr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Eo(O,w){var A=O.interceptors||(O.interceptors=[]);return A.push(w),D(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function Zt(O,w){var A=ie();try{for(var z=Be(O.interceptors||[]),K=0,pe=z.length;K<pe&&(P(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{me(A)}}function br(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function so(O,w){var A=O.changeListeners||(O.changeListeners=[]);return A.push(w),D(function(){var z=A.indexOf(w);z!==-1&&A.splice(z,1)})}function Jn(O,w){var A=ie(),z=O.changeListeners;if(z){for(var K=0,pe=(z=z.slice()).length;K<pe;K++)z[K](w);me(A)}}var fa={get:function(O,w){return w===Y?O[Y]:w==="length"?O[Y].getArrayLength():typeof w=="number"?Pn.get.call(O,w):typeof w!="string"||isNaN(w)?Pn.hasOwnProperty(w)?Pn[w]:O[w]:Pn.get.call(O,parseInt(w))},set:function(O,w,A){return w==="length"&&O[Y].setArrayLength(A),typeof w=="number"&&Pn.set.call(O,w,A),typeof w=="symbol"||isNaN(w)?O[w]=A:Pn.set.call(O,parseInt(w),A),!0},preventExtensions:function(O){return T("Observable arrays cannot be frozen"),!1}};function Ri(O,w,A,z){A===void 0&&(A="ObservableArray@"+E()),z===void 0&&(z=!1);var K,pe,Ee,Fe=new pu(A,w,z);K=Fe.values,pe=Y,Ee=Fe,Object.defineProperty(K,pe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var it=new Proxy(Fe.values,fa);if(Fe.proxy=it,O&&O.length){var Xt=Dt(!0);Fe.spliceWithArray(0,0,O),sn(Xt)}return it}var pu=function(){function O(w,A,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(w||"ObservableArray@"+E()),this.enhancer=function(K,pe){return A(K,pe,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Eo(this,w)},O.prototype.observe=function(w,A){return A===void 0&&(A=!1),A&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),so(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var A=this.values.length;if(w!==A)if(w>A){for(var z=new Array(w-A),K=0;K<w-A;K++)z[K]=void 0;this.spliceWithArray(A,0,z)}else this.spliceWithArray(w,A-w)},O.prototype.updateArrayLength=function(w,A){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=A},O.prototype.spliceWithArray=function(w,A,z){var K=this;kt(this.atom);var pe=this.values.length;if(w===void 0?w=0:w>pe?w=pe:w<0&&(w=Math.max(0,pe+w)),A=arguments.length===1?pe-w:A==null?0:Math.max(0,Math.min(A,pe-w)),z===void 0&&(z=_),gr(this)){var Ee=Zt(this,{object:this.proxy,type:"splice",index:w,removedCount:A,added:z});if(!Ee)return _;A=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(it){return K.enhancer(it,void 0)});var Fe=this.spliceItemsIntoValues(w,A,z);return A===0&&z.length===0||this.notifyArraySplice(w,z,Fe),this.dehanceValues(Fe)},O.prototype.spliceItemsIntoValues=function(w,A,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,Be([w,A],z));var pe=this.values.slice(w,w+A);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+A)),pe},O.prototype.notifyArrayChildUpdate=function(w,A,z){var K=!this.owned&&!1,pe=br(this),Ee=pe||K?{object:this.proxy,type:"update",index:w,newValue:A,oldValue:z}:null;this.atom.reportChanged(),pe&&Jn(this,Ee)},O.prototype.notifyArraySplice=function(w,A,z){var K=!this.owned&&!1,pe=br(this),Ee=pe||K?{object:this.proxy,type:"splice",index:w,removed:z,added:A,removedCount:z.length,addedCount:A.length}:null;this.atom.reportChanged(),pe&&Jn(this,Ee)},O}(),Pn={intercept:function(O){return this[Y].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[Y].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[Y];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var A=[],z=2;z<arguments.length;z++)A[z-2]=arguments[z];var K=this[Y];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,A)},spliceWithArray:function(O,w,A){return this[Y].spliceWithArray(O,w,A)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[Y];return A.spliceWithArray(A.values.length,0,O),A.values.length},pop:function(){return this.splice(Math.max(this[Y].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var A=this[Y];return A.spliceWithArray(0,0,O),A.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[Y],A=w.dehanceValues(w.values).indexOf(O);return A>-1&&(this.splice(A,1),!0)},get:function(O){var w=this[Y];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var A=this[Y],z=A.values;if(O<z.length){kt(A.atom);var K=z[O];if(gr(A)){var pe=Zt(A,{type:"update",object:A.proxy,index:O,newValue:w});if(!pe)return;w=pe.newValue}(w=A.enhancer(w,K))!==K&&(z[O]=w,A.notifyArrayChildUpdate(O,w,K))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);A.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Pn[O]=function(){var w=this[Y];w.atom.reportObserved();var A=w.dehanceValues(w.values);return A[O].apply(A,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Pn[O]=function(w,A){var z=this,K=this[Y];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(pe,Ee){return w.call(A,pe,Ee,z)},A)})}),["reduce","reduceRight"].forEach(function(O){Pn[O]=function(){var w=this,A=this[Y];A.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,pe,Ee){return pe=A.dehanceValue(pe),z(K,pe,Ee,w)},A.values[O].apply(A.values,arguments)}});var pa,So=G("ObservableArrayAdministration",pu);function zr(O){return R(O)&&So(O[Y])}var du,ws={},hu=function(){function O(w,A,z){if(A===void 0&&(A=Ke),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=A,this.name=z,this[pa]=ws,this._keysAtom=V(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var A=this;if(!ct.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new jn(this._has(w),yt,this.name+"."+te(w)+"?",!1);this._hasMap.set(w,K),rn(K,function(){return A._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,A){var z=this._has(w);if(gr(this)){var K=Zt(this,{type:z?"update":"add",object:this,newValue:A,name:w});if(!K)return this;A=K.newValue}return z?this._updateValue(w,A):this._addValue(w,A),this},O.prototype.delete=function(w){var A=this;if(kt(this._keysAtom),gr(this)&&!(K=Zt(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=br(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Vn(function(){A._keysAtom.reportChanged(),A._updateHasMapEntry(w,!1),A._data.get(w).setNewValue(void 0),A._data.delete(w)}),z&&Jn(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,A){var z=this._hasMap.get(w);z&&z.setNewValue(A)},O.prototype._updateValue=function(w,A){var z=this._data.get(w);if((A=z.prepareNewValue(A))!==ct.UNCHANGED){var K=br(this),pe=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:A}:null;z.setNewValue(A),K&&Jn(this,pe)}},O.prototype._addValue=function(w,A){var z=this;kt(this._keysAtom),Vn(function(){var Ee=new jn(A,z.enhancer,z.name+"."+te(w),!1);z._data.set(w,Ee),A=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=br(this),pe=K?{type:"add",object:this,name:w,newValue:A}:null;K&&Jn(this,pe)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,A=this.keys();return Wt({next:function(){var z=A.next(),K=z.done,pe=z.value;return{done:K,value:K?void 0:w.get(pe)}}})},O.prototype.entries=function(){var w=this,A=this.keys();return Wt({next:function(){var z=A.next(),K=z.done,pe=z.value;return{done:K,value:K?void 0:[pe,w.get(pe)]}}})},O.prototype[pa=Y,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,A){var z,K;try{for(var pe=he(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Pe(Ee.value,2),it=Fe[0],Xt=Fe[1];w.call(A,Xt,it,this)}}catch(Qe){z={error:Qe}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var A=this;return Un(w)&&(w=w.toJS()),Vn(function(){var z=Dt(!0);try{C(w)?ue(w).forEach(function(K){return A.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var pe=Pe(K,2),Ee=pe[0],Fe=pe[1];return A.set(Ee,Fe)}):W(w)?(w.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,pe){return A.set(pe,K)})):w!=null&&T("Cannot initialize map from "+w)}finally{sn(z)}}),this},O.prototype.clear=function(){var w=this;Vn(function(){de(function(){var A,z;try{for(var K=he(w.keys()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){A={error:Fe}}finally{try{pe&&!pe.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.replace=function(w){var A=this;return Vn(function(){var z,K,pe,Ee,Fe=function(lr){if(W(lr)||Un(lr))return lr;if(Array.isArray(lr))return new Map(lr);if(C(lr)){var Li=new Map;for(var pi in lr)Li.set(pi,lr[pi]);return Li}return T("Cannot convert to map from '"+lr+"'")}(w),it=new Map,Xt=!1;try{for(var Qe=he(A._data.keys()),pn=Qe.next();!pn.done;pn=Qe.next()){var Lt=pn.value;if(!Fe.has(Lt))if(A.delete(Lt))Xt=!0;else{var tn=A._data.get(Lt);it.set(Lt,tn)}}}catch(lr){z={error:lr}}finally{try{pn&&!pn.done&&(K=Qe.return)&&K.call(Qe)}finally{if(z)throw z.error}}try{for(var Fr=he(Fe.entries()),On=Fr.next();!On.done;On=Fr.next()){var _r=Pe(On.value,2),jo=(Lt=_r[0],tn=_r[1],A._data.has(Lt));if(A.set(Lt,tn),A._data.has(Lt)){var Po=A._data.get(Lt);it.set(Lt,Po),jo||(Xt=!0)}}}catch(lr){pe={error:lr}}finally{try{On&&!On.done&&(Ee=Fr.return)&&Ee.call(Fr)}finally{if(pe)throw pe.error}}if(!Xt)if(A._data.size!==it.size)A._keysAtom.reportChanged();else for(var Ii=A._data.keys(),vu=it.keys(),Xo=Ii.next(),ha=vu.next();!Xo.done;){if(Xo.value!==ha.value){A._keysAtom.reportChanged();break}Xo=Ii.next(),ha=vu.next()}A._data=it}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,A,z={};try{for(var K=he(this),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Fe=Ee[0],it=Ee[1];z[typeof Fe=="symbol"?Fe:te(Fe)]=it}}catch(Xt){w={error:Xt}}finally{try{pe&&!pe.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(A){return te(A)+": "+w.get(A)}).join(", ")+" }]"},O.prototype.observe=function(w,A){return so(this,w)},O.prototype.intercept=function(w){return Eo(this,w)},O}(),Un=G("ObservableMap",hu),fi={},lo=function(){function O(w,A,z){if(A===void 0&&(A=Ke),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[du]=fi,this._data=new Set,this._atom=V(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,pe){return A(K,pe,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;Vn(function(){de(function(){var A,z;try{for(var K=he(w._data.values()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){A={error:Fe}}finally{try{pe&&!pe.done&&(z=K.return)&&z.call(K)}finally{if(A)throw A.error}}})})},O.prototype.forEach=function(w,A){var z,K;try{for(var pe=he(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Ee.value;w.call(A,Fe,Fe,this)}}catch(it){z={error:it}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var A=this;if(kt(this._atom),gr(this)&&!(K=Zt(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Vn(function(){A._data.add(A.enhancer(w,void 0)),A._atom.reportChanged()});var z=br(this),K=z?{type:"add",object:this,newValue:w}:null;z&&Jn(this,K)}return this},O.prototype.delete=function(w){var A=this;if(gr(this)&&!(K=Zt(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=br(this),K=z?{type:"delete",object:this,oldValue:w}:null;return Vn(function(){A._atom.reportChanged(),A._data.delete(w)}),z&&Jn(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,A=Array.from(this.keys()),z=Array.from(this.values());return Wt({next:function(){var K=w;return w+=1,K<z.length?{value:[A[K],z[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,A=0,z=Array.from(this._data.values());return Wt({next:function(){return A<z.length?{value:w.dehanceValue(z[A++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var A=this;return sr(w)&&(w=w.toJS()),Vn(function(){var z=Dt(!0);try{Array.isArray(w)||ne(w)?(A.clear(),w.forEach(function(K){return A.add(K)})):w!=null&&T("Cannot initialize set from "+w)}finally{sn(z)}}),this},O.prototype.observe=function(w,A){return so(this,w)},O.prototype.intercept=function(w){return Eo(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[du=Y,Symbol.iterator]=function(){return this.values()},O}(),sr=G("ObservableSet",lo),yu=function(){function O(w,A,z,K){A===void 0&&(A=new Map),this.target=w,this.values=A,this.name=z,this.defaultEnhancer=K,this.keysAtom=new L(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,A){var z=this.target,K=this.values.get(w);if(K instanceof ao)K.set(A);else{if(gr(this)){if(!(Ee=Zt(this,{type:"update",object:this.proxy||z,name:w,newValue:A})))return;A=Ee.newValue}if((A=K.prepareNewValue(A))!==ct.UNCHANGED){var pe=br(this),Ee=pe?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:A}:null;K.setNewValue(A),pe&&Jn(this,Ee)}}},O.prototype.has=function(w){var A=this.pendingKeys||(this.pendingKeys=new Map),z=A.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new jn(K,yt,this.name+"."+te(w)+"?",!1),A.set(w,z),z.get()},O.prototype.addObservableProp=function(w,A,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(gr(this)){var pe=Zt(this,{object:this.proxy||K,name:w,type:"add",newValue:A});if(!pe)return;A=pe.newValue}var Ee=new jn(A,z,this.name+"."+te(w),!1);this.values.set(w,Ee),A=Ee.value,Object.defineProperty(K,w,function(Fe){return Ho[Fe]||(Ho[Fe]={configurable:!0,enumerable:!0,get:function(){return this[Y].read(Fe)},set:function(it){this[Y].write(Fe,it)}})}(w)),this.notifyPropertyAddition(w,A)},O.prototype.addComputedProp=function(w,A,z){var K,pe,Ee,Fe=this.target;z.name=z.name||this.name+"."+te(A),this.values.set(A,new ao(z)),(w===Fe||(K=w,pe=A,!(Ee=Object.getOwnPropertyDescriptor(K,pe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,A,function(it){return da[it]||(da[it]={configurable:ct.computedConfigurable,enumerable:!1,get:function(){return fo(this).read(it)},set:function(Xt){fo(this).write(it,Xt)}})}(A))},O.prototype.remove=function(w){if(this.values.has(w)){var A=this.target;if(gr(this)&&!(it=Zt(this,{object:this.proxy||A,name:w,type:"remove"})))return;try{hr();var z=br(this),K=!1,pe=this.values.get(w),Ee=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var it=z?{type:"remove",object:this.proxy||A,oldValue:Ee,name:w}:null;z&&Jn(this,it)}finally{Er()}}},O.prototype.illegalAccess=function(w,A){},O.prototype.observe=function(w,A){return so(this,w)},O.prototype.intercept=function(w){return Eo(this,w)},O.prototype.notifyPropertyAddition=function(w,A){var z=br(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:A}:null;if(z&&Jn(this,K),this.pendingKeys){var pe=this.pendingKeys.get(w);pe&&pe.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,A;this.keysAtom.reportObserved();var z=[];try{for(var K=he(this.values),pe=K.next();!pe.done;pe=K.next()){var Ee=Pe(pe.value,2),Fe=Ee[0];Ee[1]instanceof jn&&z.push(Fe)}}catch(it){w={error:it}}finally{try{pe&&!pe.done&&(A=K.return)&&A.call(K)}finally{if(w)throw w.error}}return z},O}();function Sr(O,w,A){if(w===void 0&&(w=""),A===void 0&&(A=Ke),Object.prototype.hasOwnProperty.call(O,Y))return O[Y];C(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new yu(O,new Map,te(w),A);return B(O,Y,z),z}var Ho=Object.create(null),da=Object.create(null);function fo(O){var w=O[Y];return w||(et(O),O[Y])}var jr=G("ObservableObjectAdministration",yu);function mr(O){return!!R(O)&&(et(O),jr(O[Y]))}function Br(O,w){if(typeof O=="object"&&O!==null){if(zr(O))return w!==void 0&&T(!1),O[Y].atom;if(sr(O))return O[Y];if(Un(O)){var A=O;return w===void 0?A._keysAtom:((z=A._data.get(w)||A._hasMap.get(w))||T(!1),z)}var z;if(et(O),w&&!O[Y]&&O[w],mr(O))return w?((z=O[Y].values.get(w))||T(!1),z):T(!1);if(H(O)||_o(O)||Ni(O))return O}else if(typeof O=="function"&&Ni(O[Y]))return O[Y];return T(!1)}function po(O,w){return O||T("Expecting some object"),w!==void 0?po(Br(O,w)):H(O)||_o(O)||Ni(O)||Un(O)||sr(O)?O:(et(O),O[Y]?O[Y]:void T(!1))}var we=Object.prototype.toString;function Ce(O,w,A){return A===void 0&&(A=-1),Ie(O,w,A)}function Ie(O,w,A,z,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var pe=typeof O;if(pe!=="function"&&pe!=="object"&&typeof w!="object")return!1;var Ee=we.call(O);if(Ee!==we.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":A>=0&&A++}O=Ze(O),w=Ze(w);var Fe=Ee==="[object Array]";if(!Fe){if(typeof O!="object"||typeof w!="object")return!1;var it=O.constructor,Xt=w.constructor;if(it!==Xt&&!(typeof it=="function"&&it instanceof it&&typeof Xt=="function"&&Xt instanceof Xt)&&"constructor"in O&&"constructor"in w)return!1}if(A===0)return!1;A<0&&(A=-1),K=K||[];for(var Qe=(z=z||[]).length;Qe--;)if(z[Qe]===O)return K[Qe]===w;if(z.push(O),K.push(w),Fe){if((Qe=O.length)!==w.length)return!1;for(;Qe--;)if(!Ie(O[Qe],w[Qe],A-1,z,K))return!1}else{var pn=Object.keys(O),Lt=void 0;if(Qe=pn.length,Object.keys(w).length!==Qe)return!1;for(;Qe--;)if(!It(w,Lt=pn[Qe])||!Ie(O[Lt],w[Lt],A-1,z,K))return!1}return z.pop(),K.pop(),!0}function Ze(O){return zr(O)?O.slice():W(O)||Un(O)||ne(O)||sr(O)?Array.from(O.entries()):O}function It(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Wt(O){return O[Symbol.iterator]=yn,O}function yn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:tu,extras:{getDebugName:function(O,w){return(w!==void 0?Br(O,w):mr(O)||Un(O)||sr(O)?po(O):Br(O)).name}},$mobx:Y})}).call(this,o(160),o(66))},function(s,l,o){var p=o(113),d=o(42),_=o(179);p||d(Object.prototype,"toString",_,{unsafe:!0})},function(s,l,o){var p=o(41),d=o(100),_=o(78),g=o(58),E=o(116),T="Array Iterator",P=g.set,D=g.getterFor(T);s.exports=E(Array,"Array",function(M,R){P(this,{type:T,target:p(M),index:0,kind:R})},function(){var M=D(this),R=M.target,C=M.kind,B=M.index++;return!R||B>=R.length?(M.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:B,done:!1}:C=="values"?{value:R[B],done:!1}:{value:[B,R[B]],done:!1}},"values"),_.Arguments=_.Array,d("keys"),d("values"),d("entries")},function(s,l,o){var p=o(17),d=o(7),_=o(46),g=o(74),E=o(34),T=o(15),P=o(69),D=o(36),M=o(108),R=o(18),C=o(35),B=o(96),G=o(30),W=o(33),ne=o(54),ue=o(87),te=o(32),J=o(40),ee=o(41),Y=o(86),L=o(39),H=o(67),V=o(60),$=o(75),ae=o(72),Oe=o(139),he=o(112),Pe=o(50),Be=o(38),Se=o(84),ve=o(98),je=o(42),Ae=o(89),Ue=o(93),et=o(70),ht=o(90),Ge=o(28),Ke=o(140),yt=o(141),se=o(76),ce=o(58),ge=o(77).forEach,Ne=Ue("hidden"),He="Symbol",Le=Ge("toPrimitive"),Ot=ce.set,At=ce.getterFor(He),Et=Object.prototype,dt=d.Symbol,Me=dt&&dt.prototype,ut=d.TypeError,fe=d.QObject,rt=_("JSON","stringify"),Ct=Pe.f,nn=Be.f,Rt=Oe.f,$t=Se.f,fn=T([].push),_n=Ae("symbols"),kt=Ae("op-symbols"),Nn=Ae("string-to-symbol-registry"),q=Ae("symbol-to-string-registry"),de=Ae("wks"),ie=!fe||!fe.prototype||!fe.prototype.findChild,me=D&&R(function(){return V(nn({},"a",{get:function(){return nn(this,"a",{value:7}).a}})).a!=7})?function(ot,gt,xt){var Dt=Ct(Et,gt);Dt&&delete Et[gt],nn(ot,gt,xt),Dt&&ot!==Et&&nn(Et,gt,Dt)}:nn,Ve=function(ot,gt){var xt=_n[ot]=V(Me);return Ot(xt,{type:He,tag:ot,description:gt}),D||(xt.description=gt),xt},We=function(ot,gt,xt){ot===Et&&We(kt,gt,xt),te(ot);var Dt=Y(gt);return te(xt),C(_n,Dt)?(xt.enumerable?(C(ot,Ne)&&ot[Ne][Dt]&&(ot[Ne][Dt]=!1),xt=V(xt,{enumerable:H(0,!1)})):(C(ot,Ne)||nn(ot,Ne,H(1,{})),ot[Ne][Dt]=!0),me(ot,Dt,xt)):nn(ot,Dt,xt)},lt=function(ot,gt){te(ot);var xt=ee(gt),Dt=$(xt).concat(Cn(xt));return ge(Dt,function(sn){D&&!E(Ut,xt,sn)||We(ot,sn,xt[sn])}),ot},Ut=function(ot){var gt=Y(ot),xt=E($t,this,gt);return!(this===Et&&C(_n,gt)&&!C(kt,gt))&&(!(xt||!C(this,gt)||!C(_n,gt)||C(this,Ne)&&this[Ne][gt])||xt)},Yn=function(ot,gt){var xt=ee(ot),Dt=Y(gt);if(xt!==Et||!C(_n,Dt)||C(kt,Dt)){var sn=Ct(xt,Dt);return!sn||!C(_n,Dt)||C(xt,Ne)&&xt[Ne][Dt]||(sn.enumerable=!0),sn}},tr=function(ot){var gt=Rt(ee(ot)),xt=[];return ge(gt,function(Dt){C(_n,Dt)||C(et,Dt)||fn(xt,Dt)}),xt},Cn=function(ot){var gt=ot===Et,xt=Rt(gt?kt:ee(ot)),Dt=[];return ge(xt,function(sn){!C(_n,sn)||gt&&!C(Et,sn)||fn(Dt,_n[sn])}),Dt};if(M||(dt=function(){if(ne(Me,this))throw ut("Symbol is not a constructor");var ot=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,gt=ht(ot),xt=function(Dt){this===Et&&E(xt,kt,Dt),C(this,Ne)&&C(this[Ne],gt)&&(this[Ne][gt]=!1),me(this,gt,H(1,Dt))};return D&&ie&&me(Et,gt,{configurable:!0,set:xt}),Ve(gt,ot)},je(Me=dt.prototype,"toString",function(){return At(this).tag}),je(dt,"withoutSetter",function(ot){return Ve(ht(ot),ot)}),Se.f=Ut,Be.f=We,Pe.f=Yn,ae.f=Oe.f=tr,he.f=Cn,Ke.f=function(ot){return Ve(Ge(ot),ot)},D&&(nn(Me,"description",{configurable:!0,get:function(){return At(this).description}}),P||je(Et,"propertyIsEnumerable",Ut,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:dt}),ge($(de),function(ot){yt(ot)}),p({target:He,stat:!0,forced:!M},{for:function(ot){var gt=L(ot);if(C(Nn,gt))return Nn[gt];var xt=dt(gt);return Nn[gt]=xt,q[xt]=gt,xt},keyFor:function(ot){if(!ue(ot))throw ut(ot+" is not a symbol");if(C(q,ot))return q[ot]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),p({target:"Object",stat:!0,forced:!M,sham:!D},{create:function(ot,gt){return gt===void 0?V(ot):lt(V(ot),gt)},defineProperty:We,defineProperties:lt,getOwnPropertyDescriptor:Yn}),p({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:tr,getOwnPropertySymbols:Cn}),p({target:"Object",stat:!0,forced:R(function(){he.f(1)})},{getOwnPropertySymbols:function(ot){return he.f(J(ot))}}),rt&&p({target:"JSON",stat:!0,forced:!M||R(function(){var ot=dt();return rt([ot])!="[null]"||rt({a:ot})!="{}"||rt(Object(ot))!="{}"})},{stringify:function(ot,gt,xt){var Dt=ve(arguments),sn=gt;if((W(gt)||ot!==void 0)&&!ue(ot))return B(gt)||(gt=function(jn,mo){if(G(sn)&&(mo=E(sn,this,jn,mo)),!ue(mo))return mo}),Dt[1]=gt,g(rt,null,Dt)}}),!Me[Le]){var Fn=Me.valueOf;je(Me,Le,function(ot){return E(Fn,this)})}se(dt,He),et[Ne]=!0},function(s,l,o){var p=o(7),d=o(152),_=o(153),g=o(3),E=o(57),T=o(28),P=T("iterator"),D=T("toStringTag"),M=g.values,R=function(B,G){if(B){if(B[P]!==M)try{E(B,P,M)}catch(ne){B[P]=M}if(B[D]||E(B,D,G),d[G]){for(var W in g)if(B[W]!==g[W])try{E(B,W,g[W])}catch(ne){B[W]=g[W]}}}};for(var C in d)R(p[C]&&p[C].prototype,C);R(_,"DOMTokenList")},function(s,l,o){var p=o(151).charAt,d=o(39),_=o(58),g=o(116),E="String Iterator",T=_.set,P=_.getterFor(E);g(String,"String",function(D){T(this,{type:E,string:d(D),index:0})},function(){var D,M=P(this),R=M.string,C=M.index;return C>=R.length?{value:void 0,done:!0}:(D=p(R,C),M.index+=D.length,{value:D,done:!1})})},function(s,l,o){(function(p){var d=function(_){return _&&_.Math==Math&&_};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,o(66))},function(s,l,o){var p=o(17),d=o(36),_=o(7),g=o(15),E=o(35),T=o(30),P=o(54),D=o(39),M=o(38).f,R=o(134),C=_.Symbol,B=C&&C.prototype;if(d&&T(C)&&(!("description"in B)||C().description!==void 0)){var G={},W=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:D(arguments[0]),H=P(B,this)?new C(L):L===void 0?C():C(L);return L===""&&(G[H]=!0),H};R(W,C),W.prototype=B,B.constructor=W;var ne=String(C("test"))=="Symbol(test)",ue=g(B.toString),te=g(B.valueOf),J=/^Symbol\((.*)\)[^)]+$/,ee=g("".replace),Y=g("".slice);M(B,"description",{configurable:!0,get:function(){var L=te(this),H=ue(L);if(E(G,L))return"";var V=ne?Y(H,7,-1):ee(H,J,"$1");return V===""?void 0:V}}),p({global:!0,forced:!0},{Symbol:W})}},function(s,l,o){o(141)("iterator")},function(s,l,o){o.d(l,"a",function(){return g.a}),o.d(l,"c",function(){return g.e}),o.d(l,"h",function(){return J}),o.d(l,"i",function(){return ne}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Pe}),o.d(l,"e",function(){return je}),o.d(l,"f",function(){return Be}),o.d(l,"g",function(){return _n});var p,d,_,g=o(0),E=0,T=[],P=g.i.__b,D=g.i.__r,M=g.i.diffed,R=g.i.__c,C=g.i.unmount;function B(q,de){g.i.__h&&g.i.__h(d,q,E||de),E=0;var ie=d.__H||(d.__H={__:[],__h:[]});return q>=ie.__.length&&ie.__.push({}),ie.__[q]}function G(q){return E=1,W(ae,q)}function W(q,de,ie){var me=B(p++,2);return me.t=q,me.__c||(me.__=[ie?ie(de):ae(void 0,de),function(Ve){var We=me.t(me.__[0],Ve);me.__[0]!==We&&(me.__=[We,me.__[1]],me.__c.setState({}))}],me.__c=d),me.__}function ne(q,de){var ie=B(p++,3);!g.i.__s&&$(ie.__H,de)&&(ie.__=q,ie.__H=de,d.__H.__h.push(ie))}function ue(q,de){var ie=B(p++,4);!g.i.__s&&$(ie.__H,de)&&(ie.__=q,ie.__H=de,d.__h.push(ie))}function te(q,de){var ie=B(p++,7);return $(ie.__H,de)&&(ie.__=q(),ie.__H=de,ie.__h=q),ie.__}function J(q,de){return E=8,te(function(){return q},de)}function ee(){var q;for(T.sort(function(de,ie){return de.__v.__b-ie.__v.__b});q=T.pop();)if(q.__P)try{q.__H.__h.forEach(H),q.__H.__h.forEach(V),q.__H.__h=[]}catch(de){q.__H.__h=[],g.i.__e(de,q.__v)}}g.i.__b=function(q){d=null,P&&P(q)},g.i.__r=function(q){D&&D(q),p=0;var de=(d=q.__c).__H;de&&(de.__h.forEach(H),de.__h.forEach(V),de.__h=[])},g.i.diffed=function(q){M&&M(q);var de=q.__c;de&&de.__H&&de.__H.__h.length&&(T.push(de)!==1&&_===g.i.requestAnimationFrame||((_=g.i.requestAnimationFrame)||L)(ee)),d=null},g.i.__c=function(q,de){de.some(function(ie){try{ie.__h.forEach(H),ie.__h=ie.__h.filter(function(me){return!me.__||V(me)})}catch(me){de.some(function(Ve){Ve.__h&&(Ve.__h=[])}),de=[],g.i.__e(me,ie.__v)}}),R&&R(q,de)},g.i.unmount=function(q){C&&C(q);var de,ie=q.__c;ie&&ie.__H&&(ie.__H.__.forEach(function(me){try{H(me)}catch(Ve){de=Ve}}),de&&g.i.__e(de,ie.__v))};var Y=typeof requestAnimationFrame=="function";function L(q){var de,ie=function(){clearTimeout(me),Y&&cancelAnimationFrame(de),setTimeout(q)},me=setTimeout(ie,100);Y&&(de=requestAnimationFrame(ie))}function H(q){var de=d,ie=q.__c;typeof ie=="function"&&(q.__c=void 0,ie()),d=de}function V(q){var de=d;q.__c=q.__(),d=de}function $(q,de){return!q||q.length!==de.length||de.some(function(ie,me){return ie!==q[me]})}function ae(q,de){return typeof de=="function"?de(q):de}function Oe(q,de){for(var ie in de)q[ie]=de[ie];return q}function he(q,de){for(var ie in q)if(ie!=="__source"&&!(ie in de))return!0;for(var me in de)if(me!=="__source"&&q[me]!==de[me])return!0;return!1}function Pe(q){this.props=q}function Be(q,de){function ie(Ve){var We=this.props.ref,lt=We==Ve.ref;return!lt&&We&&(We.call?We(null):We.current=null),de?!de(this.props,Ve)||!lt:he(this.props,Ve)}function me(Ve){return this.shouldComponentUpdate=ie,Object(g.e)(q,Ve)}return me.displayName="Memo("+(q.displayName||q.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(Pe.prototype=new g.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(q,de){return he(this.props,q)||he(this.state,de)};var Se=g.i.__b;g.i.__b=function(q){q.type&&q.type.__f&&q.ref&&(q.props.ref=q.ref,q.ref=null),Se&&Se(q)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function je(q){function de(ie,me){var Ve=Oe({},ie);return delete Ve.ref,q(Ve,!(me=ie.ref||me)||typeof me=="object"&&!("current"in me)?null:me)}return de.$$typeof=ve,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(q.displayName||q.name)+")",de}var Ae=function(q,de){return q==null?null:Object(g.k)(Object(g.k)(q).map(de))},Ue={map:Ae,forEach:Ae,count:function(q){return q?Object(g.k)(q).length:0},only:function(q){var de=Object(g.k)(q);if(de.length!==1)throw"Children.only";return de[0]},toArray:g.k},et=g.i.__e;g.i.__e=function(q,de,ie){if(q.then){for(var me,Ve=de;Ve=Ve.__;)if((me=Ve.__c)&&me.__c)return de.__e==null&&(de.__e=ie.__e,de.__k=ie.__k),me.__c(q,de)}et(q,de,ie)};var ht=g.i.unmount;function Ge(q,de,ie){return q&&(q.__c&&q.__c.__H&&(q.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),q.__c.__H=null),(q=Oe({},q)).__c!=null&&(q.__c.__P===ie&&(q.__c.__P=de),q.__c=null),q.__k=q.__k&&q.__k.map(function(me){return Ge(me,de,ie)})),q}function Ke(q,de,ie){return q&&(q.__v=null,q.__k=q.__k&&q.__k.map(function(me){return Ke(me,de,ie)}),q.__c&&q.__c.__P===de&&(q.__e&&ie.insertBefore(q.__e,q.__d),q.__c.__e=!0,q.__c.__P=ie)),q}function yt(){this.__u=0,this.t=null,this.__b=null}function se(q){var de=q.__.__c;return de&&de.__e&&de.__e(q)}function ce(){this.u=null,this.o=null}g.i.unmount=function(q){var de=q.__c;de&&de.__R&&de.__R(),de&&q.__h===!0&&(q.type=null),ht&&ht(q)},(yt.prototype=new g.a).__c=function(q,de){var ie=de.__c,me=this;me.t==null&&(me.t=[]),me.t.push(ie);var Ve=se(me.__v),We=!1,lt=function(){We||(We=!0,ie.__R=null,Ve?Ve(Ut):Ut())};ie.__R=lt;var Ut=function(){if(!--me.__u){if(me.state.__e){var tr=me.state.__e;me.__v.__k[0]=Ke(tr,tr.__c.__P,tr.__c.__O)}var Cn;for(me.setState({__e:me.__b=null});Cn=me.t.pop();)Cn.forceUpdate()}},Yn=de.__h===!0;me.__u++||Yn||me.setState({__e:me.__b=me.__v.__k[0]}),q.then(lt,lt)},yt.prototype.componentWillUnmount=function(){this.t=[]},yt.prototype.render=function(q,de){if(this.__b){if(this.__v.__k){var ie=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=Ge(this.__b,ie,me.__O=me.__P)}this.__b=null}var Ve=de.__e&&Object(g.e)(g.b,null,q.fallback);return Ve&&(Ve.__h=null),[Object(g.e)(g.b,null,de.__e?null:q.children),Ve]};var ge=function(q,de,ie){if(++ie[1]===ie[0]&&q.o.delete(de),q.props.revealOrder&&(q.props.revealOrder[0]!=="t"||!q.o.size))for(ie=q.u;ie;){for(;ie.length>3;)ie.pop()();if(ie[1]<ie[0])break;q.u=ie=ie[2]}};function Ne(q){return this.getChildContext=function(){return q.context},q.children}function He(q){var de=this,ie=q.i;de.componentWillUnmount=function(){Object(g.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==ie&&de.componentWillUnmount(),q.__v?(de.l||(de.i=ie,de.l={nodeType:1,parentNode:ie,childNodes:[],appendChild:function(me){this.childNodes.push(me),de.i.appendChild(me)},insertBefore:function(me,Ve){this.childNodes.push(me),de.i.appendChild(me)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),de.i.removeChild(me)}}),Object(g.j)(Object(g.e)(Ne,{context:de.context},q.__v),de.l)):de.l&&de.componentWillUnmount()}(ce.prototype=new g.a).__e=function(q){var de=this,ie=se(de.__v),me=de.o.get(q);return me[0]++,function(Ve){var We=function(){de.props.revealOrder?(me.push(Ve),ge(de,q,me)):Ve()};ie?ie(We):We()}},ce.prototype.render=function(q){this.u=null,this.o=new Map;var de=Object(g.k)(q.children);q.revealOrder&&q.revealOrder[0]==="b"&&de.reverse();for(var ie=de.length;ie--;)this.o.set(de[ie],this.u=[1,0,this.u]);return q.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var q=this;this.o.forEach(function(de,ie){ge(q,ie,de)})};var Le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Ot=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,At=typeof document!="undefined",Et=function(q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(q)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(q){Object.defineProperty(g.a.prototype,q,{configurable:!0,get:function(){return this["UNSAFE_"+q]},set:function(de){Object.defineProperty(this,q,{configurable:!0,writable:!0,value:de})}})});var dt=g.i.event;function Me(){}function ut(){return this.cancelBubble}function fe(){return this.defaultPrevented}g.i.event=function(q){return dt&&(q=dt(q)),q.persist=Me,q.isPropagationStopped=ut,q.isDefaultPrevented=fe,q.nativeEvent=q};var rt,Ct={configurable:!0,get:function(){return this.class}},nn=g.i.vnode;g.i.vnode=function(q){var de=q.type,ie=q.props,me=ie;if(typeof de=="string"){var Ve=de.indexOf("-")===-1;for(var We in me={},ie){var lt=ie[We];At&&We==="children"&&de==="noscript"||We==="value"&&"defaultValue"in ie&&lt==null||(We==="defaultValue"&&"value"in ie&&ie.value==null?We="value":We==="download"&&lt===!0?lt="":/ondoubleclick/i.test(We)?We="ondblclick":/^onchange(textarea|input)/i.test(We+de)&&!Et(ie.type)?We="oninput":/^onfocus$/i.test(We)?We="onfocusin":/^onblur$/i.test(We)?We="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(We)?We=We.toLowerCase():Ve&&Ot.test(We)?We=We.replace(/[A-Z0-9]/,"-$&").toLowerCase():lt===null&&(lt=void 0),me[We]=lt)}de=="select"&&me.multiple&&Array.isArray(me.value)&&(me.value=Object(g.k)(ie.children).forEach(function(Ut){Ut.props.selected=me.value.indexOf(Ut.props.value)!=-1})),de=="select"&&me.defaultValue!=null&&(me.value=Object(g.k)(ie.children).forEach(function(Ut){Ut.props.selected=me.multiple?me.defaultValue.indexOf(Ut.props.value)!=-1:me.defaultValue==Ut.props.value})),q.props=me,ie.class!=ie.className&&(Ct.enumerable="className"in ie,ie.className!=null&&(me.class=ie.className),Object.defineProperty(me,"className",Ct))}q.$$typeof=Le,nn&&nn(q)};var Rt=g.i.__r;g.i.__r=function(q){Rt&&Rt(q),rt=q.__c};var $t={ReactCurrentDispatcher:{current:{readContext:function(q){return rt.__n[q.__c].props.value}}}};function fn(q){return!!q&&q.$$typeof===Le}var _n=function(q,de){return q(de)},kt=g.b,Nn={useState:G,useReducer:W,useEffect:ne,useLayoutEffect:ue,useRef:function(q){return E=5,te(function(){return{current:q}},[])},useImperativeHandle:function(q,de,ie){E=6,ue(function(){typeof q=="function"?q(de()):q&&(q.current=de())},ie==null?ie:ie.concat(q))},useMemo:te,useCallback:J,useContext:function(q){var de=d.context[q.__c],ie=B(p++,9);return ie.c=q,de?(ie.__==null&&(ie.__=!0,de.sub(d)),de.props.value):q.__},useDebugValue:function(q,de){g.i.useDebugValue&&g.i.useDebugValue(de?de(q):q)},version:"17.0.2",Children:Ue,render:function(q,de,ie){return de.__k==null&&(de.textContent=""),Object(g.j)(q,de),typeof ie=="function"&&ie(),q?q.__c:null},hydrate:function(q,de,ie){return Object(g.h)(q,de),typeof ie=="function"&&ie(),q?q.__c:null},unmountComponentAtNode:function(q){return!!q.__k&&(Object(g.j)(null,q),!0)},createPortal:function(q,de){return Object(g.e)(He,{__v:q,i:de})},createElement:g.e,createContext:g.d,createFactory:function(q){return g.e.bind(null,q)},cloneElement:function(q){return fn(q)?g.c.apply(null,arguments):q},createRef:g.f,Fragment:g.b,isValidElement:fn,findDOMNode:function(q){return q&&(q.base||q.nodeType===1&&q)||null},Component:g.a,PureComponent:Pe,memo:Be,forwardRef:je,flushSync:function(q,de){return q(de)},unstable_batchedUpdates:_n,StrictMode:kt,Suspense:yt,SuspenseList:ce,lazy:function(q){var de,ie,me;function Ve(We){if(de||(de=q()).then(function(lt){ie=lt.default||lt},function(lt){me=lt}),me)throw me;if(!ie)throw de;return Object(g.e)(ie,We)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:$t};l.d=Nn},function(s,l,o){var p=o(7),d=o(152),_=o(153),g=o(187),E=o(57),T=function(D){if(D&&D.forEach!==g)try{E(D,"forEach",g)}catch(M){D.forEach=g}};for(var P in d)d[P]&&T(p[P]&&p[P].prototype);T(_)},function(s,l,o){o(17)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(s,l,o){var p=o(17),d=o(18),_=o(40),g=o(101),E=o(143);p({target:"Object",stat:!0,forced:d(function(){g(1)}),sham:!E},{getPrototypeOf:function(T){return g(_(T))}})},function(s,l,o){var p=o(17),d=o(46),_=o(74),g=o(202),E=o(162),T=o(32),P=o(33),D=o(60),M=o(18),R=d("Reflect","construct"),C=Object.prototype,B=[].push,G=M(function(){function ue(){}return!(R(function(){},[],ue)instanceof ue)}),W=!M(function(){R(function(){})}),ne=G||W;p({target:"Reflect",stat:!0,forced:ne,sham:ne},{construct:function(ue,te){E(ue),T(te);var J=arguments.length<3?ue:E(arguments[2]);if(W&&!G)return R(ue,te,J);if(ue==J){switch(te.length){case 0:return new ue;case 1:return new ue(te[0]);case 2:return new ue(te[0],te[1]);case 3:return new ue(te[0],te[1],te[2]);case 4:return new ue(te[0],te[1],te[2],te[3])}var ee=[null];return _(B,ee,te),new(_(g,ue,ee))}var Y=J.prototype,L=D(P(Y)?Y:C),H=_(ue,L,te);return P(H)?H:L}})},function(s,l){var o=Function.prototype,p=o.bind,d=o.call,_=p&&p.bind(d);s.exports=p?function(g){return g&&_(d,g)}:function(g){return g&&function(){return d.apply(g,arguments)}}},function(s,l,o){var p=o(17),d=o(7),_=o(96),g=o(99),E=o(33),T=o(73),P=o(45),D=o(41),M=o(62),R=o(28),C=o(79),B=o(98),G=C("slice"),W=R("species"),ne=d.Array,ue=Math.max;p({target:"Array",proto:!0,forced:!G},{slice:function(te,J){var ee,Y,L,H=D(this),V=P(H),$=T(te,V),ae=T(J===void 0?V:J,V);if(_(H)&&(ee=H.constructor,(g(ee)&&(ee===ne||_(ee.prototype))||E(ee)&&(ee=ee[W])===null)&&(ee=void 0),ee===ne||ee===void 0))return B(H,$,ae);for(Y=new(ee===void 0?ne:ee)(ue(ae-$,0)),L=0;$<ae;$++,L++)$ in H&&M(Y,L,H[$]);return Y.length=L,Y}})},function(s,l,o){var p=o(7),d=o(50).f,_=o(57),g=o(42),E=o(110),T=o(134),P=o(95);s.exports=function(D,M){var R,C,B,G,W,ne=D.target,ue=D.global,te=D.stat;if(R=ue?p:te?p[ne]||E(ne,{}):(p[ne]||{}).prototype)for(C in M){if(G=M[C],B=D.noTargetGet?(W=d(R,C))&&W.value:R[C],!P(ue?C:ne+(te?".":"#")+C,D.forced)&&B!==void 0){if(typeof G==typeof B)continue;T(G,B)}(D.sham||B&&B.sham)&&_(G,"sham",!0),g(R,C,G,D)}}},function(s,l){s.exports=function(o){try{return!!o()}catch(p){return!0}}},function(s,l,o){var p=o(17),d=o(103);p({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,l,o){var p=o(17),d=o(40),_=o(75);p({target:"Object",stat:!0,forced:o(18)(function(){_(1)})},{keys:function(g){return _(d(g))}})},function(s,l,o){var p=o(36),d=o(71).EXISTS,_=o(15),g=o(38).f,E=Function.prototype,T=_(E.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,D=_(P.exec);p&&!d&&g(E,"name",{configurable:!0,get:function(){try{return D(P,T(this))[1]}catch(M){return""}}})},function(s,l,o){var p=o(17),d=o(18),_=o(41),g=o(50).f,E=o(36),T=d(function(){g(1)});p({target:"Object",stat:!0,forced:!E||T,sham:!E},{getOwnPropertyDescriptor:function(P,D){return g(_(P),D)}})},function(s,l,o){var p=o(17),d=o(188);p({target:"Array",stat:!0,forced:!o(120)(function(_){Array.from(_)})},{from:d})},function(s,l,o){var p=o(17),d=o(77).filter;p({target:"Array",proto:!0,forced:!o(79)("filter")},{filter:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}})},function(s,l,o){var p=o(17),d=o(36),_=o(135),g=o(41),E=o(50),T=o(62);p({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(P){for(var D,M,R=g(P),C=E.f,B=_(R),G={},W=0;B.length>W;)(M=C(R,D=B[W++]))!==void 0&&T(G,D,M);return G}})},function(s,l,o){var p=o(17),d=o(7),_=o(18),g=o(96),E=o(33),T=o(40),P=o(45),D=o(62),M=o(115),R=o(79),C=o(28),B=o(68),G=C("isConcatSpreadable"),W=9007199254740991,ne="Maximum allowed index exceeded",ue=d.TypeError,te=B>=51||!_(function(){var Y=[];return Y[G]=!1,Y.concat()[0]!==Y}),J=R("concat"),ee=function(Y){if(!E(Y))return!1;var L=Y[G];return L!==void 0?!!L:g(Y)};p({target:"Array",proto:!0,forced:!te||!J},{concat:function(Y){var L,H,V,$,ae,Oe=T(this),he=M(Oe,0),Pe=0;for(L=-1,V=arguments.length;L<V;L++)if(ee(ae=L===-1?Oe:arguments[L])){if(Pe+($=P(ae))>W)throw ue(ne);for(H=0;H<$;H++,Pe++)H in ae&&D(he,Pe,ae[H])}else{if(Pe>=W)throw ue(ne);D(he,Pe++,ae)}return he.length=Pe,he}})},,function(s,l,o){var p=o(7),d=o(89),_=o(35),g=o(90),E=o(108),T=o(132),P=d("wks"),D=p.Symbol,M=D&&D.for,R=T?D:D&&D.withoutSetter||g;s.exports=function(C){if(!_(P,C)||!E&&typeof P[C]!="string"){var B="Symbol."+C;E&&_(D,C)?P[C]=D[C]:P[C]=T&&M?M(B):R(B)}return P[C]}},function(s,l,o){var p=o(17),d=o(201);p({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,l){s.exports=function(o){return typeof o=="function"}},function(s,l,o){var p=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,_=p.a||d||Function("return this")();l.a=_},function(s,l,o){var p=o(7),d=o(33),_=p.String,g=p.TypeError;s.exports=function(E){if(d(E))return E;throw g(_(E)+" is not an object")}},function(s,l,o){var p=o(30);s.exports=function(d){return typeof d=="object"?d!==null:p(d)}},function(s,l){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,l,o){var p=o(15),d=o(40),_=p({}.hasOwnProperty);s.exports=Object.hasOwn||function(g,E){return _(d(g),E)}},function(s,l,o){var p=o(18);s.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,l,o){var p=o(17),d=o(77).map;p({target:"Array",proto:!0,forced:!o(79)("map")},{map:function(_){return d(this,_,arguments.length>1?arguments[1]:void 0)}})},function(s,l,o){var p=o(7),d=o(36),_=o(133),g=o(32),E=o(86),T=p.TypeError,P=Object.defineProperty;l.f=d?P:function(D,M,R){if(g(D),M=E(M),g(R),_)try{return P(D,M,R)}catch(C){}if("get"in R||"set"in R)throw T("Accessors not supported");return"value"in R&&(D[M]=R.value),D}},function(s,l,o){var p=o(7),d=o(97),_=p.String;s.exports=function(g){if(d(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return _(g)}},function(s,l,o){var p=o(7),d=o(44),_=p.Object;s.exports=function(g){return _(d(g))}},function(s,l,o){var p=o(85),d=o(44);s.exports=function(_){return p(d(_))}},function(s,l,o){var p=o(7),d=o(30),_=o(35),g=o(57),E=o(110),T=o(92),P=o(58),D=o(71).CONFIGURABLE,M=P.get,R=P.enforce,C=String(String).split("String");(s.exports=function(B,G,W,ne){var ue,te=!!ne&&!!ne.unsafe,J=!!ne&&!!ne.enumerable,ee=!!ne&&!!ne.noTargetGet,Y=ne&&ne.name!==void 0?ne.name:G;d(W)&&(String(Y).slice(0,7)==="Symbol("&&(Y="["+String(Y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!_(W,"name")||D&&W.name!==Y)&&g(W,"name",Y),(ue=R(W)).source||(ue.source=C.join(typeof Y=="string"?Y:""))),B!==p?(te?!ee&&B[G]&&(J=!0):delete B[G],J?B[G]=W:g(B,G,W)):J?B[G]=W:E(G,W)})(Function.prototype,"toString",function(){return d(this)&&M(this).source||T(this)})},function(s,l,o){(function(p){o.d(l,"d",function(){return g}),o.d(l,"c",function(){return E}),o.d(l,"b",function(){return T}),o.d(l,"a",function(){return D});var d=o(10),_=function(M,R){var C=typeof Symbol=="function"&&M[Symbol.iterator];if(!C)return M;var B,G,W=C.call(M),ne=[];try{for(;(R===void 0||R-- >0)&&!(B=W.next()).done;)ne.push(B.value)}catch(ue){G={error:ue}}finally{try{B&&!B.done&&(C=W.return)&&C.call(W)}finally{if(G)throw G.error}}return ne};function g(){var M=_(Object(d.j)(0),2)[1];return Object(d.h)(function(){M(function(R){return R+1})},[])}function E(M){if(!M||typeof M!="object")return!1;var R=Object.getPrototypeOf(M);return!R||R===Object.prototype}function T(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var P={};function D(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:P}}).call(this,o(66))},function(s,l,o){var p=o(7).TypeError;s.exports=function(d){if(d==null)throw p("Can't call method on "+d);return d}},function(s,l,o){var p=o(94);s.exports=function(d){return p(d.length)}},function(s,l,o){var p=o(7),d=o(30),_=function(g){return d(g)?g:void 0};s.exports=function(g,E){return arguments.length<2?_(p[g]):p[g]&&p[g][E]}},function(s,l,o){var p=o(17),d=o(34),_=o(33),g=o(32),E=o(203),T=o(50),P=o(101);p({target:"Reflect",stat:!0},{get:function D(M,R){var C,B,G=arguments.length<3?M:arguments[2];return g(M)===G?M[R]:(C=T.f(M,R))?E(C)?C.value:C.get===void 0?void 0:d(C.get,G):_(B=P(M))?D(B,R,G):void 0}})},function(s,l,o){(function(p){var d=o(31),_=o(171),g=h&&!h.nodeType&&h,E=g&&typeof p=="object"&&p&&!p.nodeType&&p,T=E&&E.exports===g?d.a.Buffer:void 0,P=(T?T.isBuffer:void 0)||_.a;l.a=P}).call(this,o(122)(s))},function(s,l,o){(function(p){var d=o(106),_=h&&!h.nodeType&&h,g=_&&typeof p=="object"&&p&&!p.nodeType&&p,E=g&&g.exports===_&&d.a.process,T=function(){try{var P=g&&g.require&&g.require("util").types;return P||E&&E.binding&&E.binding("util")}catch(D){}}();l.a=T}).call(this,o(122)(s))},function(s,l,o){var p=o(36),d=o(34),_=o(84),g=o(67),E=o(41),T=o(86),P=o(35),D=o(133),M=Object.getOwnPropertyDescriptor;l.f=p?M:function(R,C){if(R=E(R),C=T(C),D)try{return M(R,C)}catch(B){}if(P(R,C))return g(!d(_.f,R,C),R[C])}},function(s,l,o){var p=o(15),d=p({}.toString),_=p("".slice);s.exports=function(g){return _(d(g),8,-1)}},function(s,l,o){o(182)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},o(186))},function(s,l,o){var p=o(17),d=o(218).entries;p({target:"Object",stat:!0},{entries:function(_){return d(_)}})},function(s,l,o){var p=o(15);s.exports=p({}.isPrototypeOf)},function(s,l,o){var p=o(46);s.exports=p("navigator","userAgent")||""},function(s,l,o){var p=o(7),d=o(30),_=o(88),g=p.TypeError;s.exports=function(E){if(d(E))return E;throw g(_(E)+" is not a function")}},function(s,l,o){var p=o(36),d=o(38),_=o(67);s.exports=p?function(g,E,T){return d.f(g,E,_(1,T))}:function(g,E,T){return g[E]=T,g}},function(s,l,o){var p,d,_,g=o(175),E=o(7),T=o(15),P=o(33),D=o(57),M=o(35),R=o(109),C=o(93),B=o(70),G="Object already initialized",W=E.TypeError,ne=E.WeakMap;if(g||R.state){var ue=R.state||(R.state=new ne),te=T(ue.get),J=T(ue.has),ee=T(ue.set);p=function(L,H){if(J(ue,L))throw new W(G);return H.facade=L,ee(ue,L,H),H},d=function(L){return te(ue,L)||{}},_=function(L){return J(ue,L)}}else{var Y=C("state");B[Y]=!0,p=function(L,H){if(M(L,Y))throw new W(G);return H.facade=L,D(L,Y,H),H},d=function(L){return M(L,Y)?L[Y]:{}},_=function(L){return M(L,Y)}}s.exports={set:p,get:d,has:_,enforce:function(L){return _(L)?d(L):p(L,{})},getterFor:function(L){return function(H){var V;if(!P(H)||(V=d(H)).type!==L)throw W("Incompatible receiver, "+L+" required");return V}}}},function(s,l){var o=Math.ceil,p=Math.floor;s.exports=function(d){var _=+d;return _!=_||_===0?0:(_>0?p:o)(_)}},function(s,l,o){var p,d=o(32),_=o(176),g=o(111),E=o(70),T=o(138),P=o(91),D=o(93),M=D("IE_PROTO"),R=function(){},C=function(W){return"<script>"+W+"<\/script>"},B=function(W){W.write(C("")),W.close();var ne=W.parentWindow.Object;return W=null,ne},G=function(){try{p=new ActiveXObject("htmlfile")}catch(te){}var W,ne;G=typeof document!="undefined"?document.domain&&p?B(p):((ne=P("iframe")).style.display="none",T.appendChild(ne),ne.src="javascript:",(W=ne.contentWindow.document).open(),W.write(C("document.F=Object")),W.close(),W.F):B(p);for(var ue=g.length;ue--;)delete G.prototype[g[ue]];return G()};E[M]=!0,s.exports=Object.create||function(W,ne){var ue;return W!==null?(R.prototype=d(W),ue=new R,R.prototype=null,ue[M]=W):ue=G(),ne===void 0?ue:_(ue,ne)}},function(s,l,o){var p=o(56);s.exports=function(d,_){var g=d[_];return g==null?void 0:p(g)}},function(s,l,o){var p=o(86),d=o(38),_=o(67);s.exports=function(g,E,T){var P=p(E);P in g?d.f(g,P,_(0,T)):g[P]=T}},function(s,l,o){var p=o(15),d=o(56),_=p(p.bind);s.exports=function(g,E){return d(g),E===void 0?g:_?_(g,E):function(){return g.apply(E,arguments)}}},function(s,l,o){var p=o(17),d=o(15),_=o(85),g=o(41),E=o(121),T=d([].join),P=_!=Object,D=E("join",",");p({target:"Array",proto:!0,forced:P||!D},{join:function(M){return T(g(this),M===void 0?",":M)}})},function(s,l,o){var p=o(17),d=o(215),_=o(100);p({target:"Array",proto:!0},{fill:d}),_("fill")},function(s,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(p){typeof window=="object"&&(o=window)}s.exports=o},function(s,l){s.exports=function(o,p){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:p}}},function(s,l,o){var p,d,_=o(7),g=o(55),E=_.process,T=_.Deno,P=E&&E.versions||T&&T.version,D=P&&P.v8;D&&(d=(p=D.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!d&&g&&(!(p=g.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=g.match(/Chrome\/(\d+)/))&&(d=+p[1]),s.exports=d},function(s,l){s.exports=!1},function(s,l){s.exports={}},function(s,l,o){var p=o(36),d=o(35),_=Function.prototype,g=p&&Object.getOwnPropertyDescriptor,E=d(_,"name"),T=E&&function(){}.name==="something",P=E&&(!p||p&&g(_,"name").configurable);s.exports={EXISTS:E,PROPER:T,CONFIGURABLE:P}},function(s,l,o){var p=o(136),d=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(_){return p(_,d)}},function(s,l,o){var p=o(59),d=Math.max,_=Math.min;s.exports=function(g,E){var T=p(g);return T<0?d(T+E,0):_(T,E)}},function(s,l){var o=Function.prototype,p=o.apply,d=o.bind,_=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(d?_.bind(p):function(){return _.apply(p,arguments)})},function(s,l,o){var p=o(136),d=o(111);s.exports=Object.keys||function(_){return p(_,d)}},function(s,l,o){var p=o(38).f,d=o(35),_=o(28)("toStringTag");s.exports=function(g,E,T){g&&!d(g=T?g:g.prototype,_)&&p(g,_,{configurable:!0,value:E})}},function(s,l,o){var p=o(63),d=o(15),_=o(85),g=o(40),E=o(45),T=o(115),P=d([].push),D=function(M){var R=M==1,C=M==2,B=M==3,G=M==4,W=M==6,ne=M==7,ue=M==5||W;return function(te,J,ee,Y){for(var L,H,V=g(te),$=_(V),ae=p(J,ee),Oe=E($),he=0,Pe=Y||T,Be=R?Pe(te,Oe):C||ne?Pe(te,0):void 0;Oe>he;he++)if((ue||he in $)&&(H=ae(L=$[he],he,V),M))if(R)Be[he]=H;else if(H)switch(M){case 3:return!0;case 5:return L;case 6:return he;case 2:P(Be,L)}else switch(M){case 4:return!1;case 7:P(Be,L)}return W?-1:B||G?G:Be}};s.exports={forEach:D(0),map:D(1),filter:D(2),some:D(3),every:D(4),find:D(5),findIndex:D(6),filterReject:D(7)}},function(s,l){s.exports={}},function(s,l,o){var p=o(18),d=o(28),_=o(68),g=d("species");s.exports=function(E){return _>=51||!p(function(){var T=[];return(T.constructor={})[g]=function(){return{foo:1}},T[E](Boolean).foo!==1})}},function(s,l,o){var p=o(15),d=o(71).PROPER,_=o(42),g=o(32),E=o(54),T=o(39),P=o(18),D=o(154),M="toString",R=RegExp.prototype,C=R.toString,B=p(D),G=P(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),W=d&&C.name!=M;(G||W)&&_(RegExp.prototype,M,function(){var ne=g(this),ue=T(ne.source),te=ne.flags;return"/"+ue+"/"+T(te===void 0&&E(R,ne)&&!("flags"in R)?B(ne):te)},{unsafe:!0})},function(s,l,o){var p=o(74),d=o(34),_=o(15),g=o(123),E=o(159),T=o(32),P=o(44),D=o(161),M=o(124),R=o(94),C=o(39),B=o(61),G=o(114),W=o(125),ne=o(103),ue=o(155),te=o(18),J=ue.UNSUPPORTED_Y,ee=4294967295,Y=Math.min,L=[].push,H=_(/./.exec),V=_(L),$=_("".slice),ae=!te(function(){var Oe=/(?:)/,he=Oe.exec;Oe.exec=function(){return he.apply(this,arguments)};var Pe="ab".split(Oe);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});g("split",function(Oe,he,Pe){var Be;return Be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Se,ve){var je=C(P(this)),Ae=ve===void 0?ee:ve>>>0;if(Ae===0)return[];if(Se===void 0)return[je];if(!E(Se))return d(he,je,Se,Ae);for(var Ue,et,ht,Ge=[],Ke=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Se.sticky?"y":""),yt=0,se=new RegExp(Se.source,Ke+"g");(Ue=d(ne,se,je))&&!((et=se.lastIndex)>yt&&(V(Ge,$(je,yt,Ue.index)),Ue.length>1&&Ue.index<je.length&&p(L,Ge,G(Ue,1)),ht=Ue[0].length,yt=et,Ge.length>=Ae));)se.lastIndex===Ue.index&&se.lastIndex++;return yt===je.length?!ht&&H(se,"")||V(Ge,""):V(Ge,$(je,yt)),Ge.length>Ae?G(Ge,0,Ae):Ge}:"0".split(void 0,0).length?function(Se,ve){return Se===void 0&&ve===0?[]:d(he,this,Se,ve)}:he,[function(Se,ve){var je=P(this),Ae=Se==null?void 0:B(Se,Oe);return Ae?d(Ae,Se,je,ve):d(Be,C(je),Se,ve)},function(Se,ve){var je=T(this),Ae=C(Se),Ue=Pe(Be,je,Ae,ve,Be!==he);if(Ue.done)return Ue.value;var et=D(je,RegExp),ht=je.unicode,Ge=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(J?"g":"y"),Ke=new et(J?"^(?:"+je.source+")":je,Ge),yt=ve===void 0?ee:ve>>>0;if(yt===0)return[];if(Ae.length===0)return W(Ke,Ae)===null?[Ae]:[];for(var se=0,ce=0,ge=[];ce<Ae.length;){Ke.lastIndex=J?0:ce;var Ne,He=W(Ke,J?$(Ae,ce):Ae);if(He===null||(Ne=Y(R(Ke.lastIndex+(J?ce:0)),Ae.length))===se)ce=M(Ae,ce,ht);else{if(V(ge,$(Ae,se,ce)),ge.length===yt)return ge;for(var Le=1;Le<=He.length-1;Le++)if(V(ge,He[Le]),ge.length===yt)return ge;ce=se=Ne}}return V(ge,$(Ae,se)),ge}]},!ae,J)},function(s,l,o){var p=o(36),d=o(7),_=o(15),g=o(95),E=o(42),T=o(35),P=o(148),D=o(54),M=o(87),R=o(131),C=o(18),B=o(72).f,G=o(50).f,W=o(38).f,ne=o(166),ue=o(164).trim,te="Number",J=d.Number,ee=J.prototype,Y=d.TypeError,L=_("".slice),H=_("".charCodeAt),V=function(Be){var Se=R(Be,"number");return typeof Se=="bigint"?Se:$(Se)},$=function(Be){var Se,ve,je,Ae,Ue,et,ht,Ge,Ke=R(Be,"number");if(M(Ke))throw Y("Cannot convert a Symbol value to a number");if(typeof Ke=="string"&&Ke.length>2){if(Ke=ue(Ke),(Se=H(Ke,0))===43||Se===45){if((ve=H(Ke,2))===88||ve===120)return NaN}else if(Se===48){switch(H(Ke,1)){case 66:case 98:je=2,Ae=49;break;case 79:case 111:je=8,Ae=55;break;default:return+Ke}for(et=(Ue=L(Ke,2)).length,ht=0;ht<et;ht++)if((Ge=H(Ue,ht))<48||Ge>Ae)return NaN;return parseInt(Ue,je)}}return+Ke};if(g(te,!J(" 0o1")||!J("0b1")||J("+0x1"))){for(var ae,Oe=function(Be){var Se=arguments.length<1?0:J(V(Be)),ve=this;return D(ee,ve)&&C(function(){ne(ve)})?P(Object(Se),ve,Oe):Se},he=p?B(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;he.length>Pe;Pe++)T(J,ae=he[Pe])&&!T(Oe,ae)&&W(Oe,ae,G(J,ae));Oe.prototype=ee,ee.constructor=Oe,E(d,te,Oe)}},function(s,l,o){o(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,l,o){var p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,_=d&&!p.call({1:2},1);l.f=_?function(g){var E=d(this,g);return!!E&&E.enumerable}:p},function(s,l,o){var p=o(7),d=o(15),_=o(18),g=o(51),E=p.Object,T=d("".split);s.exports=_(function(){return!E("z").propertyIsEnumerable(0)})?function(P){return g(P)=="String"?T(P,""):E(P)}:E},function(s,l,o){var p=o(131),d=o(87);s.exports=function(_){var g=p(_,"string");return d(g)?g:g+""}},function(s,l,o){var p=o(7),d=o(46),_=o(30),g=o(54),E=o(132),T=p.Object;s.exports=E?function(P){return typeof P=="symbol"}:function(P){var D=d("Symbol");return _(D)&&g(D.prototype,T(P))}},function(s,l,o){var p=o(7).String;s.exports=function(d){try{return p(d)}catch(_){return"Object"}}},function(s,l,o){var p=o(69),d=o(109);(s.exports=function(_,g){return d[_]||(d[_]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,l,o){var p=o(15),d=0,_=Math.random(),g=p(1 .toString);s.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++d+_,36)}},function(s,l,o){var p=o(7),d=o(33),_=p.document,g=d(_)&&d(_.createElement);s.exports=function(E){return g?_.createElement(E):{}}},function(s,l,o){var p=o(15),d=o(30),_=o(109),g=p(Function.toString);d(_.inspectSource)||(_.inspectSource=function(E){return g(E)}),s.exports=_.inspectSource},function(s,l,o){var p=o(89),d=o(90),_=p("keys");s.exports=function(g){return _[g]||(_[g]=d(g))}},function(s,l,o){var p=o(59),d=Math.min;s.exports=function(_){return _>0?d(p(_),9007199254740991):0}},function(s,l,o){var p=o(18),d=o(30),_=/#|\.prototype\./,g=function(M,R){var C=T[E(M)];return C==D||C!=P&&(d(R)?p(R):!!R)},E=g.normalize=function(M){return String(M).replace(_,".").toLowerCase()},T=g.data={},P=g.NATIVE="N",D=g.POLYFILL="P";s.exports=g},function(s,l,o){var p=o(51);s.exports=Array.isArray||function(d){return p(d)=="Array"}},function(s,l,o){var p=o(7),d=o(113),_=o(30),g=o(51),E=o(28)("toStringTag"),T=p.Object,P=g(function(){return arguments}())=="Arguments";s.exports=d?g:function(D){var M,R,C;return D===void 0?"Undefined":D===null?"Null":typeof(R=function(B,G){try{return B[G]}catch(W){}}(M=T(D),E))=="string"?R:P?g(M):(C=g(M))=="Object"&&_(M.callee)?"Arguments":C}},function(s,l,o){var p=o(15);s.exports=p([].slice)},function(s,l,o){var p=o(15),d=o(18),_=o(30),g=o(97),E=o(46),T=o(92),P=function(){},D=[],M=E("Reflect","construct"),R=/^\s*(?:class|function)\b/,C=p(R.exec),B=!R.exec(P),G=function(W){if(!_(W))return!1;try{return M(P,D,W),!0}catch(ne){return!1}};s.exports=!M||d(function(){var W;return G(G.call)||!G(Object)||!G(function(){W=!0})||W})?function(W){if(!_(W))return!1;switch(g(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!C(R,T(W))}:G},function(s,l,o){var p=o(28),d=o(60),_=o(38),g=p("unscopables"),E=Array.prototype;E[g]==null&&_.f(E,g,{configurable:!0,value:d(null)}),s.exports=function(T){E[g][T]=!0}},function(s,l,o){var p=o(7),d=o(35),_=o(30),g=o(40),E=o(93),T=o(143),P=E("IE_PROTO"),D=p.Object,M=D.prototype;s.exports=T?D.getPrototypeOf:function(R){var C=g(R);if(d(C,P))return C[P];var B=C.constructor;return _(B)&&C instanceof B?B.prototype:C instanceof D?M:null}},function(s,l,o){var p=o(15),d=o(32),_=o(181);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,T={};try{(g=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(T,[]),E=T instanceof Array}catch(P){}return function(P,D){return d(P),_(D),E?g(P,D):P.__proto__=D,P}}():void 0)},function(s,l,o){var p,d,_=o(34),g=o(15),E=o(39),T=o(154),P=o(155),D=o(89),M=o(60),R=o(58).get,C=o(190),B=o(191),G=D("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,ne=W,ue=g("".charAt),te=g("".indexOf),J=g("".replace),ee=g("".slice),Y=(d=/b*/g,_(W,p=/a/,"a"),_(W,d,"a"),p.lastIndex!==0||d.lastIndex!==0),L=P.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(Y||H||L||C||B)&&(ne=function(V){var $,ae,Oe,he,Pe,Be,Se,ve=this,je=R(ve),Ae=E(V),Ue=je.raw;if(Ue)return Ue.lastIndex=ve.lastIndex,$=_(ne,Ue,Ae),ve.lastIndex=Ue.lastIndex,$;var et=je.groups,ht=L&&ve.sticky,Ge=_(T,ve),Ke=ve.source,yt=0,se=Ae;if(ht&&(Ge=J(Ge,"y",""),te(Ge,"g")===-1&&(Ge+="g"),se=ee(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Ae,ve.lastIndex-1)!==`
`)&&(Ke="(?: "+Ke+")",se=" "+se,yt++),ae=new RegExp("^(?:"+Ke+")",Ge)),H&&(ae=new RegExp("^"+Ke+"$(?!\\s)",Ge)),Y&&(Oe=ve.lastIndex),he=_(W,ht?ae:ve,se),ht?he?(he.input=ee(he.input,yt),he[0]=ee(he[0],yt),he.index=ve.lastIndex,ve.lastIndex+=he[0].length):ve.lastIndex=0:Y&&he&&(ve.lastIndex=ve.global?he.index+he[0].length:Oe),H&&he&&he.length>1&&_(G,he[0],ae,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(he[Pe]=void 0)}),he&&et)for(he.groups=Be=M(null),Pe=0;Pe<et.length;Pe++)Be[(Se=et[Pe])[0]]=he[Se[1]];return he}),s.exports=ne},function(s,l,o){var p=o(17),d=o(7),_=o(73),g=o(59),E=o(45),T=o(40),P=o(115),D=o(62),M=o(79)("splice"),R=d.TypeError,C=Math.max,B=Math.min,G=9007199254740991,W="Maximum allowed length exceeded";p({target:"Array",proto:!0,forced:!M},{splice:function(ne,ue){var te,J,ee,Y,L,H,V=T(this),$=E(V),ae=_(ne,$),Oe=arguments.length;if(Oe===0?te=J=0:Oe===1?(te=0,J=$-ae):(te=Oe-2,J=B(C(g(ue),0),$-ae)),$+te-J>G)throw R(W);for(ee=P(V,J),Y=0;Y<J;Y++)(L=ae+Y)in V&&D(ee,Y,V[L]);if(ee.length=J,te<J){for(Y=ae;Y<$-J;Y++)H=Y+te,(L=Y+J)in V?V[H]=V[L]:delete V[H];for(Y=$;Y>$-J+te;Y--)delete V[Y-1]}else if(te>J)for(Y=$-J;Y>ae;Y--)H=Y+te-1,(L=Y+J-1)in V?V[H]=V[L]:delete V[H];for(Y=0;Y<te;Y++)V[Y+ae]=arguments[Y+2];return V.length=$-J+te,ee}})},function(s,l,o){var p=o(17),d=o(204);p({target:"String",proto:!0,forced:o(205)("anchor")},{anchor:function(_){return d(this,"a","name",_)}})},function(s,l,o){(function(p){var d=typeof p=="object"&&p&&p.Object===Object&&p;l.a=d}).call(this,o(66))},function(s,l,o){(function(p){var d=o(31),_=h&&!h.nodeType&&h,g=_&&typeof p=="object"&&p&&!p.nodeType&&p,E=g&&g.exports===_?d.a.Buffer:void 0,T=E?E.allocUnsafe:void 0;l.a=function(P,D){if(D)return P.slice();var M=P.length,R=T?T(M):new P.constructor(M);return P.copy(R),R}}).call(this,o(122)(s))},function(s,l,o){var p=o(68),d=o(18);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var _=Symbol();return!String(_)||!(Object(_)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(s,l,o){var p=o(7),d=o(110),_="__core-js_shared__",g=p[_]||d(_,{});s.exports=g},function(s,l,o){var p=o(7),d=Object.defineProperty;s.exports=function(_,g){try{d(p,_,{value:g,configurable:!0,writable:!0})}catch(E){p[_]=g}return g}},function(s,l){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,l){l.f=Object.getOwnPropertySymbols},function(s,l,o){var p={};p[o(28)("toStringTag")]="z",s.exports=String(p)==="[object z]"},function(s,l,o){var p=o(7),d=o(73),_=o(45),g=o(62),E=p.Array,T=Math.max;s.exports=function(P,D,M){for(var R=_(P),C=d(D,R),B=d(M===void 0?R:M,R),G=E(T(B-C,0)),W=0;C<B;C++,W++)g(G,W,P[C]);return G.length=W,G}},function(s,l,o){var p=o(178);s.exports=function(d,_){return new(p(d))(_===0?0:_)}},function(s,l,o){var p=o(17),d=o(34),_=o(69),g=o(71),E=o(30),T=o(180),P=o(101),D=o(102),M=o(76),R=o(57),C=o(42),B=o(28),G=o(78),W=o(142),ne=g.PROPER,ue=g.CONFIGURABLE,te=W.IteratorPrototype,J=W.BUGGY_SAFARI_ITERATORS,ee=B("iterator"),Y="keys",L="values",H="entries",V=function(){return this};s.exports=function($,ae,Oe,he,Pe,Be,Se){T(Oe,ae,he);var ve,je,Ae,Ue=function(ce){if(ce===Pe&&yt)return yt;if(!J&&ce in Ge)return Ge[ce];switch(ce){case Y:case L:case H:return function(){return new Oe(this,ce)}}return function(){return new Oe(this)}},et=ae+" Iterator",ht=!1,Ge=$.prototype,Ke=Ge[ee]||Ge["@@iterator"]||Pe&&Ge[Pe],yt=!J&&Ke||Ue(Pe),se=ae=="Array"&&Ge.entries||Ke;if(se&&(ve=P(se.call(new $)))!==Object.prototype&&ve.next&&(_||P(ve)===te||(D?D(ve,te):E(ve[ee])||C(ve,ee,V)),M(ve,et,!0,!0),_&&(G[et]=V)),ne&&Pe==L&&Ke&&Ke.name!==L&&(!_&&ue?R(Ge,"name",L):(ht=!0,yt=function(){return d(Ke,this)})),Pe)if(je={values:Ue(L),keys:Be?yt:Ue(Y),entries:Ue(H)},Se)for(Ae in je)(J||ht||!(Ae in Ge))&&C(Ge,Ae,je[Ae]);else p({target:ae,proto:!0,forced:J||ht},je);return _&&!Se||Ge[ee]===yt||C(Ge,ee,yt,{name:Pe}),G[ae]=yt,je}},function(s,l,o){var p=o(7),d=o(63),_=o(34),g=o(32),E=o(88),T=o(145),P=o(45),D=o(54),M=o(146),R=o(118),C=o(147),B=p.TypeError,G=function(ne,ue){this.stopped=ne,this.result=ue},W=G.prototype;s.exports=function(ne,ue,te){var J,ee,Y,L,H,V,$,ae=te&&te.that,Oe=!(!te||!te.AS_ENTRIES),he=!(!te||!te.IS_ITERATOR),Pe=!(!te||!te.INTERRUPTED),Be=d(ue,ae),Se=function(je){return J&&C(J,"normal",je),new G(!0,je)},ve=function(je){return Oe?(g(je),Pe?Be(je[0],je[1],Se):Be(je[0],je[1])):Pe?Be(je,Se):Be(je)};if(he)J=ne;else{if(!(ee=R(ne)))throw B(E(ne)+" is not iterable");if(T(ee)){for(Y=0,L=P(ne);L>Y;Y++)if((H=ve(ne[Y]))&&D(W,H))return H;return new G(!1)}J=M(ne,ee)}for(V=J.next;!($=_(V,J)).done;){try{H=ve($.value)}catch(je){C(J,"throw",je)}if(typeof H=="object"&&H&&D(W,H))return H}return new G(!1)}},function(s,l,o){var p=o(97),d=o(61),_=o(78),g=o(28)("iterator");s.exports=function(E){if(E!=null)return d(E,g)||d(E,"@@iterator")||_[p(E)]}},function(s,l,o){var p=o(7),d=o(54),_=p.TypeError;s.exports=function(g,E){if(d(E,g))return g;throw _("Incorrect invocation")}},function(s,l,o){var p=o(28)("iterator"),d=!1;try{var _=0,g={next:function(){return{done:!!_++}},return:function(){d=!0}};g[p]=function(){return this},Array.from(g,function(){throw 2})}catch(E){}s.exports=function(E,T){if(!T&&!d)return!1;var P=!1;try{var D={};D[p]=function(){return{next:function(){return{done:P=!0}}}},E(D)}catch(M){}return P}},function(s,l,o){var p=o(18);s.exports=function(d,_){var g=[][d];return!!g&&p(function(){g.call(null,_||function(){throw 1},1)})}},function(s,l){s.exports=function(o){if(!o.webpackPolyfill){var p=Object.create(o);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(s,l,o){o(19);var p=o(15),d=o(42),_=o(103),g=o(18),E=o(28),T=o(57),P=E("species"),D=RegExp.prototype;s.exports=function(M,R,C,B){var G=E(M),W=!g(function(){var J={};return J[G]=function(){return 7},""[M](J)!=7}),ne=W&&!g(function(){var J=!1,ee=/a/;return M==="split"&&((ee={}).constructor={},ee.constructor[P]=function(){return ee},ee.flags="",ee[G]=/./[G]),ee.exec=function(){return J=!0,null},ee[G](""),!J});if(!W||!ne||C){var ue=p(/./[G]),te=R(G,""[M],function(J,ee,Y,L,H){var V=p(J),$=ee.exec;return $===_||$===D.exec?W&&!H?{done:!0,value:ue(ee,Y,L)}:{done:!0,value:V(Y,ee,L)}:{done:!1}});d(String.prototype,M,te[0]),d(D,G,te[1])}B&&T(D[G],"sham",!0)}},function(s,l,o){var p=o(151).charAt;s.exports=function(d,_,g){return _+(g?p(d,_).length:1)}},function(s,l,o){var p=o(7),d=o(34),_=o(32),g=o(30),E=o(51),T=o(103),P=p.TypeError;s.exports=function(D,M){var R=D.exec;if(g(R)){var C=d(R,D,M);return C!==null&&_(C),C}if(E(D)==="RegExp")return d(T,D,M);throw P("RegExp#exec called on incompatible receiver")}},function(s,l,o){var p=o(74),d=o(34),_=o(15),g=o(123),E=o(18),T=o(32),P=o(30),D=o(59),M=o(94),R=o(39),C=o(44),B=o(124),G=o(61),W=o(200),ne=o(125),ue=o(28)("replace"),te=Math.max,J=Math.min,ee=_([].concat),Y=_([].push),L=_("".indexOf),H=_("".slice),V="a".replace(/./,"$0")==="$0",$=!!/./[ue]&&/./[ue]("a","$0")==="";g("replace",function(ae,Oe,he){var Pe=$?"$":"$0";return[function(Be,Se){var ve=C(this),je=Be==null?void 0:G(Be,ue);return je?d(je,Be,ve,Se):d(Oe,R(ve),Be,Se)},function(Be,Se){var ve=T(this),je=R(Be);if(typeof Se=="string"&&L(Se,Pe)===-1&&L(Se,"$<")===-1){var Ae=he(Oe,ve,je,Se);if(Ae.done)return Ae.value}var Ue=P(Se);Ue||(Se=R(Se));var et=ve.global;if(et){var ht=ve.unicode;ve.lastIndex=0}for(var Ge=[];;){var Ke=ne(ve,je);if(Ke===null||(Y(Ge,Ke),!et))break;R(Ke[0])===""&&(ve.lastIndex=B(je,M(ve.lastIndex),ht))}for(var yt,se="",ce=0,ge=0;ge<Ge.length;ge++){for(var Ne=R((Ke=Ge[ge])[0]),He=te(J(D(Ke.index),je.length),0),Le=[],Ot=1;Ot<Ke.length;Ot++)Y(Le,(yt=Ke[Ot])===void 0?yt:String(yt));var At=Ke.groups;if(Ue){var Et=ee([Ne],Le,He,je);At!==void 0&&Y(Et,At);var dt=R(p(Se,void 0,Et))}else dt=W(Ne,je,He,Le,At,Se);He>=ce&&(se+=H(je,ce,He)+dt,ce=He+Ne.length)}return se+H(je,ce)}]},!!E(function(){var ae=/./;return ae.exec=function(){var Oe=[];return Oe.groups={a:"7"},Oe},"".replace(ae,"$<a>")!=="7"})||!V||$)},function(s,l,o){var p=o(17),d=Math.hypot,_=Math.abs,g=Math.sqrt;p({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,T){for(var P,D,M=0,R=0,C=arguments.length,B=0;R<C;)B<(P=_(arguments[R++]))?(M=M*(D=B/P)*D+1,B=P):M+=P>0?(D=P/B)*D:P;return B===1/0?1/0:B*g(M)}})},function(s,l,o){var p=o(51),d=o(7);s.exports=p(d.process)=="process"},function(s,l,o){o(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,l,o){(function(p,d){var _;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",T="__lodash_hash_undefined__",P="__lodash_placeholder__",D=16,M=32,R=64,C=128,B=256,G=1/0,W=9007199254740991,ne=NaN,ue=4294967295,te=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",D],["flip",512],["partial",M],["partialRight",R],["rearg",B]],J="[object Arguments]",ee="[object Array]",Y="[object Boolean]",L="[object Date]",H="[object Error]",V="[object Function]",$="[object GeneratorFunction]",ae="[object Map]",Oe="[object Number]",he="[object Object]",Pe="[object Promise]",Be="[object RegExp]",Se="[object Set]",ve="[object String]",je="[object Symbol]",Ae="[object WeakMap]",Ue="[object ArrayBuffer]",et="[object DataView]",ht="[object Float32Array]",Ge="[object Float64Array]",Ke="[object Int8Array]",yt="[object Int16Array]",se="[object Int32Array]",ce="[object Uint8Array]",ge="[object Uint8ClampedArray]",Ne="[object Uint16Array]",He="[object Uint32Array]",Le=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,Me=RegExp(Et.source),ut=RegExp(dt.source),fe=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(fn.source),kt=/^\s+/,Nn=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Yn=/^[-+]0x[0-9a-f]+$/i,tr=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,Fn=/^0o[0-7]+$/i,ot=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Dt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jn="\\u2700-\\u27bf",mo="a-z\\xdf-\\xf6\\xf8-\\xff",ao="A-Z\\xc0-\\xd6\\xd8-\\xde",_o="\\ufe0e\\ufe0f",ui="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="['’]",Za="[\\ud800-\\udfff]",Ir="["+ui+"]",Di="["+sn+"]",ct="\\d+",ms="[\\u2700-\\u27bf]",qa="["+mo+"]",Ja="[^\\ud800-\\udfff"+ui+ct+jn+mo+ao+"]",hr="\\ud83c[\\udffb-\\udfff]",Er="[^\\ud800-\\udfff]",ia="(?:\\ud83c[\\udde6-\\uddff]){2}",qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Lr="["+ao+"]",Jr="(?:"+qa+"|"+Ja+")",Qa="(?:"+Lr+"|"+Ja+")",eu="(?:['’](?:d|ll|m|re|s|t|ve))?",Ku="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ni="(?:"+Di+"|"+hr+")?",$u="[\\ufe0e\\ufe0f]?",tu=$u+Ni+("(?:\\u200d(?:"+[Er,ia,qr].join("|")+")"+$u+Ni+")*"),_s="(?:"+[ms,ia,qr].join("|")+")"+tu,Go="(?:"+[Er+Di+"?",Di,ia,qr,Za].join("|")+")",Zu=RegExp(bs,"g"),Oo=RegExp(Di,"g"),nu=RegExp(hr+"(?="+hr+")|"+Go+tu,"g"),aa=RegExp([Lr+"?"+qa+"+"+eu+"(?="+[Ir,Lr,"$"].join("|")+")",Qa+"+"+Ku+"(?="+[Ir,Lr+Jr,"$"].join("|")+")",Lr+"?"+Jr+"+"+eu,Lr+"+"+Ku,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,_s].join("|"),"g"),ru=RegExp("[\\u200d\\ud800-\\udfff"+sn+_o+"]"),ou=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Os=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qu=-1,an={};an[ht]=an[Ge]=an[Ke]=an[yt]=an[se]=an[ce]=an[ge]=an[Ne]=an[He]=!0,an[J]=an[ee]=an[Ue]=an[Y]=an[et]=an[L]=an[H]=an[V]=an[ae]=an[Oe]=an[he]=an[Be]=an[Se]=an[ve]=an[Ae]=!1;var rn={};rn[J]=rn[ee]=rn[Ue]=rn[et]=rn[Y]=rn[L]=rn[ht]=rn[Ge]=rn[Ke]=rn[yt]=rn[se]=rn[ae]=rn[Oe]=rn[he]=rn[Be]=rn[Se]=rn[ve]=rn[je]=rn[ce]=rn[ge]=rn[Ne]=rn[He]=!0,rn[H]=rn[V]=rn[Ae]=!1;var Ju={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ci=parseFloat,wo=parseInt,iu=typeof p=="object"&&p&&p.Object===Object&&p,Qu=typeof self=="object"&&self&&self.Object===Object&&self,Mn=iu||Qu||Function("return this")(),au=l&&!l.nodeType&&l,Ci=au&&typeof d=="object"&&d&&!d.nodeType&&d,uu=Ci&&Ci.exports===au,ua=uu&&iu.process,nr=function(){try{var we=Ci&&Ci.require&&Ci.require("util").types;return we||ua&&ua.binding&&ua.binding("util")}catch(Ce){}}(),cu=nr&&nr.isArrayBuffer,ec=nr&&nr.isDate,su=nr&&nr.isMap,ca=nr&&nr.isRegExp,si=nr&&nr.isSet,uo=nr&&nr.isTypedArray;function hn(we,Ce,Ie){switch(Ie.length){case 0:return we.call(Ce);case 1:return we.call(Ce,Ie[0]);case 2:return we.call(Ce,Ie[0],Ie[1]);case 3:return we.call(Ce,Ie[0],Ie[1],Ie[2])}return we.apply(Ce,Ie)}function tc(we,Ce,Ie,Ze){for(var It=-1,Wt=we==null?0:we.length;++It<Wt;){var yn=we[It];Ce(Ze,yn,Ie(yn),we)}return Ze}function yr(we,Ce){for(var Ie=-1,Ze=we==null?0:we.length;++Ie<Ze&&Ce(we[Ie],Ie,we)!==!1;);return we}function nc(we,Ce){for(var Ie=we==null?0:we.length;Ie--&&Ce(we[Ie],Ie,we)!==!1;);return we}function rc(we,Ce){for(var Ie=-1,Ze=we==null?0:we.length;++Ie<Ze;)if(!Ce(we[Ie],Ie,we))return!1;return!0}function cr(we,Ce){for(var Ie=-1,Ze=we==null?0:we.length,It=0,Wt=[];++Ie<Ze;){var yn=we[Ie];Ce(yn,Ie,we)&&(Wt[It++]=yn)}return Wt}function vr(we,Ce){return!!(we!=null&&we.length)&&li(we,Ce,0)>-1}function lu(we,Ce,Ie){for(var Ze=-1,It=we==null?0:we.length;++Ze<It;)if(Ie(Ce,we[Ze]))return!0;return!1}function Qt(we,Ce){for(var Ie=-1,Ze=we==null?0:we.length,It=Array(Ze);++Ie<Ze;)It[Ie]=Ce(we[Ie],Ie,we);return It}function Vn(we,Ce){for(var Ie=-1,Ze=Ce.length,It=we.length;++Ie<Ze;)we[It+Ie]=Ce[Ie];return we}function sa(we,Ce,Ie,Ze){var It=-1,Wt=we==null?0:we.length;for(Ze&&Wt&&(Ie=we[++It]);++It<Wt;)Ie=Ce(Ie,we[It],It,we);return Ie}function oc(we,Ce,Ie,Ze){var It=we==null?0:we.length;for(Ze&&It&&(Ie=we[--It]);It--;)Ie=Ce(Ie,we[It],It,we);return Ie}function fu(we,Ce){for(var Ie=-1,Ze=we==null?0:we.length;++Ie<Ze;)if(Ce(we[Ie],Ie,we))return!0;return!1}var la=br("length");function co(we,Ce,Ie){var Ze;return Ie(we,function(It,Wt,yn){if(Ce(It,Wt,yn))return Ze=Wt,!1}),Ze}function xo(we,Ce,Ie,Ze){for(var It=we.length,Wt=Ie+(Ze?1:-1);Ze?Wt--:++Wt<It;)if(Ce(we[Wt],Wt,we))return Wt;return-1}function li(we,Ce,Ie){return Ce==Ce?function(Ze,It,Wt){for(var yn=Wt-1,O=Ze.length;++yn<O;)if(Ze[yn]===It)return yn;return-1}(we,Ce,Ie):xo(we,Eo,Ie)}function gr(we,Ce,Ie,Ze){for(var It=Ie-1,Wt=we.length;++It<Wt;)if(Ze(we[It],Ce))return It;return-1}function Eo(we){return we!=we}function Zt(we,Ce){var Ie=we==null?0:we.length;return Ie?fa(we,Ce)/Ie:ne}function br(we){return function(Ce){return Ce==null?g:Ce[we]}}function so(we){return function(Ce){return we==null?g:we[Ce]}}function Jn(we,Ce,Ie,Ze,It){return It(we,function(Wt,yn,O){Ie=Ze?(Ze=!1,Wt):Ce(Ie,Wt,yn,O)}),Ie}function fa(we,Ce){for(var Ie,Ze=-1,It=we.length;++Ze<It;){var Wt=Ce(we[Ze]);Wt!==g&&(Ie=Ie===g?Wt:Ie+Wt)}return Ie}function Ri(we,Ce){for(var Ie=-1,Ze=Array(we);++Ie<we;)Ze[Ie]=Ce(Ie);return Ze}function pu(we){return we&&we.slice(0,mr(we)+1).replace(kt,"")}function Pn(we){return function(Ce){return we(Ce)}}function pa(we,Ce){return Qt(Ce,function(Ie){return we[Ie]})}function So(we,Ce){return we.has(Ce)}function zr(we,Ce){for(var Ie=-1,Ze=we.length;++Ie<Ze&&li(Ce,we[Ie],0)>-1;);return Ie}function du(we,Ce){for(var Ie=we.length;Ie--&&li(Ce,we[Ie],0)>-1;);return Ie}function ws(we,Ce){for(var Ie=we.length,Ze=0;Ie--;)we[Ie]===Ce&&++Ze;return Ze}var hu=so({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Un=so({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fi(we){return"\\"+Ju[we]}function lo(we){return ru.test(we)}function sr(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(Ze,It){Ie[++Ce]=[It,Ze]}),Ie}function yu(we,Ce){return function(Ie){return we(Ce(Ie))}}function Sr(we,Ce){for(var Ie=-1,Ze=we.length,It=0,Wt=[];++Ie<Ze;){var yn=we[Ie];yn!==Ce&&yn!==P||(we[Ie]=P,Wt[It++]=Ie)}return Wt}function Ho(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(Ze){Ie[++Ce]=Ze}),Ie}function da(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(Ze){Ie[++Ce]=[Ze,Ze]}),Ie}function fo(we){return lo(we)?function(Ce){for(var Ie=nu.lastIndex=0;nu.test(Ce);)++Ie;return Ie}(we):la(we)}function jr(we){return lo(we)?function(Ce){return Ce.match(nu)||[]}(we):function(Ce){return Ce.split("")}(we)}function mr(we){for(var Ce=we.length;Ce--&&Nn.test(we.charAt(Ce)););return Ce}var Br=so({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),po=function we(Ce){var Ie,Ze=(Ce=Ce==null?Mn:po.defaults(Mn.Object(),Ce,po.pick(Mn,Os))).Array,It=Ce.Date,Wt=Ce.Error,yn=Ce.Function,O=Ce.Math,w=Ce.Object,A=Ce.RegExp,z=Ce.String,K=Ce.TypeError,pe=Ze.prototype,Ee=yn.prototype,Fe=w.prototype,it=Ce["__core-js_shared__"],Xt=Ee.toString,Qe=Fe.hasOwnProperty,pn=0,Lt=(Ie=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",tn=Fe.toString,Fr=Xt.call(w),On=Mn._,_r=A("^"+Xt.call(Qe).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jo=uu?Ce.Buffer:g,Po=Ce.Symbol,Ii=Ce.Uint8Array,vu=jo?jo.allocUnsafe:g,Xo=yu(w.getPrototypeOf,w),ha=w.create,lr=Fe.propertyIsEnumerable,Li=pe.splice,pi=Po?Po.isConcatSpreadable:g,Yo=Po?Po.iterator:g,Vo=Po?Po.toStringTag:g,gu=function(){try{var u=mi(w,"defineProperty");return u({},"",{}),u}catch(f){}}(),Ud=Ce.clearTimeout!==Mn.clearTimeout&&Ce.clearTimeout,Gd=It&&It.now!==Mn.Date.now&&It.now,ff=Ce.setTimeout!==Mn.setTimeout&&Ce.setTimeout,ic=O.ceil,ya=O.floor,xs=w.getOwnPropertySymbols,Hd=jo?jo.isBuffer:g,pf=Ce.isFinite,Xd=pe.join,df=yu(w.keys,w),Qn=O.max,fr=O.min,ac=It.now,uc=Ce.parseInt,cc=O.random,Yd=pe.reverse,va=mi(Ce,"DataView"),Ao=mi(Ce,"Map"),Es=mi(Ce,"Promise"),zi=mi(Ce,"Set"),ga=mi(Ce,"WeakMap"),bu=mi(w,"create"),sc=ga&&new ga,ba={},Vd=Tr(va),hf=Tr(Ao),Wd=Tr(Es),Kd=Tr(zi),yf=Tr(ga),lc=Po?Po.prototype:g,er=lc?lc.valueOf:g,vf=lc?lc.toString:g;function F(u){if(Tn(u)&&!Bt(u)&&!(u instanceof Jt)){if(u instanceof Qr)return u;if(Qe.call(u,"__wrapped__"))return $f(u)}return new Qr(u)}var ma=function(){function u(){}return function(f){if(!An(f))return{};if(ha)return ha(f);u.prototype=f;var m=new u;return u.prototype=g,m}}();function mu(){}function Qr(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=g}function Jt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function Bi(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var j=u[f];this.set(j[0],j[1])}}function dn(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var j=u[f];this.set(j[0],j[1])}}function To(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var j=u[f];this.set(j[0],j[1])}}function di(u){var f=-1,m=u==null?0:u.length;for(this.__data__=new To;++f<m;)this.add(u[f])}function eo(u){var f=this.__data__=new dn(u);this.size=f.size}function Ss(u,f){var m=Bt(u),j=!m&&Yi(u),N=!m&&!j&&Jo(u),U=!m&&!j&&!N&&_i(u),oe=m||j||N||U,le=oe?Ri(u.length,z):[],_e=le.length;for(var Re in u)!f&&!Qe.call(u,Re)||oe&&(Re=="length"||N&&(Re=="offset"||Re=="parent")||U&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||Co(Re,_e))||le.push(Re);return le}function js(u){var f=u.length;return f?u[Cs(0,f-1)]:g}function gf(u,f){return Ui(Ar(u),hi(f,0,u.length))}function bf(u){return Ui(Ar(u))}function fc(u,f,m){(m!==g&&!Sn(u[f],m)||m===g&&!(f in u))&&Mo(u,f,m)}function _a(u,f,m){var j=u[f];Qe.call(u,f)&&Sn(j,m)&&(m!==g||f in u)||Mo(u,f,m)}function _u(u,f){for(var m=u.length;m--;)if(Sn(u[m][0],f))return m;return-1}function mf(u,f,m,j){return wn(u,function(N,U,oe){f(j,N,m(N),oe)}),j}function Ps(u,f){return u&&ko(f,$n(f),u)}function Mo(u,f,m){f=="__proto__"&&gu?gu(u,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[f]=m}function pc(u,f){for(var m=-1,j=f.length,N=Ze(j),U=u==null;++m<j;)N[m]=U?g:Nu(u,f[m]);return N}function hi(u,f,m){return u==u&&(m!==g&&(u=u<=m?u:m),f!==g&&(u=u>=f?u:f)),u}function Ur(u,f,m,j,N,U){var oe,le=1&f,_e=2&f,Re=4&f;if(m&&(oe=N?m(u,j,N,U):m(u)),oe!==g)return oe;if(!An(u))return u;var ke=Bt(u);if(ke){if(oe=function(ze){var Xe=ze.length,Tt=new ze.constructor(Xe);return Xe&&typeof ze[0]=="string"&&Qe.call(ze,"index")&&(Tt.index=ze.index,Tt.input=ze.input),Tt}(u),!le)return Ar(u,oe)}else{var Q=ar(u),st=Q==V||Q==$;if(Jo(u))return Us(u,le);if(Q==he||Q==J||st&&!N){if(oe=_e||st?{}:Ks(u),!le)return _e?function(ze,Xe){return ko(ze,De(ze),Xe)}(u,function(ze,Xe){return ze&&ko(Xe,or(Xe),ze)}(oe,u)):function(ze,Xe){return ko(ze,Vs(ze),Xe)}(u,Ps(oe,u))}else{if(!rn[Q])return N?u:{};oe=function(ze,Xe,Tt){var at=ze.constructor;switch(Xe){case Ue:return Gs(ze);case Y:case L:return new at(+ze);case et:return function(Nt,Kt){var bt=Kt?Gs(Nt.buffer):Nt.buffer;return new Nt.constructor(bt,Nt.byteOffset,Nt.byteLength)}(ze,Tt);case ht:case Ge:case Ke:case yt:case se:case ce:case ge:case Ne:case He:return bn(ze,Tt);case ae:return new at;case Oe:case ve:return new at(ze);case Be:return function(Nt){var Kt=new Nt.constructor(Nt.source,Ut.exec(Nt));return Kt.lastIndex=Nt.lastIndex,Kt}(ze);case Se:return new at;case je:return Mt=ze,er?w(er.call(Mt)):{}}var Mt}(u,Q,le)}}U||(U=new eo);var pt=U.get(u);if(pt)return pt;U.set(u,oe),Na(u)?u.forEach(function(ze){oe.add(Ur(ze,f,m,ze,u,U))}):up(u)&&u.forEach(function(ze,Xe){oe.set(Xe,Ur(ze,f,m,Xe,u,U))});var jt=ke?g:(Re?_e?Ys:Su:_e?or:$n)(u);return yr(jt||u,function(ze,Xe){jt&&(ze=u[Xe=ze]),_a(oe,Xe,Ur(ze,f,m,Xe,u,U))}),oe}function As(u,f,m){var j=m.length;if(u==null)return!j;for(u=w(u);j--;){var N=m[j],U=f[N],oe=u[N];if(oe===g&&!(N in u)||!U(oe))return!1}return!0}function Ts(u,f,m){if(typeof u!="function")throw new K(E);return Ma(function(){u.apply(g,m)},f)}function Wo(u,f,m,j){var N=-1,U=vr,oe=!0,le=u.length,_e=[],Re=f.length;if(!le)return _e;m&&(f=Qt(f,Pn(m))),j?(U=lu,oe=!1):f.length>=200&&(U=So,oe=!1,f=new di(f));e:for(;++N<le;){var ke=u[N],Q=m==null?ke:m(ke);if(ke=j||ke!==0?ke:0,oe&&Q==Q){for(var st=Re;st--;)if(f[st]===Q)continue e;_e.push(ke)}else U(f,Q,j)||_e.push(ke)}return _e}F.templateSettings={escape:fe,evaluate:rt,interpolate:Ct,variable:"",imports:{_:F}},F.prototype=mu.prototype,F.prototype.constructor=F,Qr.prototype=ma(mu.prototype),Qr.prototype.constructor=Qr,Jt.prototype=ma(mu.prototype),Jt.prototype.constructor=Jt,Bi.prototype.clear=function(){this.__data__=bu?bu(null):{},this.size=0},Bi.prototype.delete=function(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f},Bi.prototype.get=function(u){var f=this.__data__;if(bu){var m=f[u];return m===T?g:m}return Qe.call(f,u)?f[u]:g},Bi.prototype.has=function(u){var f=this.__data__;return bu?f[u]!==g:Qe.call(f,u)},Bi.prototype.set=function(u,f){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=bu&&f===g?T:f,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(u){var f=this.__data__,m=_u(f,u);return!(m<0)&&(m==f.length-1?f.pop():Li.call(f,m,1),--this.size,!0)},dn.prototype.get=function(u){var f=this.__data__,m=_u(f,u);return m<0?g:f[m][1]},dn.prototype.has=function(u){return _u(this.__data__,u)>-1},dn.prototype.set=function(u,f){var m=this.__data__,j=_u(m,u);return j<0?(++this.size,m.push([u,f])):m[j][1]=f,this},To.prototype.clear=function(){this.size=0,this.__data__={hash:new Bi,map:new(Ao||dn),string:new Bi}},To.prototype.delete=function(u){var f=Aa(this,u).delete(u);return this.size-=f?1:0,f},To.prototype.get=function(u){return Aa(this,u).get(u)},To.prototype.has=function(u){return Aa(this,u).has(u)},To.prototype.set=function(u,f){var m=Aa(this,u),j=m.size;return m.set(u,f),this.size+=m.size==j?0:1,this},di.prototype.add=di.prototype.push=function(u){return this.__data__.set(u,T),this},di.prototype.has=function(u){return this.__data__.has(u)},eo.prototype.clear=function(){this.__data__=new dn,this.size=0},eo.prototype.delete=function(u){var f=this.__data__,m=f.delete(u);return this.size=f.size,m},eo.prototype.get=function(u){return this.__data__.get(u)},eo.prototype.has=function(u){return this.__data__.has(u)},eo.prototype.set=function(u,f){var m=this.__data__;if(m instanceof dn){var j=m.__data__;if(!Ao||j.length<199)return j.push([u,f]),this.size=++m.size,this;m=this.__data__=new To(j)}return m.set(u,f),this.size=m.size,this};var wn=If(ft),_f=If(vn,!0);function Of(u,f){var m=!0;return wn(u,function(j,N,U){return m=!!f(j,N,U)}),m}function Rn(u,f,m){for(var j=-1,N=u.length;++j<N;){var U=u[j],oe=f(U);if(oe!=null&&(le===g?oe==oe&&!ur(oe):m(oe,le)))var le=oe,_e=U}return _e}function un(u,f){var m=[];return wn(u,function(j,N,U){f(j,N,U)&&m.push(j)}),m}function rr(u,f,m,j,N){var U=-1,oe=u.length;for(m||(m=Yf),N||(N=[]);++U<oe;){var le=u[U];f>0&&m(le)?f>1?rr(le,f-1,m,j,N):Vn(N,le):j||(N[N.length]=le)}return N}var Yt=Lf(),Gn=Lf(!0);function ft(u,f){return u&&Yt(u,f,$n)}function vn(u,f){return u&&Gn(u,f,$n)}function dc(u,f){return cr(f,function(m){return Qo(u[m])})}function Ko(u,f){for(var m=0,j=(f=vi(f,u)).length;u!=null&&m<j;)u=u[Wn(f[m++])];return m&&m==j?u:g}function Ms(u,f,m){var j=f(u);return Bt(u)?j:Vn(j,m(u))}function gn(u){return u==null?u===g?"[object Undefined]":"[object Null]":Vo&&Vo in w(u)?function(f){var m=Qe.call(f,Vo),j=f[Vo];try{f[Vo]=g;var N=!0}catch(oe){}var U=tn.call(f);return N&&(m?f[Vo]=j:delete f[Vo]),U}(u):function(f){return tn.call(f)}(u)}function kn(u,f){return u>f}function wf(u,f){return u!=null&&Qe.call(u,f)}function xf(u,f){return u!=null&&f in w(u)}function hc(u,f,m){for(var j=m?lu:vr,N=u[0].length,U=u.length,oe=U,le=Ze(U),_e=1/0,Re=[];oe--;){var ke=u[oe];oe&&f&&(ke=Qt(ke,Pn(f))),_e=fr(ke.length,_e),le[oe]=!m&&(f||N>=120&&ke.length>=120)?new di(oe&&ke):g}ke=u[0];var Q=-1,st=le[0];e:for(;++Q<N&&Re.length<_e;){var pt=ke[Q],jt=f?f(pt):pt;if(pt=m||pt!==0?pt:0,!(st?So(st,jt):j(Re,jt,m))){for(oe=U;--oe;){var ze=le[oe];if(!(ze?So(ze,jt):j(u[oe],jt,m)))continue e}st&&st.push(jt),Re.push(pt)}}return Re}function Oa(u,f,m){var j=(u=Js(u,f=vi(f,u)))==null?u:u[Wn(mn(f))];return j==null?g:hn(j,u,m)}function ks(u){return Tn(u)&&gn(u)==J}function wa(u,f,m,j,N){return u===f||(u==null||f==null||!Tn(u)&&!Tn(f)?u!=u&&f!=f:function(U,oe,le,_e,Re,ke){var Q=Bt(U),st=Bt(oe),pt=Q?ee:ar(U),jt=st?ee:ar(oe),ze=(pt=pt==J?he:pt)==he,Xe=(jt=jt==J?he:jt)==he,Tt=pt==jt;if(Tt&&Jo(U)){if(!Jo(oe))return!1;Q=!0,ze=!1}if(Tt&&!ze)return ke||(ke=new eo),Q||_i(U)?Xf(U,oe,le,_e,Re,ke):function(bt,Pt,Dn,Dr,vo,zn,Lo){switch(Dn){case et:if(bt.byteLength!=Pt.byteLength||bt.byteOffset!=Pt.byteOffset)return!1;bt=bt.buffer,Pt=Pt.buffer;case Ue:return!(bt.byteLength!=Pt.byteLength||!zn(new Ii(bt),new Ii(Pt)));case Y:case L:case Oe:return Sn(+bt,+Pt);case H:return bt.name==Pt.name&&bt.message==Pt.message;case Be:case ve:return bt==Pt+"";case ae:var xi=sr;case Se:var za=1&Dr;if(xi||(xi=Ho),bt.size!=Pt.size&&!za)return!1;var Wi=Lo.get(bt);if(Wi)return Wi==Pt;Dr|=2,Lo.set(bt,Pt);var zo=Xf(xi(bt),xi(Pt),Dr,vo,zn,Lo);return Lo.delete(bt),zo;case je:if(er)return er.call(bt)==er.call(Pt)}return!1}(U,oe,pt,le,_e,Re,ke);if(!(1&le)){var at=ze&&Qe.call(U,"__wrapped__"),Mt=Xe&&Qe.call(oe,"__wrapped__");if(at||Mt){var Nt=at?U.value():U,Kt=Mt?oe.value():oe;return ke||(ke=new eo),Re(Nt,Kt,le,_e,ke)}}return Tt?(ke||(ke=new eo),function(bt,Pt,Dn,Dr,vo,zn){var Lo=1&Dn,xi=Su(bt),za=xi.length,Wi=Su(Pt).length;if(za!=Wi&&!Lo)return!1;for(var zo=za;zo--;){var ro=xi[zo];if(!(Lo?ro in Pt:Qe.call(Pt,ro)))return!1}var Fl=zn.get(bt),Vc=zn.get(Pt);if(Fl&&Vc)return Fl==Pt&&Vc==bt;var Ki=!0;zn.set(bt,Pt),zn.set(Pt,bt);for(var Nr=Lo;++zo<za;){var Wc=bt[ro=xi[zo]],Hr=Pt[ro];if(Dr)var vt=Lo?Dr(Hr,Wc,ro,Pt,bt,zn):Dr(Wc,Hr,ro,bt,Pt,zn);if(!(vt===g?Wc===Hr||vo(Wc,Hr,Dn,Dr,zn):vt)){Ki=!1;break}Nr||(Nr=ro=="constructor")}if(Ki&&!Nr){var Fu=bt.constructor,Uu=Pt.constructor;Fu==Uu||!("constructor"in bt)||!("constructor"in Pt)||typeof Fu=="function"&&Fu instanceof Fu&&typeof Uu=="function"&&Uu instanceof Uu||(Ki=!1)}return zn.delete(bt),zn.delete(Pt),Ki}(U,oe,le,_e,Re,ke)):!1}(u,f,m,j,wa,N))}function yc(u,f,m,j){var N=m.length,U=N,oe=!j;if(u==null)return!U;for(u=w(u);N--;){var le=m[N];if(oe&&le[2]?le[1]!==u[le[0]]:!(le[0]in u))return!1}for(;++N<U;){var _e=(le=m[N])[0],Re=u[_e],ke=le[1];if(oe&&le[2]){if(Re===g&&!(_e in u))return!1}else{var Q=new eo;if(j)var st=j(Re,ke,_e,u,f,Q);if(!(st===g?wa(ke,Re,3,j,Q):st))return!1}}return!0}function xa(u){return!(!An(u)||(f=u,Lt&&Lt in f))&&(Qo(u)?_r:Cn).test(Tr(u));var f}function Ds(u){return typeof u=="function"?u:u==null?dr:typeof u=="object"?Bt(u)?Sf(u[0],u[1]):Ef(u):La(u)}function $o(u){if(!Ta(u))return df(u);var f=[];for(var m in w(u))Qe.call(u,m)&&m!="constructor"&&f.push(m);return f}function $d(u){if(!An(u))return function(N){var U=[];if(N!=null)for(var oe in w(N))U.push(oe);return U}(u);var f=Ta(u),m=[];for(var j in u)(j!="constructor"||!f&&Qe.call(u,j))&&m.push(j);return m}function Zo(u,f){return u<f}function to(u,f){var m=-1,j=Or(u)?Ze(u.length):[];return wn(u,function(N,U,oe){j[++m]=f(N,U,oe)}),j}function Ef(u){var f=Ac(u);return f.length==1&&f[0][2]?Zs(f[0][0],f[0][1]):function(m){return m===u||yc(m,u,f)}}function Sf(u,f){return Tc(u)&&$s(f)?Zs(Wn(u),f):function(m){var j=Nu(m,u);return j===g&&j===f?Cu(m,u):wa(f,j,3)}}function vc(u,f,m,j,N){u!==f&&Yt(f,function(U,oe){if(N||(N=new eo),An(U))(function(_e,Re,ke,Q,st,pt,jt){var ze=kc(_e,ke),Xe=kc(Re,ke),Tt=jt.get(Xe);if(Tt)return void fc(_e,ke,Tt);var at=pt?pt(ze,Xe,ke+"",_e,Re,jt):g,Mt=at===g;if(Mt){var Nt=Bt(Xe),Kt=!Nt&&Jo(Xe),bt=!Nt&&!Kt&&_i(Xe);at=Xe,Nt||Kt||bt?Bt(ze)?at=ze:In(ze)?at=Ar(ze):Kt?(Mt=!1,at=Us(Xe,!0)):bt?(Mt=!1,at=bn(Xe,!0)):at=[]:ei(Xe)||Yi(Xe)?(at=ze,Yi(ze)?at=wl(ze):An(ze)&&!Qo(ze)||(at=Ks(Xe))):Mt=!1}Mt&&(jt.set(Xe,at),st(at,Xe,Q,pt,jt),jt.delete(Xe)),fc(_e,ke,at)})(u,f,oe,m,vc,j,N);else{var le=j?j(kc(u,oe),U,oe+"",u,f,N):g;le===g&&(le=U),fc(u,oe,le)}},or)}function jf(u,f){var m=u.length;if(m)return Co(f+=f<0?m:0,m)?u[f]:g}function Pf(u,f,m){f=f.length?Qt(f,function(U){return Bt(U)?function(oe){return Ko(oe,U.length===1?U[0]:U)}:U}):[dr];var j=-1;f=Qt(f,Pn(wt()));var N=to(u,function(U,oe,le){var _e=Qt(f,function(Re){return Re(U)});return{criteria:_e,index:++j,value:U}});return function(U,oe){var le=U.length;for(U.sort(oe);le--;)U[le]=U[le].value;return U}(N,function(U,oe){return function(le,_e,Re){for(var ke=-1,Q=le.criteria,st=_e.criteria,pt=Q.length,jt=Re.length;++ke<pt;){var ze=Rf(Q[ke],st[ke]);if(ze)return ke>=jt?ze:ze*(Re[ke]=="desc"?-1:1)}return le.index-_e.index}(U,oe,m)})}function Af(u,f,m){for(var j=-1,N=f.length,U={};++j<N;){var oe=f[j],le=Ko(u,oe);m(le,oe)&&Sa(U,vi(oe,u),le)}return U}function Ns(u,f,m,j){var N=j?gr:li,U=-1,oe=f.length,le=u;for(u===f&&(f=Ar(f)),m&&(le=Qt(u,Pn(m)));++U<oe;)for(var _e=0,Re=f[U],ke=m?m(Re):Re;(_e=N(le,ke,_e,j))>-1;)le!==u&&Li.call(le,_e,1),Li.call(u,_e,1);return u}function Ea(u,f){for(var m=u?f.length:0,j=m-1;m--;){var N=f[m];if(m==j||N!==U){var U=N;Co(N)?Li.call(u,N,1):mc(u,N)}}return u}function Cs(u,f){return u+ya(cc()*(f-u+1))}function gc(u,f){var m="";if(!u||f<1||f>W)return m;do f%2&&(m+=u),(f=ya(f/2))&&(u+=u);while(f);return m}function Vt(u,f){return Dc(qs(u,f,dr),u+"")}function Zd(u){return js(wi(u))}function Rs(u,f){var m=wi(u);return Ui(m,hi(f,0,m.length))}function Sa(u,f,m,j){if(!An(u))return u;for(var N=-1,U=(f=vi(f,u)).length,oe=U-1,le=u;le!=null&&++N<U;){var _e=Wn(f[N]),Re=m;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return u;if(N!=oe){var ke=le[_e];(Re=j?j(ke,_e,le):g)===g&&(Re=An(ke)?ke:Co(f[N+1])?[]:{})}_a(le,_e,Re),le=le[_e]}return u}var Tf=sc?function(u,f){return sc.set(u,f),u}:dr,qd=gu?function(u,f){return gu(u,"toString",{configurable:!0,enumerable:!1,value:Iu(f),writable:!0})}:dr;function Jd(u){return Ui(wi(u))}function no(u,f,m){var j=-1,N=u.length;f<0&&(f=-f>N?0:N+f),(m=m>N?N:m)<0&&(m+=N),N=f>m?0:m-f>>>0,f>>>=0;for(var U=Ze(N);++j<N;)U[j]=u[j+f];return U}function Is(u,f){var m;return wn(u,function(j,N,U){return!(m=f(j,N,U))}),!!m}function bc(u,f,m){var j=0,N=u==null?j:u.length;if(typeof f=="number"&&f==f&&N<=2147483647){for(;j<N;){var U=j+N>>>1,oe=u[U];oe!==null&&!ur(oe)&&(m?oe<=f:oe<f)?j=U+1:N=U}return N}return Ls(u,f,dr,m)}function Ls(u,f,m,j){var N=0,U=u==null?0:u.length;if(U===0)return 0;for(var oe=(f=m(f))!=f,le=f===null,_e=ur(f),Re=f===g;N<U;){var ke=ya((N+U)/2),Q=m(u[ke]),st=Q!==g,pt=Q===null,jt=Q==Q,ze=ur(Q);if(oe)var Xe=j||jt;else Xe=Re?jt&&(j||st):le?jt&&st&&(j||!pt):_e?jt&&st&&!pt&&(j||!ze):!pt&&!ze&&(j?Q<=f:Q<f);Xe?N=ke+1:U=ke}return fr(U,4294967294)}function Mf(u,f){for(var m=-1,j=u.length,N=0,U=[];++m<j;){var oe=u[m],le=f?f(oe):oe;if(!m||!Sn(le,_e)){var _e=le;U[N++]=oe===0?0:oe}}return U}function zs(u){return typeof u=="number"?u:ur(u)?ne:+u}function Pr(u){if(typeof u=="string")return u;if(Bt(u))return Qt(u,Pr)+"";if(ur(u))return vf?vf.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function yi(u,f,m){var j=-1,N=vr,U=u.length,oe=!0,le=[],_e=le;if(m)oe=!1,N=lu;else if(U>=200){var Re=f?null:Xs(u);if(Re)return Ho(Re);oe=!1,N=So,_e=new di}else _e=f?[]:le;e:for(;++j<U;){var ke=u[j],Q=f?f(ke):ke;if(ke=m||ke!==0?ke:0,oe&&Q==Q){for(var st=_e.length;st--;)if(_e[st]===Q)continue e;f&&_e.push(Q),le.push(ke)}else N(_e,Q,m)||(_e!==le&&_e.push(Q),le.push(ke))}return le}function mc(u,f){return(u=Js(u,f=vi(f,u)))==null||delete u[Wn(mn(f))]}function kf(u,f,m,j){return Sa(u,f,m(Ko(u,f)),j)}function Ou(u,f,m,j){for(var N=u.length,U=j?N:-1;(j?U--:++U<N)&&f(u[U],U,u););return m?no(u,j?0:U,j?U+1:N):no(u,j?U+1:0,j?N:U)}function Df(u,f){var m=u;return m instanceof Jt&&(m=m.value()),sa(f,function(j,N){return N.func.apply(N.thisArg,Vn([j],N.args))},m)}function _c(u,f,m){var j=u.length;if(j<2)return j?yi(u[0]):[];for(var N=-1,U=Ze(j);++N<j;)for(var oe=u[N],le=-1;++le<j;)le!=N&&(U[N]=Wo(U[N]||oe,u[le],f,m));return yi(rr(U,1),f,m)}function Nf(u,f,m){for(var j=-1,N=u.length,U=f.length,oe={};++j<N;){var le=j<U?f[j]:g;m(oe,u[j],le)}return oe}function Oc(u){return In(u)?u:[]}function Bs(u){return typeof u=="function"?u:dr}function vi(u,f){return Bt(u)?u:Tc(u,f)?[u]:Kf(cn(u))}var Cf=Vt;function gi(u,f,m){var j=u.length;return m=m===g?j:m,!f&&m>=j?u:no(u,f,m)}var Fs=Ud||function(u){return Mn.clearTimeout(u)};function Us(u,f){if(f)return u.slice();var m=u.length,j=vu?vu(m):new u.constructor(m);return u.copy(j),j}function Gs(u){var f=new u.constructor(u.byteLength);return new Ii(f).set(new Ii(u)),f}function bn(u,f){var m=f?Gs(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Rf(u,f){if(u!==f){var m=u!==g,j=u===null,N=u==u,U=ur(u),oe=f!==g,le=f===null,_e=f==f,Re=ur(f);if(!le&&!Re&&!U&&u>f||U&&oe&&_e&&!le&&!Re||j&&oe&&_e||!m&&_e||!N)return 1;if(!j&&!U&&!Re&&u<f||Re&&m&&N&&!j&&!U||le&&m&&N||!oe&&N||!_e)return-1}return 0}function xn(u,f,m,j){for(var N=-1,U=u.length,oe=m.length,le=-1,_e=f.length,Re=Qn(U-oe,0),ke=Ze(_e+Re),Q=!j;++le<_e;)ke[le]=f[le];for(;++N<oe;)(Q||N<U)&&(ke[m[N]]=u[N]);for(;Re--;)ke[le++]=u[N++];return ke}function wc(u,f,m,j){for(var N=-1,U=u.length,oe=-1,le=m.length,_e=-1,Re=f.length,ke=Qn(U-le,0),Q=Ze(ke+Re),st=!j;++N<ke;)Q[N]=u[N];for(var pt=N;++_e<Re;)Q[pt+_e]=f[_e];for(;++oe<le;)(st||N<U)&&(Q[pt+m[oe]]=u[N++]);return Q}function Ar(u,f){var m=-1,j=u.length;for(f||(f=Ze(j));++m<j;)f[m]=u[m];return f}function ko(u,f,m,j){var N=!m;m||(m={});for(var U=-1,oe=f.length;++U<oe;){var le=f[U],_e=j?j(m[le],u[le],le,m,u):g;_e===g&&(_e=u[le]),N?Mo(m,le,_e):_a(m,le,_e)}return m}function xc(u,f){return function(m,j){var N=Bt(m)?tc:mf,U=f?f():{};return N(m,u,wt(j,2),U)}}function Fi(u){return Vt(function(f,m){var j=-1,N=m.length,U=N>1?m[N-1]:g,oe=N>2?m[2]:g;for(U=u.length>3&&typeof U=="function"?(N--,U):g,oe&&pr(m[0],m[1],oe)&&(U=N<3?g:U,N=1),f=w(f);++j<N;){var le=m[j];le&&u(f,le,j,U)}return f})}function If(u,f){return function(m,j){if(m==null)return m;if(!Or(m))return u(m,j);for(var N=m.length,U=f?N:-1,oe=w(m);(f?U--:++U<N)&&j(oe[U],U,oe)!==!1;);return m}}function Lf(u){return function(f,m,j){for(var N=-1,U=w(f),oe=j(f),le=oe.length;le--;){var _e=oe[u?le:++N];if(m(U[_e],_e,U)===!1)break}return f}}function zf(u){return function(f){var m=lo(f=cn(f))?jr(f):g,j=m?m[0]:f.charAt(0),N=m?gi(m,1).join(""):f.slice(1);return j[u]()+N}}function bi(u){return function(f){return sa(yo(Uc(f).replace(Zu,"")),u,"")}}function wu(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var m=ma(u.prototype),j=u.apply(m,f);return An(j)?j:m}}function Bf(u){return function(f,m,j){var N=w(f);if(!Or(f)){var U=wt(m,3);f=$n(f),m=function(le){return U(N[le],le,N)}}var oe=u(f,m,j);return oe>-1?N[U?f[oe]:oe]:g}}function Ff(u){return En(function(f){var m=f.length,j=m,N=Qr.prototype.thru;for(u&&f.reverse();j--;){var U=f[j];if(typeof U!="function")throw new K(E);if(N&&!oe&&ho(U)=="wrapper")var oe=new Qr([],!0)}for(j=oe?j:m;++j<m;){var le=ho(U=f[j]),_e=le=="wrapper"?ju(U):g;oe=_e&&Mc(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?oe[ho(_e[0])].apply(oe,_e[3]):U.length==1&&Mc(U)?oe[le]():oe.thru(U)}return function(){var Re=arguments,ke=Re[0];if(oe&&Re.length==1&&Bt(ke))return oe.plant(ke).value();for(var Q=0,st=m?f[Q].apply(this,Re):ke;++Q<m;)st=f[Q].call(this,st);return st}})}function xu(u,f,m,j,N,U,oe,le,_e,Re){var ke=f&C,Q=1&f,st=2&f,pt=24&f,jt=512&f,ze=st?g:wu(u);return function Xe(){for(var Tt=arguments.length,at=Ze(Tt),Mt=Tt;Mt--;)at[Mt]=arguments[Mt];if(pt)var Nt=Pa(Xe),Kt=ws(at,Nt);if(j&&(at=xn(at,j,N,pt)),U&&(at=wc(at,U,oe,pt)),Tt-=Kt,pt&&Tt<Re){var bt=Sr(at,Nt);return Sc(u,f,xu,Xe.placeholder,m,at,bt,le,_e,Re-Tt)}var Pt=Q?m:this,Dn=st?Pt[u]:u;return Tt=at.length,le?at=Wf(at,le):jt&&Tt>1&&at.reverse(),ke&&_e<Tt&&(at.length=_e),this&&this!==Mn&&this instanceof Xe&&(Dn=ze||wu(Dn)),Dn.apply(Pt,at)}}function Uf(u,f){return function(m,j){return function(N,U,oe,le){return ft(N,function(_e,Re,ke){U(le,oe(_e),Re,ke)}),le}(m,u,f(j),{})}}function Eu(u,f){return function(m,j){var N;if(m===g&&j===g)return f;if(m!==g&&(N=m),j!==g){if(N===g)return j;typeof m=="string"||typeof j=="string"?(m=Pr(m),j=Pr(j)):(m=zs(m),j=zs(j)),N=u(m,j)}return N}}function Hs(u){return En(function(f){return f=Qt(f,Pn(wt())),Vt(function(m){var j=this;return u(f,function(N){return hn(N,j,m)})})})}function Ec(u,f){var m=(f=f===g?" ":Pr(f)).length;if(m<2)return m?gc(f,u):f;var j=gc(f,ic(u/fo(f)));return lo(f)?gi(jr(j),0,u).join(""):j.slice(0,u)}function Do(u){return function(f,m,j){return j&&typeof j!="number"&&pr(f,m,j)&&(m=j=g),f=Ro(f),m===g?(m=f,f=0):m=Ro(m),function(N,U,oe,le){for(var _e=-1,Re=Qn(ic((U-N)/(oe||1)),0),ke=Ze(Re);Re--;)ke[le?Re:++_e]=N,N+=oe;return ke}(f,m,j=j===g?f<m?1:-1:Ro(j),u)}}function ja(u){return function(f,m){return typeof f=="string"&&typeof m=="string"||(f=wr(f),m=wr(m)),u(f,m)}}function Sc(u,f,m,j,N,U,oe,le,_e,Re){var ke=8&f;f|=ke?M:R,4&(f&=~(ke?R:M))||(f&=-4);var Q=[u,f,N,ke?U:g,ke?oe:g,ke?g:U,ke?g:oe,le,_e,Re],st=m.apply(g,Q);return Mc(u)&&Qs(st,Q),st.placeholder=j,el(st,u,f)}function jc(u){var f=O[u];return function(m,j){if(m=wr(m),(j=j==null?0:fr(Gt(j),292))&&pf(m)){var N=(cn(m)+"e").split("e");return+((N=(cn(f(N[0]+"e"+(+N[1]+j)))+"e").split("e"))[0]+"e"+(+N[1]-j))}return f(m)}}var Xs=zi&&1/Ho(new zi([,-0]))[1]==G?function(u){return new zi(u)}:zu;function Pc(u){return function(f){var m=ar(f);return m==ae?sr(f):m==Se?da(f):function(j,N){return Qt(N,function(U){return[U,j[U]]})}(f,u(f))}}function No(u,f,m,j,N,U,oe,le){var _e=2&f;if(!_e&&typeof u!="function")throw new K(E);var Re=j?j.length:0;if(Re||(f&=-97,j=N=g),oe=oe===g?oe:Qn(Gt(oe),0),le=le===g?le:Gt(le),Re-=N?N.length:0,f&R){var ke=j,Q=N;j=N=g}var st=_e?g:ju(u),pt=[u,f,m,j,N,ke,Q,U,oe,le];if(st&&function(ze,Xe){var Tt=ze[1],at=Xe[1],Mt=Tt|at,Nt=Mt<131,Kt=at==C&&Tt==8||at==C&&Tt==B&&ze[7].length<=Xe[8]||at==384&&Xe[7].length<=Xe[8]&&Tt==8;if(!Nt&&!Kt)return ze;1&at&&(ze[2]=Xe[2],Mt|=1&Tt?0:4);var bt=Xe[3];if(bt){var Pt=ze[3];ze[3]=Pt?xn(Pt,bt,Xe[4]):bt,ze[4]=Pt?Sr(ze[3],P):Xe[4]}(bt=Xe[5])&&(Pt=ze[5],ze[5]=Pt?wc(Pt,bt,Xe[6]):bt,ze[6]=Pt?Sr(ze[5],P):Xe[6]),(bt=Xe[7])&&(ze[7]=bt),at&C&&(ze[8]=ze[8]==null?Xe[8]:fr(ze[8],Xe[8])),ze[9]==null&&(ze[9]=Xe[9]),ze[0]=Xe[0],ze[1]=Mt}(pt,st),u=pt[0],f=pt[1],m=pt[2],j=pt[3],N=pt[4],!(le=pt[9]=pt[9]===g?_e?0:u.length:Qn(pt[9]-Re,0))&&24&f&&(f&=-25),f&&f!=1)jt=f==8||f==D?function(ze,Xe,Tt){var at=wu(ze);return function Mt(){for(var Nt=arguments.length,Kt=Ze(Nt),bt=Nt,Pt=Pa(Mt);bt--;)Kt[bt]=arguments[bt];var Dn=Nt<3&&Kt[0]!==Pt&&Kt[Nt-1]!==Pt?[]:Sr(Kt,Pt);return(Nt-=Dn.length)<Tt?Sc(ze,Xe,xu,Mt.placeholder,g,Kt,Dn,g,g,Tt-Nt):hn(this&&this!==Mn&&this instanceof Mt?at:ze,this,Kt)}}(u,f,le):f!=M&&f!=33||N.length?xu.apply(g,pt):function(ze,Xe,Tt,at){var Mt=1&Xe,Nt=wu(ze);return function Kt(){for(var bt=-1,Pt=arguments.length,Dn=-1,Dr=at.length,vo=Ze(Dr+Pt),zn=this&&this!==Mn&&this instanceof Kt?Nt:ze;++Dn<Dr;)vo[Dn]=at[Dn];for(;Pt--;)vo[Dn++]=arguments[++bt];return hn(zn,Mt?Tt:this,vo)}}(u,f,m,j);else var jt=function(ze,Xe,Tt){var at=1&Xe,Mt=wu(ze);return function Nt(){return(this&&this!==Mn&&this instanceof Nt?Mt:ze).apply(at?Tt:this,arguments)}}(u,f,m);return el((st?Tf:Qs)(jt,pt),u,f)}function Gf(u,f,m,j){return u===g||Sn(u,Fe[m])&&!Qe.call(j,m)?f:u}function Hf(u,f,m,j,N,U){return An(u)&&An(f)&&(U.set(f,u),vc(u,f,g,Hf,U),U.delete(f)),u}function Qd(u){return ei(u)?g:u}function Xf(u,f,m,j,N,U){var oe=1&m,le=u.length,_e=f.length;if(le!=_e&&!(oe&&_e>le))return!1;var Re=U.get(u),ke=U.get(f);if(Re&&ke)return Re==f&&ke==u;var Q=-1,st=!0,pt=2&m?new di:g;for(U.set(u,f),U.set(f,u);++Q<le;){var jt=u[Q],ze=f[Q];if(j)var Xe=oe?j(ze,jt,Q,f,u,U):j(jt,ze,Q,u,f,U);if(Xe!==g){if(Xe)continue;st=!1;break}if(pt){if(!fu(f,function(Tt,at){if(!So(pt,at)&&(jt===Tt||N(jt,Tt,m,j,U)))return pt.push(at)})){st=!1;break}}else if(jt!==ze&&!N(jt,ze,m,j,U)){st=!1;break}}return U.delete(u),U.delete(f),st}function En(u){return Dc(qs(u,g,ol),u+"")}function Su(u){return Ms(u,$n,Vs)}function Ys(u){return Ms(u,or,De)}var ju=sc?function(u){return sc.get(u)}:zu;function ho(u){for(var f=u.name+"",m=ba[f],j=Qe.call(ba,f)?m.length:0;j--;){var N=m[j],U=N.func;if(U==null||U==u)return N.name}return f}function Pa(u){return(Qe.call(F,"placeholder")?F:u).placeholder}function wt(){var u=F.iteratee||Lu;return u=u===Lu?Ds:u,arguments.length?u(arguments[0],arguments[1]):u}function Aa(u,f){var m,j,N=u.__data__;return((j=typeof(m=f))=="string"||j=="number"||j=="symbol"||j=="boolean"?m!=="__proto__":m===null)?N[typeof f=="string"?"string":"hash"]:N.map}function Ac(u){for(var f=$n(u),m=f.length;m--;){var j=f[m],N=u[j];f[m]=[j,N,$s(N)]}return f}function mi(u,f){var m=function(j,N){return j==null?g:j[N]}(u,f);return xa(m)?m:g}var Vs=xs?function(u){return u==null?[]:(u=w(u),cr(xs(u),function(f){return lr.call(u,f)}))}:Gc,De=xs?function(u){for(var f=[];u;)Vn(f,Vs(u)),u=Xo(u);return f}:Gc,ar=gn;function Ws(u,f,m){for(var j=-1,N=(f=vi(f,u)).length,U=!1;++j<N;){var oe=Wn(f[j]);if(!(U=u!=null&&m(u,oe)))break;u=u[oe]}return U||++j!=N?U:!!(N=u==null?0:u.length)&&Vi(N)&&Co(oe,N)&&(Bt(u)||Yi(u))}function Ks(u){return typeof u.constructor!="function"||Ta(u)?{}:ma(Xo(u))}function Yf(u){return Bt(u)||Yi(u)||!!(pi&&u&&u[pi])}function Co(u,f){var m=typeof u;return!!(f=f==null?W:f)&&(m=="number"||m!="symbol"&&ot.test(u))&&u>-1&&u%1==0&&u<f}function pr(u,f,m){if(!An(m))return!1;var j=typeof f;return!!(j=="number"?Or(m)&&Co(f,m.length):j=="string"&&f in m)&&Sn(m[f],u)}function Tc(u,f){if(Bt(u))return!1;var m=typeof u;return!(m!="number"&&m!="symbol"&&m!="boolean"&&u!=null&&!ur(u))||Rt.test(u)||!nn.test(u)||f!=null&&u in w(f)}function Mc(u){var f=ho(u),m=F[f];if(typeof m!="function"||!(f in Jt.prototype))return!1;if(u===m)return!0;var j=ju(m);return!!j&&u===j[0]}(va&&ar(new va(new ArrayBuffer(1)))!=et||Ao&&ar(new Ao)!=ae||Es&&ar(Es.resolve())!=Pe||zi&&ar(new zi)!=Se||ga&&ar(new ga)!=Ae)&&(ar=function(u){var f=gn(u),m=f==he?u.constructor:g,j=m?Tr(m):"";if(j)switch(j){case Vd:return et;case hf:return ae;case Wd:return Pe;case Kd:return Se;case yf:return Ae}return f});var Vf=it?Qo:Zn;function Ta(u){var f=u&&u.constructor;return u===(typeof f=="function"&&f.prototype||Fe)}function $s(u){return u==u&&!An(u)}function Zs(u,f){return function(m){return m!=null&&m[u]===f&&(f!==g||u in w(m))}}function qs(u,f,m){return f=Qn(f===g?u.length-1:f,0),function(){for(var j=arguments,N=-1,U=Qn(j.length-f,0),oe=Ze(U);++N<U;)oe[N]=j[f+N];N=-1;for(var le=Ze(f+1);++N<f;)le[N]=j[N];return le[f]=m(oe),hn(u,this,le)}}function Js(u,f){return f.length<2?u:Ko(u,no(f,0,-1))}function Wf(u,f){for(var m=u.length,j=fr(f.length,m),N=Ar(u);j--;){var U=f[j];u[j]=Co(U,m)?N[U]:g}return u}function kc(u,f){if((f!=="constructor"||typeof u[f]!="function")&&f!="__proto__")return u[f]}var Qs=Nc(Tf),Ma=ff||function(u,f){return Mn.setTimeout(u,f)},Dc=Nc(qd);function el(u,f,m){var j=f+"";return Dc(u,function(N,U){var oe=U.length;if(!oe)return N;var le=oe-1;return U[le]=(oe>1?"& ":"")+U[le],U=U.join(oe>2?", ":" "),N.replace(q,`{
/* [wrapped with `+U+`] */
`)}(j,function(N,U){return yr(te,function(oe){var le="_."+oe[0];U&oe[1]&&!vr(N,le)&&N.push(le)}),N.sort()}(function(N){var U=N.match(de);return U?U[1].split(ie):[]}(j),m)))}function Nc(u){var f=0,m=0;return function(){var j=ac(),N=16-(j-m);if(m=j,N>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(g,arguments)}}function Ui(u,f){var m=-1,j=u.length,N=j-1;for(f=f===g?j:f;++m<f;){var U=Cs(m,N),oe=u[U];u[U]=u[m],u[m]=oe}return u.length=f,u}var Kf=function(u){var f=Da(u,function(j){return m.size===500&&m.clear(),j}),m=f.cache;return f}(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace($t,function(m,j,N,U){f.push(N?U.replace(We,"$1"):j||m)}),f});function Wn(u){if(typeof u=="string"||ur(u))return u;var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function Tr(u){if(u!=null){try{return Xt.call(u)}catch(f){}try{return u+""}catch(f){}}return""}function $f(u){if(u instanceof Jt)return u.clone();var f=new Qr(u.__wrapped__,u.__chain__);return f.__actions__=Ar(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}var Gr=Vt(function(u,f){return In(u)?Wo(u,rr(f,1,In,!0)):[]}),Zf=Vt(function(u,f){var m=mn(f);return In(m)&&(m=g),In(u)?Wo(u,rr(f,1,In,!0),wt(m,2)):[]}),tl=Vt(function(u,f){var m=mn(f);return In(m)&&(m=g),In(u)?Wo(u,rr(f,1,In,!0),g,m):[]});function nl(u,f,m){var j=u==null?0:u.length;if(!j)return-1;var N=m==null?0:Gt(m);return N<0&&(N=Qn(j+N,0)),xo(u,wt(f,3),N)}function rl(u,f,m){var j=u==null?0:u.length;if(!j)return-1;var N=j-1;return m!==g&&(N=Gt(m),N=m<0?Qn(j+N,0):fr(N,j-1)),xo(u,wt(f,3),N,!0)}function ol(u){return u!=null&&u.length?rr(u,1):[]}function il(u){return u&&u.length?u[0]:g}var qf=Vt(function(u){var f=Qt(u,Oc);return f.length&&f[0]===u[0]?hc(f):[]}),al=Vt(function(u){var f=mn(u),m=Qt(u,Oc);return f===mn(m)?f=g:m.pop(),m.length&&m[0]===u[0]?hc(m,wt(f,2)):[]}),Pu=Vt(function(u){var f=mn(u),m=Qt(u,Oc);return(f=typeof f=="function"?f:g)&&m.pop(),m.length&&m[0]===u[0]?hc(m,g,f):[]});function mn(u){var f=u==null?0:u.length;return f?u[f-1]:g}var eh=Vt(Jf);function Jf(u,f){return u&&u.length&&f&&f.length?Ns(u,f):u}var ul=En(function(u,f){var m=u==null?0:u.length,j=pc(u,f);return Ea(u,Qt(f,function(N){return Co(N,m)?+N:N}).sort(Rf)),j});function Cc(u){return u==null?u:Yd.call(u)}var Mr=Vt(function(u){return yi(rr(u,1,In,!0))}),Kn=Vt(function(u){var f=mn(u);return In(f)&&(f=g),yi(rr(u,1,In,!0),wt(f,2))}),th=Vt(function(u){var f=mn(u);return f=typeof f=="function"?f:g,yi(rr(u,1,In,!0),g,f)});function kr(u){if(!u||!u.length)return[];var f=0;return u=cr(u,function(m){if(In(m))return f=Qn(m.length,f),!0}),Ri(f,function(m){return Qt(u,br(m))})}function St(u,f){if(!u||!u.length)return[];var m=kr(u);return f==null?m:Qt(m,function(j){return hn(f,g,j)})}var cl=Vt(function(u,f){return In(u)?Wo(u,f):[]}),sl=Vt(function(u){return _c(cr(u,In))}),ll=Vt(function(u){var f=mn(u);return In(f)&&(f=g),_c(cr(u,In),wt(f,2))}),Qf=Vt(function(u){var f=mn(u);return f=typeof f=="function"?f:g,_c(cr(u,In),g,f)}),ep=Vt(kr),nh=Vt(function(u){var f=u.length,m=f>1?u[f-1]:g;return m=typeof m=="function"?(u.pop(),m):g,St(u,m)});function tp(u){var f=F(u);return f.__chain__=!0,f}function ka(u,f){return f(u)}var rh=En(function(u){var f=u.length,m=f?u[0]:0,j=this.__wrapped__,N=function(U){return pc(U,u)};return!(f>1||this.__actions__.length)&&j instanceof Jt&&Co(m)?((j=j.slice(m,+m+(f?1:0))).__actions__.push({func:ka,args:[N],thisArg:g}),new Qr(j,this.__chain__).thru(function(U){return f&&!U.length&&U.push(g),U})):this.thru(N)}),fl=xc(function(u,f,m){Qe.call(u,m)?++u[m]:Mo(u,m,1)}),oh=Bf(nl),ih=Bf(rl);function pl(u,f){return(Bt(u)?yr:wn)(u,wt(f,3))}function Gi(u,f){return(Bt(u)?nc:_f)(u,wt(f,3))}var np=xc(function(u,f,m){Qe.call(u,m)?u[m].push(f):Mo(u,m,[f])}),zt=Vt(function(u,f,m){var j=-1,N=typeof f=="function",U=Or(u)?Ze(u.length):[];return wn(u,function(oe){U[++j]=N?hn(f,oe,m):Oa(oe,f,m)}),U}),rp=xc(function(u,f,m){Mo(u,m,f)});function Hi(u,f){return(Bt(u)?Qt:to)(u,wt(f,3))}var dl=xc(function(u,f,m){u[m?0:1].push(f)},function(){return[[],[]]}),ah=Vt(function(u,f){if(u==null)return[];var m=f.length;return m>1&&pr(u,f[0],f[1])?f=[]:m>2&&pr(f[0],f[1],f[2])&&(f=[f[0]]),Pf(u,rr(f,1),[])}),Au=Gd||function(){return Mn.Date.now()};function hl(u,f,m){return f=m?g:f,f=u&&f==null?u.length:f,No(u,C,g,g,g,g,f)}function yl(u,f){var m;if(typeof f!="function")throw new K(E);return u=Gt(u),function(){return--u>0&&(m=f.apply(this,arguments)),u<=1&&(f=g),m}}var vl=Vt(function(u,f,m){var j=1;if(m.length){var N=Sr(m,Pa(vl));j|=M}return No(u,j,f,m,N)}),op=Vt(function(u,f,m){var j=3;if(m.length){var N=Sr(m,Pa(op));j|=M}return No(f,j,u,m,N)});function ip(u,f,m){var j,N,U,oe,le,_e,Re=0,ke=!1,Q=!1,st=!0;if(typeof u!="function")throw new K(E);function pt(Mt){var Nt=j,Kt=N;return j=N=g,Re=Mt,oe=u.apply(Kt,Nt)}function jt(Mt){return Re=Mt,le=Ma(Xe,f),ke?pt(Mt):oe}function ze(Mt){var Nt=Mt-_e;return _e===g||Nt>=f||Nt<0||Q&&Mt-Re>=U}function Xe(){var Mt=Au();if(ze(Mt))return Tt(Mt);le=Ma(Xe,function(Nt){var Kt=f-(Nt-_e);return Q?fr(Kt,U-(Nt-Re)):Kt}(Mt))}function Tt(Mt){return le=g,st&&j?pt(Mt):(j=N=g,oe)}function at(){var Mt=Au(),Nt=ze(Mt);if(j=arguments,N=this,_e=Mt,Nt){if(le===g)return jt(_e);if(Q)return Fs(le),le=Ma(Xe,f),pt(_e)}return le===g&&(le=Ma(Xe,f)),oe}return f=wr(f)||0,An(m)&&(ke=!!m.leading,U=(Q="maxWait"in m)?Qn(wr(m.maxWait)||0,f):U,st="trailing"in m?!!m.trailing:st),at.cancel=function(){le!==g&&Fs(le),Re=0,j=_e=N=le=g},at.flush=function(){return le===g?oe:Tt(Au())},at}var Tu=Vt(function(u,f){return Ts(u,1,f)}),uh=Vt(function(u,f,m){return Ts(u,wr(f)||0,m)});function Da(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new K(E);var m=function(){var j=arguments,N=f?f.apply(this,j):j[0],U=m.cache;if(U.has(N))return U.get(N);var oe=u.apply(this,j);return m.cache=U.set(N,oe)||U,oe};return m.cache=new(Da.Cache||To),m}function Rc(u){if(typeof u!="function")throw new K(E);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}Da.Cache=To;var ch=Cf(function(u,f){var m=(f=f.length==1&&Bt(f[0])?Qt(f[0],Pn(wt())):Qt(rr(f,1),Pn(wt()))).length;return Vt(function(j){for(var N=-1,U=fr(j.length,m);++N<U;)j[N]=f[N].call(this,j[N]);return hn(u,this,j)})}),Xi=Vt(function(u,f){var m=Sr(f,Pa(Xi));return No(u,M,g,f,m)}),qo=Vt(function(u,f){var m=Sr(f,Pa(qo));return No(u,R,g,f,m)}),gl=En(function(u,f){return No(u,B,g,g,g,f)});function Sn(u,f){return u===f||u!=u&&f!=f}var Ic=ja(kn),Mu=ja(function(u,f){return u>=f}),Yi=ks(function(){return arguments}())?ks:function(u){return Tn(u)&&Qe.call(u,"callee")&&!lr.call(u,"callee")},Bt=Ze.isArray,ap=cu?Pn(cu):function(u){return Tn(u)&&gn(u)==Ue};function Or(u){return u!=null&&Vi(u.length)&&!Qo(u)}function In(u){return Tn(u)&&Or(u)}var Jo=Hd||Zn,Lc=ec?Pn(ec):function(u){return Tn(u)&&gn(u)==L};function bl(u){if(!Tn(u))return!1;var f=gn(u);return f==H||f=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!ei(u)}function Qo(u){if(!An(u))return!1;var f=gn(u);return f==V||f==$||f=="[object AsyncFunction]"||f=="[object Proxy]"}function zc(u){return typeof u=="number"&&u==Gt(u)}function Vi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=W}function An(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Tn(u){return u!=null&&typeof u=="object"}var up=su?Pn(su):function(u){return Tn(u)&&ar(u)==ae};function ml(u){return typeof u=="number"||Tn(u)&&gn(u)==Oe}function ei(u){if(!Tn(u)||gn(u)!=he)return!1;var f=Xo(u);if(f===null)return!0;var m=Qe.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&Xt.call(m)==Fr}var _l=ca?Pn(ca):function(u){return Tn(u)&&gn(u)==Be},Na=si?Pn(si):function(u){return Tn(u)&&ar(u)==Se};function ku(u){return typeof u=="string"||!Bt(u)&&Tn(u)&&gn(u)==ve}function ur(u){return typeof u=="symbol"||Tn(u)&&gn(u)==je}var _i=uo?Pn(uo):function(u){return Tn(u)&&Vi(u.length)&&!!an[gn(u)]},Ca=ja(Zo),Du=ja(function(u,f){return u<=f});function Ra(u){if(!u)return[];if(Or(u))return ku(u)?jr(u):Ar(u);if(Yo&&u[Yo])return function(m){for(var j,N=[];!(j=m.next()).done;)N.push(j.value);return N}(u[Yo]());var f=ar(u);return(f==ae?sr:f==Se?Ho:wi)(u)}function Ro(u){return u?(u=wr(u))===G||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function Gt(u){var f=Ro(u),m=f%1;return f==f?m?f-m:f:0}function Ol(u){return u?hi(Gt(u),0,ue):0}function wr(u){if(typeof u=="number")return u;if(ur(u))return ne;if(An(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=An(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=pu(u);var m=tr.test(u);return m||Fn.test(u)?wo(u.slice(2),m?2:8):Yn.test(u)?ne:+u}function wl(u){return ko(u,or(u))}function cn(u){return u==null?"":Pr(u)}var cp=Fi(function(u,f){if(Ta(f)||Or(f))ko(f,$n(f),u);else for(var m in f)Qe.call(f,m)&&_a(u,m,f[m])}),xl=Fi(function(u,f){ko(f,or(f),u)}),ti=Fi(function(u,f,m,j){ko(f,or(f),u,j)}),El=Fi(function(u,f,m,j){ko(f,$n(f),u,j)}),sp=En(pc),lp=Vt(function(u,f){u=w(u);var m=-1,j=f.length,N=j>2?f[2]:g;for(N&&pr(f[0],f[1],N)&&(j=1);++m<j;)for(var U=f[m],oe=or(U),le=-1,_e=oe.length;++le<_e;){var Re=oe[le],ke=u[Re];(ke===g||Sn(ke,Fe[Re])&&!Qe.call(u,Re))&&(u[Re]=U[Re])}return u}),Sl=Vt(function(u){return u.push(g,Hf),hn(Al,g,u)});function Nu(u,f,m){var j=u==null?g:Ko(u,f);return j===g?m:j}function Cu(u,f){return u!=null&&Ws(u,f,xf)}var fp=Uf(function(u,f,m){f!=null&&typeof f.toString!="function"&&(f=tn.call(f)),u[f]=m},Iu(dr)),jl=Uf(function(u,f,m){f!=null&&typeof f.toString!="function"&&(f=tn.call(f)),Qe.call(u,f)?u[f].push(m):u[f]=[m]},wt),Pl=Vt(Oa);function $n(u){return Or(u)?Ss(u):$o(u)}function or(u){return Or(u)?Ss(u,!0):$d(u)}var Oi=Fi(function(u,f,m){vc(u,f,m)}),Al=Fi(function(u,f,m,j){vc(u,f,m,j)}),pp=En(function(u,f){var m={};if(u==null)return m;var j=!1;f=Qt(f,function(U){return U=vi(U,u),j||(j=U.length>1),U}),ko(u,Ys(u),m),j&&(m=Ur(m,7,Qd));for(var N=f.length;N--;)mc(m,f[N]);return m}),Tl=En(function(u,f){return u==null?{}:function(m,j){return Af(m,j,function(N,U){return Cu(m,U)})}(u,f)});function Bc(u,f){if(u==null)return{};var m=Qt(Ys(u),function(j){return[j]});return f=wt(f),Af(u,m,function(j,N){return f(j,N[0])})}var dp=Pc($n),Ml=Pc(or);function wi(u){return u==null?[]:pa(u,$n(u))}var Fc=bi(function(u,f,m){return f=f.toLowerCase(),u+(m?Ru(f):f)});function Ru(u){return Ln(cn(u).toLowerCase())}function Uc(u){return(u=cn(u))&&u.replace(gt,hu).replace(Oo,"")}var kl=bi(function(u,f,m){return u+(m?"-":"")+f.toLowerCase()}),hp=bi(function(u,f,m){return u+(m?" ":"")+f.toLowerCase()}),Dl=zf("toLowerCase"),yp=bi(function(u,f,m){return u+(m?"_":"")+f.toLowerCase()}),Ia=bi(function(u,f,m){return u+(m?" ":"")+Ln(f)}),sh=bi(function(u,f,m){return u+(m?" ":"")+f.toUpperCase()}),Ln=zf("toUpperCase");function yo(u,f,m){return u=cn(u),(f=m?g:f)===g?function(j){return ou.test(j)}(u)?function(j){return j.match(aa)||[]}(u):function(j){return j.match(me)||[]}(u):u.match(f)||[]}var vp=Vt(function(u,f){try{return hn(u,g,f)}catch(m){return bl(m)?m:new Wt(m)}}),Io=En(function(u,f){return yr(f,function(m){m=Wn(m),Mo(u,m,vl(u[m],u))}),u});function Iu(u){return function(){return u}}var Nl=Ff(),gp=Ff(!0);function dr(u){return u}function Lu(u){return Ds(typeof u=="function"?u:Ur(u,1))}var Cl=Vt(function(u,f){return function(m){return Oa(m,u,f)}}),lh=Vt(function(u,f){return function(m){return Oa(u,m,f)}});function ni(u,f,m){var j=$n(f),N=dc(f,j);m!=null||An(f)&&(N.length||!j.length)||(m=f,f=u,u=this,N=dc(f,$n(f)));var U=!(An(m)&&"chain"in m&&!m.chain),oe=Qo(u);return yr(N,function(le){var _e=f[le];u[le]=_e,oe&&(u.prototype[le]=function(){var Re=this.__chain__;if(U||Re){var ke=u(this.__wrapped__),Q=ke.__actions__=Ar(this.__actions__);return Q.push({func:_e,args:arguments,thisArg:u}),ke.__chain__=Re,ke}return _e.apply(u,Vn([this.value()],arguments))})}),u}function zu(){}var Rl=Hs(Qt),bp=Hs(rc),Bu=Hs(fu);function La(u){return Tc(u)?br(Wn(u)):function(f){return function(m){return Ko(m,f)}}(u)}var Il=Do(),mp=Do(!0);function Gc(){return[]}function Zn(){return!1}var Hc=Eu(function(u,f){return u+f},0),Ll=jc("ceil"),zl=Eu(function(u,f){return u/f},1),_p=jc("floor"),Xc,Bl=Eu(function(u,f){return u*f},1),Yc=jc("round"),Op=Eu(function(u,f){return u-f},0);return F.after=function(u,f){if(typeof f!="function")throw new K(E);return u=Gt(u),function(){if(--u<1)return f.apply(this,arguments)}},F.ary=hl,F.assign=cp,F.assignIn=xl,F.assignInWith=ti,F.assignWith=El,F.at=sp,F.before=yl,F.bind=vl,F.bindAll=Io,F.bindKey=op,F.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Bt(u)?u:[u]},F.chain=tp,F.chunk=function(u,f,m){f=(m?pr(u,f,m):f===g)?1:Qn(Gt(f),0);var j=u==null?0:u.length;if(!j||f<1)return[];for(var N=0,U=0,oe=Ze(ic(j/f));N<j;)oe[U++]=no(u,N,N+=f);return oe},F.compact=function(u){for(var f=-1,m=u==null?0:u.length,j=0,N=[];++f<m;){var U=u[f];U&&(N[j++]=U)}return N},F.concat=function(){var u=arguments.length;if(!u)return[];for(var f=Ze(u-1),m=arguments[0],j=u;j--;)f[j-1]=arguments[j];return Vn(Bt(m)?Ar(m):[m],rr(f,1))},F.cond=function(u){var f=u==null?0:u.length,m=wt();return u=f?Qt(u,function(j){if(typeof j[1]!="function")throw new K(E);return[m(j[0]),j[1]]}):[],Vt(function(j){for(var N=-1;++N<f;){var U=u[N];if(hn(U[0],this,j))return hn(U[1],this,j)}})},F.conforms=function(u){return function(f){var m=$n(f);return function(j){return As(j,f,m)}}(Ur(u,1))},F.constant=Iu,F.countBy=fl,F.create=function(u,f){var m=ma(u);return f==null?m:Ps(m,f)},F.curry=function u(f,m,j){var N=No(f,8,g,g,g,g,g,m=j?g:m);return N.placeholder=u.placeholder,N},F.curryRight=function u(f,m,j){var N=No(f,D,g,g,g,g,g,m=j?g:m);return N.placeholder=u.placeholder,N},F.debounce=ip,F.defaults=lp,F.defaultsDeep=Sl,F.defer=Tu,F.delay=uh,F.difference=Gr,F.differenceBy=Zf,F.differenceWith=tl,F.drop=function(u,f,m){var j=u==null?0:u.length;return j?no(u,(f=m||f===g?1:Gt(f))<0?0:f,j):[]},F.dropRight=function(u,f,m){var j=u==null?0:u.length;return j?no(u,0,(f=j-(f=m||f===g?1:Gt(f)))<0?0:f):[]},F.dropRightWhile=function(u,f){return u&&u.length?Ou(u,wt(f,3),!0,!0):[]},F.dropWhile=function(u,f){return u&&u.length?Ou(u,wt(f,3),!0):[]},F.fill=function(u,f,m,j){var N=u==null?0:u.length;return N?(m&&typeof m!="number"&&pr(u,f,m)&&(m=0,j=N),function(U,oe,le,_e){var Re=U.length;for((le=Gt(le))<0&&(le=-le>Re?0:Re+le),(_e=_e===g||_e>Re?Re:Gt(_e))<0&&(_e+=Re),_e=le>_e?0:Ol(_e);le<_e;)U[le++]=oe;return U}(u,f,m,j)):[]},F.filter=function(u,f){return(Bt(u)?cr:un)(u,wt(f,3))},F.flatMap=function(u,f){return rr(Hi(u,f),1)},F.flatMapDeep=function(u,f){return rr(Hi(u,f),G)},F.flatMapDepth=function(u,f,m){return m=m===g?1:Gt(m),rr(Hi(u,f),m)},F.flatten=ol,F.flattenDeep=function(u){return u!=null&&u.length?rr(u,G):[]},F.flattenDepth=function(u,f){return u!=null&&u.length?rr(u,f=f===g?1:Gt(f)):[]},F.flip=function(u){return No(u,512)},F.flow=Nl,F.flowRight=gp,F.fromPairs=function(u){for(var f=-1,m=u==null?0:u.length,j={};++f<m;){var N=u[f];j[N[0]]=N[1]}return j},F.functions=function(u){return u==null?[]:dc(u,$n(u))},F.functionsIn=function(u){return u==null?[]:dc(u,or(u))},F.groupBy=np,F.initial=function(u){return u!=null&&u.length?no(u,0,-1):[]},F.intersection=qf,F.intersectionBy=al,F.intersectionWith=Pu,F.invert=fp,F.invertBy=jl,F.invokeMap=zt,F.iteratee=Lu,F.keyBy=rp,F.keys=$n,F.keysIn=or,F.map=Hi,F.mapKeys=function(u,f){var m={};return f=wt(f,3),ft(u,function(j,N,U){Mo(m,f(j,N,U),j)}),m},F.mapValues=function(u,f){var m={};return f=wt(f,3),ft(u,function(j,N,U){Mo(m,N,f(j,N,U))}),m},F.matches=function(u){return Ef(Ur(u,1))},F.matchesProperty=function(u,f){return Sf(u,Ur(f,1))},F.memoize=Da,F.merge=Oi,F.mergeWith=Al,F.method=Cl,F.methodOf=lh,F.mixin=ni,F.negate=Rc,F.nthArg=function(u){return u=Gt(u),Vt(function(f){return jf(f,u)})},F.omit=pp,F.omitBy=function(u,f){return Bc(u,Rc(wt(f)))},F.once=function(u){return yl(2,u)},F.orderBy=function(u,f,m,j){return u==null?[]:(Bt(f)||(f=f==null?[]:[f]),Bt(m=j?g:m)||(m=m==null?[]:[m]),Pf(u,f,m))},F.over=Rl,F.overArgs=ch,F.overEvery=bp,F.overSome=Bu,F.partial=Xi,F.partialRight=qo,F.partition=dl,F.pick=Tl,F.pickBy=Bc,F.property=La,F.propertyOf=function(u){return function(f){return u==null?g:Ko(u,f)}},F.pull=eh,F.pullAll=Jf,F.pullAllBy=function(u,f,m){return u&&u.length&&f&&f.length?Ns(u,f,wt(m,2)):u},F.pullAllWith=function(u,f,m){return u&&u.length&&f&&f.length?Ns(u,f,g,m):u},F.pullAt=ul,F.range=Il,F.rangeRight=mp,F.rearg=gl,F.reject=function(u,f){return(Bt(u)?cr:un)(u,Rc(wt(f,3)))},F.remove=function(u,f){var m=[];if(!u||!u.length)return m;var j=-1,N=[],U=u.length;for(f=wt(f,3);++j<U;){var oe=u[j];f(oe,j,u)&&(m.push(oe),N.push(j))}return Ea(u,N),m},F.rest=function(u,f){if(typeof u!="function")throw new K(E);return Vt(u,f=f===g?f:Gt(f))},F.reverse=Cc,F.sampleSize=function(u,f,m){return f=(m?pr(u,f,m):f===g)?1:Gt(f),(Bt(u)?gf:Rs)(u,f)},F.set=function(u,f,m){return u==null?u:Sa(u,f,m)},F.setWith=function(u,f,m,j){return j=typeof j=="function"?j:g,u==null?u:Sa(u,f,m,j)},F.shuffle=function(u){return(Bt(u)?bf:Jd)(u)},F.slice=function(u,f,m){var j=u==null?0:u.length;return j?(m&&typeof m!="number"&&pr(u,f,m)?(f=0,m=j):(f=f==null?0:Gt(f),m=m===g?j:Gt(m)),no(u,f,m)):[]},F.sortBy=ah,F.sortedUniq=function(u){return u&&u.length?Mf(u):[]},F.sortedUniqBy=function(u,f){return u&&u.length?Mf(u,wt(f,2)):[]},F.split=function(u,f,m){return m&&typeof m!="number"&&pr(u,f,m)&&(f=m=g),(m=m===g?ue:m>>>0)?(u=cn(u))&&(typeof f=="string"||f!=null&&!_l(f))&&!(f=Pr(f))&&lo(u)?gi(jr(u),0,m):u.split(f,m):[]},F.spread=function(u,f){if(typeof u!="function")throw new K(E);return f=f==null?0:Qn(Gt(f),0),Vt(function(m){var j=m[f],N=gi(m,0,f);return j&&Vn(N,j),hn(u,this,N)})},F.tail=function(u){var f=u==null?0:u.length;return f?no(u,1,f):[]},F.take=function(u,f,m){return u&&u.length?no(u,0,(f=m||f===g?1:Gt(f))<0?0:f):[]},F.takeRight=function(u,f,m){var j=u==null?0:u.length;return j?no(u,(f=j-(f=m||f===g?1:Gt(f)))<0?0:f,j):[]},F.takeRightWhile=function(u,f){return u&&u.length?Ou(u,wt(f,3),!1,!0):[]},F.takeWhile=function(u,f){return u&&u.length?Ou(u,wt(f,3)):[]},F.tap=function(u,f){return f(u),u},F.throttle=function(u,f,m){var j=!0,N=!0;if(typeof u!="function")throw new K(E);return An(m)&&(j="leading"in m?!!m.leading:j,N="trailing"in m?!!m.trailing:N),ip(u,f,{leading:j,maxWait:f,trailing:N})},F.thru=ka,F.toArray=Ra,F.toPairs=dp,F.toPairsIn=Ml,F.toPath=function(u){return Bt(u)?Qt(u,Wn):ur(u)?[u]:Ar(Kf(cn(u)))},F.toPlainObject=wl,F.transform=function(u,f,m){var j=Bt(u),N=j||Jo(u)||_i(u);if(f=wt(f,4),m==null){var U=u&&u.constructor;m=N?j?new U:[]:An(u)&&Qo(U)?ma(Xo(u)):{}}return(N?yr:ft)(u,function(oe,le,_e){return f(m,oe,le,_e)}),m},F.unary=function(u){return hl(u,1)},F.union=Mr,F.unionBy=Kn,F.unionWith=th,F.uniq=function(u){return u&&u.length?yi(u):[]},F.uniqBy=function(u,f){return u&&u.length?yi(u,wt(f,2)):[]},F.uniqWith=function(u,f){return f=typeof f=="function"?f:g,u&&u.length?yi(u,g,f):[]},F.unset=function(u,f){return u==null||mc(u,f)},F.unzip=kr,F.unzipWith=St,F.update=function(u,f,m){return u==null?u:kf(u,f,Bs(m))},F.updateWith=function(u,f,m,j){return j=typeof j=="function"?j:g,u==null?u:kf(u,f,Bs(m),j)},F.values=wi,F.valuesIn=function(u){return u==null?[]:pa(u,or(u))},F.without=cl,F.words=yo,F.wrap=function(u,f){return Xi(Bs(f),u)},F.xor=sl,F.xorBy=ll,F.xorWith=Qf,F.zip=ep,F.zipObject=function(u,f){return Nf(u||[],f||[],_a)},F.zipObjectDeep=function(u,f){return Nf(u||[],f||[],Sa)},F.zipWith=nh,F.entries=dp,F.entriesIn=Ml,F.extend=xl,F.extendWith=ti,ni(F,F),F.add=Hc,F.attempt=vp,F.camelCase=Fc,F.capitalize=Ru,F.ceil=Ll,F.clamp=function(u,f,m){return m===g&&(m=f,f=g),m!==g&&(m=(m=wr(m))==m?m:0),f!==g&&(f=(f=wr(f))==f?f:0),hi(wr(u),f,m)},F.clone=function(u){return Ur(u,4)},F.cloneDeep=function(u){return Ur(u,5)},F.cloneDeepWith=function(u,f){return Ur(u,5,f=typeof f=="function"?f:g)},F.cloneWith=function(u,f){return Ur(u,4,f=typeof f=="function"?f:g)},F.conformsTo=function(u,f){return f==null||As(u,f,$n(f))},F.deburr=Uc,F.defaultTo=function(u,f){return u==null||u!=u?f:u},F.divide=zl,F.endsWith=function(u,f,m){u=cn(u),f=Pr(f);var j=u.length,N=m=m===g?j:hi(Gt(m),0,j);return(m-=f.length)>=0&&u.slice(m,N)==f},F.eq=Sn,F.escape=function(u){return(u=cn(u))&&ut.test(u)?u.replace(dt,Un):u},F.escapeRegExp=function(u){return(u=cn(u))&&_n.test(u)?u.replace(fn,"\\$&"):u},F.every=function(u,f,m){var j=Bt(u)?rc:Of;return m&&pr(u,f,m)&&(f=g),j(u,wt(f,3))},F.find=oh,F.findIndex=nl,F.findKey=function(u,f){return co(u,wt(f,3),ft)},F.findLast=ih,F.findLastIndex=rl,F.findLastKey=function(u,f){return co(u,wt(f,3),vn)},F.floor=_p,F.forEach=pl,F.forEachRight=Gi,F.forIn=function(u,f){return u==null?u:Yt(u,wt(f,3),or)},F.forInRight=function(u,f){return u==null?u:Gn(u,wt(f,3),or)},F.forOwn=function(u,f){return u&&ft(u,wt(f,3))},F.forOwnRight=function(u,f){return u&&vn(u,wt(f,3))},F.get=Nu,F.gt=Ic,F.gte=Mu,F.has=function(u,f){return u!=null&&Ws(u,f,wf)},F.hasIn=Cu,F.head=il,F.identity=dr,F.includes=function(u,f,m,j){u=Or(u)?u:wi(u),m=m&&!j?Gt(m):0;var N=u.length;return m<0&&(m=Qn(N+m,0)),ku(u)?m<=N&&u.indexOf(f,m)>-1:!!N&&li(u,f,m)>-1},F.indexOf=function(u,f,m){var j=u==null?0:u.length;if(!j)return-1;var N=m==null?0:Gt(m);return N<0&&(N=Qn(j+N,0)),li(u,f,N)},F.inRange=function(u,f,m){return f=Ro(f),m===g?(m=f,f=0):m=Ro(m),function(j,N,U){return j>=fr(N,U)&&j<Qn(N,U)}(u=wr(u),f,m)},F.invoke=Pl,F.isArguments=Yi,F.isArray=Bt,F.isArrayBuffer=ap,F.isArrayLike=Or,F.isArrayLikeObject=In,F.isBoolean=function(u){return u===!0||u===!1||Tn(u)&&gn(u)==Y},F.isBuffer=Jo,F.isDate=Lc,F.isElement=function(u){return Tn(u)&&u.nodeType===1&&!ei(u)},F.isEmpty=function(u){if(u==null)return!0;if(Or(u)&&(Bt(u)||typeof u=="string"||typeof u.splice=="function"||Jo(u)||_i(u)||Yi(u)))return!u.length;var f=ar(u);if(f==ae||f==Se)return!u.size;if(Ta(u))return!$o(u).length;for(var m in u)if(Qe.call(u,m))return!1;return!0},F.isEqual=function(u,f){return wa(u,f)},F.isEqualWith=function(u,f,m){var j=(m=typeof m=="function"?m:g)?m(u,f):g;return j===g?wa(u,f,g,m):!!j},F.isError=bl,F.isFinite=function(u){return typeof u=="number"&&pf(u)},F.isFunction=Qo,F.isInteger=zc,F.isLength=Vi,F.isMap=up,F.isMatch=function(u,f){return u===f||yc(u,f,Ac(f))},F.isMatchWith=function(u,f,m){return m=typeof m=="function"?m:g,yc(u,f,Ac(f),m)},F.isNaN=function(u){return ml(u)&&u!=+u},F.isNative=function(u){if(Vf(u))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xa(u)},F.isNil=function(u){return u==null},F.isNull=function(u){return u===null},F.isNumber=ml,F.isObject=An,F.isObjectLike=Tn,F.isPlainObject=ei,F.isRegExp=_l,F.isSafeInteger=function(u){return zc(u)&&u>=-9007199254740991&&u<=W},F.isSet=Na,F.isString=ku,F.isSymbol=ur,F.isTypedArray=_i,F.isUndefined=function(u){return u===g},F.isWeakMap=function(u){return Tn(u)&&ar(u)==Ae},F.isWeakSet=function(u){return Tn(u)&&gn(u)=="[object WeakSet]"},F.join=function(u,f){return u==null?"":Xd.call(u,f)},F.kebabCase=kl,F.last=mn,F.lastIndexOf=function(u,f,m){var j=u==null?0:u.length;if(!j)return-1;var N=j;return m!==g&&(N=(N=Gt(m))<0?Qn(j+N,0):fr(N,j-1)),f==f?function(U,oe,le){for(var _e=le+1;_e--;)if(U[_e]===oe)return _e;return _e}(u,f,N):xo(u,Eo,N,!0)},F.lowerCase=hp,F.lowerFirst=Dl,F.lt=Ca,F.lte=Du,F.max=function(u){return u&&u.length?Rn(u,dr,kn):g},F.maxBy=function(u,f){return u&&u.length?Rn(u,wt(f,2),kn):g},F.mean=function(u){return Zt(u,dr)},F.meanBy=function(u,f){return Zt(u,wt(f,2))},F.min=function(u){return u&&u.length?Rn(u,dr,Zo):g},F.minBy=function(u,f){return u&&u.length?Rn(u,wt(f,2),Zo):g},F.stubArray=Gc,F.stubFalse=Zn,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Bl,F.nth=function(u,f){return u&&u.length?jf(u,Gt(f)):g},F.noConflict=function(){return Mn._===this&&(Mn._=On),this},F.noop=zu,F.now=Au,F.pad=function(u,f,m){u=cn(u);var j=(f=Gt(f))?fo(u):0;if(!f||j>=f)return u;var N=(f-j)/2;return Ec(ya(N),m)+u+Ec(ic(N),m)},F.padEnd=function(u,f,m){u=cn(u);var j=(f=Gt(f))?fo(u):0;return f&&j<f?u+Ec(f-j,m):u},F.padStart=function(u,f,m){u=cn(u);var j=(f=Gt(f))?fo(u):0;return f&&j<f?Ec(f-j,m)+u:u},F.parseInt=function(u,f,m){return m||f==null?f=0:f&&(f=+f),uc(cn(u).replace(kt,""),f||0)},F.random=function(u,f,m){if(m&&typeof m!="boolean"&&pr(u,f,m)&&(f=m=g),m===g&&(typeof f=="boolean"?(m=f,f=g):typeof u=="boolean"&&(m=u,u=g)),u===g&&f===g?(u=0,f=1):(u=Ro(u),f===g?(f=u,u=0):f=Ro(f)),u>f){var j=u;u=f,f=j}if(m||u%1||f%1){var N=cc();return fr(u+N*(f-u+ci("1e-"+((N+"").length-1))),f)}return Cs(u,f)},F.reduce=function(u,f,m){var j=Bt(u)?sa:Jn,N=arguments.length<3;return j(u,wt(f,4),m,N,wn)},F.reduceRight=function(u,f,m){var j=Bt(u)?oc:Jn,N=arguments.length<3;return j(u,wt(f,4),m,N,_f)},F.repeat=function(u,f,m){return f=(m?pr(u,f,m):f===g)?1:Gt(f),gc(cn(u),f)},F.replace=function(){var u=arguments,f=cn(u[0]);return u.length<3?f:f.replace(u[1],u[2])},F.result=function(u,f,m){var j=-1,N=(f=vi(f,u)).length;for(N||(N=1,u=g);++j<N;){var U=u==null?g:u[Wn(f[j])];U===g&&(j=N,U=m),u=Qo(U)?U.call(u):U}return u},F.round=Yc,F.runInContext=we,F.sample=function(u){return(Bt(u)?js:Zd)(u)},F.size=function(u){if(u==null)return 0;if(Or(u))return ku(u)?fo(u):u.length;var f=ar(u);return f==ae||f==Se?u.size:$o(u).length},F.snakeCase=yp,F.some=function(u,f,m){var j=Bt(u)?fu:Is;return m&&pr(u,f,m)&&(f=g),j(u,wt(f,3))},F.sortedIndex=function(u,f){return bc(u,f)},F.sortedIndexBy=function(u,f,m){return Ls(u,f,wt(m,2))},F.sortedIndexOf=function(u,f){var m=u==null?0:u.length;if(m){var j=bc(u,f);if(j<m&&Sn(u[j],f))return j}return-1},F.sortedLastIndex=function(u,f){return bc(u,f,!0)},F.sortedLastIndexBy=function(u,f,m){return Ls(u,f,wt(m,2),!0)},F.sortedLastIndexOf=function(u,f){if(u!=null&&u.length){var m=bc(u,f,!0)-1;if(Sn(u[m],f))return m}return-1},F.startCase=Ia,F.startsWith=function(u,f,m){return u=cn(u),m=m==null?0:hi(Gt(m),0,u.length),f=Pr(f),u.slice(m,m+f.length)==f},F.subtract=Op,F.sum=function(u){return u&&u.length?fa(u,dr):0},F.sumBy=function(u,f){return u&&u.length?fa(u,wt(f,2)):0},F.template=function(u,f,m){var j=F.templateSettings;m&&pr(u,f,m)&&(f=g),u=cn(u),f=ti({},f,j,Gf);var N,U,oe=ti({},f.imports,j.imports,Gf),le=$n(oe),_e=pa(oe,le),Re=0,ke=f.interpolate||xt,Q="__p += '",st=A((f.escape||xt).source+"|"+ke.source+"|"+(ke===Ct?lt:xt).source+"|"+(f.evaluate||xt).source+"|$","g"),pt="//# sourceURL="+(Qe.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qu+"]")+`
`;u.replace(st,function(Xe,Tt,at,Mt,Nt,Kt){return at||(at=Mt),Q+=u.slice(Re,Kt).replace(Dt,fi),Tt&&(N=!0,Q+=`' +
__e(`+Tt+`) +
'`),Nt&&(U=!0,Q+=`';
`+Nt+`;
__p += '`),at&&(Q+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),Re=Kt+Xe.length,Xe}),Q+=`';
`;var jt=Qe.call(f,"variable")&&f.variable;if(jt){if(Ve.test(jt))throw new Wt("Invalid `variable` option passed into `_.template`")}else Q=`with (obj) {
`+Q+`
}
`;Q=(U?Q.replace(Le,""):Q).replace(Ot,"$1").replace(At,"$1;"),Q="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var ze=vp(function(){return yn(le,pt+"return "+Q).apply(g,_e)});if(ze.source=Q,bl(ze))throw ze;return ze},F.times=function(u,f){if((u=Gt(u))<1||u>W)return[];var m=ue,j=fr(u,ue);f=wt(f),u-=ue;for(var N=Ri(j,f);++m<u;)f(m);return N},F.toFinite=Ro,F.toInteger=Gt,F.toLength=Ol,F.toLower=function(u){return cn(u).toLowerCase()},F.toNumber=wr,F.toSafeInteger=function(u){return u?hi(Gt(u),-9007199254740991,W):u===0?u:0},F.toString=cn,F.toUpper=function(u){return cn(u).toUpperCase()},F.trim=function(u,f,m){if((u=cn(u))&&(m||f===g))return pu(u);if(!u||!(f=Pr(f)))return u;var j=jr(u),N=jr(f);return gi(j,zr(j,N),du(j,N)+1).join("")},F.trimEnd=function(u,f,m){if((u=cn(u))&&(m||f===g))return u.slice(0,mr(u)+1);if(!u||!(f=Pr(f)))return u;var j=jr(u);return gi(j,0,du(j,jr(f))+1).join("")},F.trimStart=function(u,f,m){if((u=cn(u))&&(m||f===g))return u.replace(kt,"");if(!u||!(f=Pr(f)))return u;var j=jr(u);return gi(j,zr(j,jr(f))).join("")},F.truncate=function(u,f){var m=30,j="...";if(An(f)){var N="separator"in f?f.separator:N;m="length"in f?Gt(f.length):m,j="omission"in f?Pr(f.omission):j}var U=(u=cn(u)).length;if(lo(u)){var oe=jr(u);U=oe.length}if(m>=U)return u;var le=m-fo(j);if(le<1)return j;var _e=oe?gi(oe,0,le).join(""):u.slice(0,le);if(N===g)return _e+j;if(oe&&(le+=_e.length-le),_l(N)){if(u.slice(le).search(N)){var Re,ke=_e;for(N.global||(N=A(N.source,cn(Ut.exec(N))+"g")),N.lastIndex=0;Re=N.exec(ke);)var Q=Re.index;_e=_e.slice(0,Q===g?le:Q)}}else if(u.indexOf(Pr(N),le)!=le){var st=_e.lastIndexOf(N);st>-1&&(_e=_e.slice(0,st))}return _e+j},F.unescape=function(u){return(u=cn(u))&&Me.test(u)?u.replace(Et,Br):u},F.uniqueId=function(u){var f=++pn;return cn(u)+f},F.upperCase=sh,F.upperFirst=Ln,F.each=pl,F.eachRight=Gi,F.first=il,ni(F,(Xc={},ft(F,function(u,f){Qe.call(F.prototype,f)||(Xc[f]=u)}),Xc),{chain:!1}),F.VERSION="4.17.21",yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){F[u].placeholder=F}),yr(["drop","take"],function(u,f){Jt.prototype[u]=function(m){m=m===g?1:Qn(Gt(m),0);var j=this.__filtered__&&!f?new Jt(this):this.clone();return j.__filtered__?j.__takeCount__=fr(m,j.__takeCount__):j.__views__.push({size:fr(m,ue),type:u+(j.__dir__<0?"Right":"")}),j},Jt.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),yr(["filter","map","takeWhile"],function(u,f){var m=f+1,j=m==1||m==3;Jt.prototype[u]=function(N){var U=this.clone();return U.__iteratees__.push({iteratee:wt(N,3),type:m}),U.__filtered__=U.__filtered__||j,U}}),yr(["head","last"],function(u,f){var m="take"+(f?"Right":"");Jt.prototype[u]=function(){return this[m](1).value()[0]}}),yr(["initial","tail"],function(u,f){var m="drop"+(f?"":"Right");Jt.prototype[u]=function(){return this.__filtered__?new Jt(this):this[m](1)}}),Jt.prototype.compact=function(){return this.filter(dr)},Jt.prototype.find=function(u){return this.filter(u).head()},Jt.prototype.findLast=function(u){return this.reverse().find(u)},Jt.prototype.invokeMap=Vt(function(u,f){return typeof u=="function"?new Jt(this):this.map(function(m){return Oa(m,u,f)})}),Jt.prototype.reject=function(u){return this.filter(Rc(wt(u)))},Jt.prototype.slice=function(u,f){u=Gt(u);var m=this;return m.__filtered__&&(u>0||f<0)?new Jt(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),f!==g&&(m=(f=Gt(f))<0?m.dropRight(-f):m.take(f-u)),m)},Jt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Jt.prototype.toArray=function(){return this.take(ue)},ft(Jt.prototype,function(u,f){var m=/^(?:filter|find|map|reject)|While$/.test(f),j=/^(?:head|last)$/.test(f),N=F[j?"take"+(f=="last"?"Right":""):f],U=j||/^find/.test(f);N&&(F.prototype[f]=function(){var oe=this.__wrapped__,le=j?[1]:arguments,_e=oe instanceof Jt,Re=le[0],ke=_e||Bt(oe),Q=function(Tt){var at=N.apply(F,Vn([Tt],le));return j&&st?at[0]:at};ke&&m&&typeof Re=="function"&&Re.length!=1&&(_e=ke=!1);var st=this.__chain__,pt=!!this.__actions__.length,jt=U&&!st,ze=_e&&!pt;if(!U&&ke){oe=ze?oe:new Jt(this);var Xe=u.apply(oe,le);return Xe.__actions__.push({func:ka,args:[Q],thisArg:g}),new Qr(Xe,st)}return jt&&ze?u.apply(this,le):(Xe=this.thru(Q),jt?j?Xe.value()[0]:Xe.value():Xe)})}),yr(["pop","push","shift","sort","splice","unshift"],function(u){var f=pe[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);F.prototype[u]=function(){var N=arguments;if(j&&!this.__chain__){var U=this.value();return f.apply(Bt(U)?U:[],N)}return this[m](function(oe){return f.apply(Bt(oe)?oe:[],N)})}}),ft(Jt.prototype,function(u,f){var m=F[f];if(m){var j=m.name+"";Qe.call(ba,j)||(ba[j]=[]),ba[j].push({name:f,func:m})}}),ba[xu(g,2).name]=[{name:"wrapper",func:g}],Jt.prototype.clone=function(){var u=new Jt(this.__wrapped__);return u.__actions__=Ar(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ar(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ar(this.__views__),u},Jt.prototype.reverse=function(){if(this.__filtered__){var u=new Jt(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Jt.prototype.value=function(){var u=this.__wrapped__.value(),f=this.__dir__,m=Bt(u),j=f<0,N=m?u.length:0,U=function(Kt,bt,Pt){for(var Dn=-1,Dr=Pt.length;++Dn<Dr;){var vo=Pt[Dn],zn=vo.size;switch(vo.type){case"drop":Kt+=zn;break;case"dropRight":bt-=zn;break;case"take":bt=fr(bt,Kt+zn);break;case"takeRight":Kt=Qn(Kt,bt-zn)}}return{start:Kt,end:bt}}(0,N,this.__views__),oe=U.start,le=U.end,_e=le-oe,Re=j?le:oe-1,ke=this.__iteratees__,Q=ke.length,st=0,pt=fr(_e,this.__takeCount__);if(!m||!j&&N==_e&&pt==_e)return Df(u,this.__actions__);var jt=[];e:for(;_e--&&st<pt;){for(var ze=-1,Xe=u[Re+=f];++ze<Q;){var Tt=ke[ze],at=Tt.iteratee,Mt=Tt.type,Nt=at(Xe);if(Mt==2)Xe=Nt;else if(!Nt){if(Mt==1)continue e;break e}}jt[st++]=Xe}return jt},F.prototype.at=rh,F.prototype.chain=function(){return tp(this)},F.prototype.commit=function(){return new Qr(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Ra(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?g:this.__values__[this.__index__++]}},F.prototype.plant=function(u){for(var f,m=this;m instanceof mu;){var j=$f(m);j.__index__=0,j.__values__=g,f?N.__wrapped__=j:f=j;var N=j;m=m.__wrapped__}return N.__wrapped__=u,f},F.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof Jt){var f=u;return this.__actions__.length&&(f=new Jt(this)),(f=f.reverse()).__actions__.push({func:ka,args:[Cc],thisArg:g}),new Qr(f,this.__chain__)}return this.thru(Cc)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Df(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Yo&&(F.prototype[Yo]=function(){return this}),F}();Mn._=po,(_=function(){return po}.call(l,o,l,d))===g||(d.exports=_)}).call(this)}).call(this,o(66),o(219)(s))},function(s,l,o){var p=o(7),d=o(34),_=o(33),g=o(87),E=o(61),T=o(174),P=o(28),D=p.TypeError,M=P("toPrimitive");s.exports=function(R,C){if(!_(R)||g(R))return R;var B,G=E(R,M);if(G){if(C===void 0&&(C="default"),B=d(G,R,C),!_(B)||g(B))return B;throw D("Can't convert object to primitive value")}return C===void 0&&(C="number"),T(R,C)}},function(s,l,o){var p=o(108);s.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,l,o){var p=o(36),d=o(18),_=o(91);s.exports=!p&&!d(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7})},function(s,l,o){var p=o(35),d=o(135),_=o(50),g=o(38);s.exports=function(E,T){for(var P=d(T),D=g.f,M=_.f,R=0;R<P.length;R++){var C=P[R];p(E,C)||D(E,C,M(T,C))}}},function(s,l,o){var p=o(46),d=o(15),_=o(72),g=o(112),E=o(32),T=d([].concat);s.exports=p("Reflect","ownKeys")||function(P){var D=_.f(E(P)),M=g.f;return M?T(D,M(P)):D}},function(s,l,o){var p=o(15),d=o(35),_=o(41),g=o(137).indexOf,E=o(70),T=p([].push);s.exports=function(P,D){var M,R=_(P),C=0,B=[];for(M in R)!d(E,M)&&d(R,M)&&T(B,M);for(;D.length>C;)d(R,M=D[C++])&&(~g(B,M)||T(B,M));return B}},function(s,l,o){var p=o(41),d=o(73),_=o(45),g=function(E){return function(T,P,D){var M,R=p(T),C=_(R),B=d(D,C);if(E&&P!=P){for(;C>B;)if((M=R[B++])!=M)return!0}else for(;C>B;B++)if((E||B in R)&&R[B]===P)return E||B||0;return!E&&-1}};s.exports={includes:g(!0),indexOf:g(!1)}},function(s,l,o){var p=o(46);s.exports=p("document","documentElement")},function(s,l,o){var p=o(51),d=o(41),_=o(72).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(T){return E&&p(T)=="Window"?function(P){try{return _(P)}catch(D){return g(E)}}(T):_(d(T))}},function(s,l,o){var p=o(28);l.f=p},function(s,l,o){var p=o(177),d=o(35),_=o(140),g=o(38).f;s.exports=function(E){var T=p.Symbol||(p.Symbol={});d(T,E)||g(T,E,{value:_.f(E)})}},function(s,l,o){var p,d,_,g=o(18),E=o(30),T=o(60),P=o(101),D=o(42),M=o(28),R=o(69),C=M("iterator"),B=!1;[].keys&&("next"in(_=[].keys())?(d=P(P(_)))!==Object.prototype&&(p=d):B=!0),p==null||g(function(){var G={};return p[C].call(G)!==G})?p={}:R&&(p=T(p)),E(p[C])||D(p,C,function(){return this}),s.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:B}},function(s,l,o){var p=o(18);s.exports=!p(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,l,o){var p=o(17),d=o(15),_=o(70),g=o(33),E=o(35),T=o(38).f,P=o(72),D=o(139),M=o(183),R=o(90),C=o(185),B=!1,G=R("meta"),W=0,ne=function(te){T(te,G,{value:{objectID:"O"+W++,weakData:{}}})},ue=s.exports={enable:function(){ue.enable=function(){},B=!0;var te=P.f,J=d([].splice),ee={};ee[G]=1,te(ee).length&&(P.f=function(Y){for(var L=te(Y),H=0,V=L.length;H<V;H++)if(L[H]===G){J(L,H,1);break}return L},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:D.f}))},fastKey:function(te,J){if(!g(te))return typeof te=="symbol"?te:(typeof te=="string"?"S":"P")+te;if(!E(te,G)){if(!M(te))return"F";if(!J)return"E";ne(te)}return te[G].objectID},getWeakData:function(te,J){if(!E(te,G)){if(!M(te))return!0;if(!J)return!1;ne(te)}return te[G].weakData},onFreeze:function(te){return C&&B&&M(te)&&!E(te,G)&&ne(te),te}};_[G]=!0},function(s,l,o){var p=o(28),d=o(78),_=p("iterator"),g=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||g[_]===E)}},function(s,l,o){var p=o(7),d=o(34),_=o(56),g=o(32),E=o(88),T=o(118),P=p.TypeError;s.exports=function(D,M){var R=arguments.length<2?T(D):M;if(_(R))return g(d(R,D));throw P(E(D)+" is not iterable")}},function(s,l,o){var p=o(34),d=o(32),_=o(61);s.exports=function(g,E,T){var P,D;d(g);try{if(!(P=_(g,"return"))){if(E==="throw")throw T;return T}P=p(P,g)}catch(M){D=!0,P=M}if(E==="throw")throw T;if(D)throw P;return d(P),T}},function(s,l,o){var p=o(30),d=o(33),_=o(102);s.exports=function(g,E,T){var P,D;return _&&p(P=E.constructor)&&P!==T&&d(D=P.prototype)&&D!==T.prototype&&_(g,D),g}},function(s,l,o){var p=o(42);s.exports=function(d,_,g){for(var E in _)p(d,E,_[E],g);return d}},function(s,l,o){var p=o(46),d=o(38),_=o(28),g=o(36),E=_("species");s.exports=function(T){var P=p(T),D=d.f;g&&P&&!P[E]&&D(P,E,{configurable:!0,get:function(){return this}})}},function(s,l,o){var p=o(15),d=o(59),_=o(39),g=o(44),E=p("".charAt),T=p("".charCodeAt),P=p("".slice),D=function(M){return function(R,C){var B,G,W=_(g(R)),ne=d(C),ue=W.length;return ne<0||ne>=ue?M?"":void 0:(B=T(W,ne))<55296||B>56319||ne+1===ue||(G=T(W,ne+1))<56320||G>57343?M?E(W,ne):B:M?P(W,ne,ne+2):G-56320+(B-55296<<10)+65536}};s.exports={codeAt:D(!1),charAt:D(!0)}},function(s,l){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,l,o){var p=o(91)("span").classList,d=p&&p.constructor&&p.constructor.prototype;s.exports=d===Object.prototype?void 0:d},function(s,l,o){var p=o(32);s.exports=function(){var d=p(this),_="";return d.global&&(_+="g"),d.ignoreCase&&(_+="i"),d.multiline&&(_+="m"),d.dotAll&&(_+="s"),d.unicode&&(_+="u"),d.sticky&&(_+="y"),_}},function(s,l,o){var p=o(18),d=o(7).RegExp,_=p(function(){var T=d("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),g=_||p(function(){return!d("a","y").sticky}),E=_||p(function(){var T=d("^r","gy");return T.lastIndex=2,T.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:_}},function(s,l,o){var p=o(17),d=o(77).find,_=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),p({target:"Array",proto:!0,forced:E},{find:function(T){return d(this,T,arguments.length>1?arguments[1]:void 0)}}),_(g)},function(s,l,o){var p=o(17),d=o(137).includes,_=o(100);p({target:"Array",proto:!0},{includes:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),_("includes")},function(s,l,o){var p=o(17),d=o(15),_=o(197),g=o(44),E=o(39),T=o(198),P=d("".indexOf);p({target:"String",proto:!0,forced:!T("includes")},{includes:function(D){return!!~P(E(g(this)),E(_(D)),arguments.length>1?arguments[1]:void 0)}})},function(s,l,o){var p=o(33),d=o(51),_=o(28)("match");s.exports=function(g){var E;return p(g)&&((E=g[_])!==void 0?!!E:d(g)=="RegExp")}},function(s,l){var o,p,d=s.exports={};function _(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(W){if(o===setTimeout)return setTimeout(W,0);if((o===_||!o)&&setTimeout)return o=setTimeout,setTimeout(W,0);try{return o(W,0)}catch(ne){try{return o.call(null,W,0)}catch(ue){return o.call(this,W,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:_}catch(W){o=_}try{p=typeof clearTimeout=="function"?clearTimeout:g}catch(W){p=g}})();var T,P=[],D=!1,M=-1;function R(){D&&T&&(D=!1,T.length?P=T.concat(P):M=-1,P.length&&C())}function C(){if(!D){var W=E(R);D=!0;for(var ne=P.length;ne;){for(T=P,P=[];++M<ne;)T&&T[M].run();M=-1,ne=P.length}T=null,D=!1,function(ue){if(p===clearTimeout)return clearTimeout(ue);if((p===g||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(ue);try{p(ue)}catch(te){try{return p.call(null,ue)}catch(J){return p.call(this,ue)}}}(W)}}function B(W,ne){this.fun=W,this.array=ne}function G(){}d.nextTick=function(W){var ne=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)ne[ue-1]=arguments[ue];P.push(new B(W,ne)),P.length!==1||D||E(C)},B.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=G,d.addListener=G,d.once=G,d.off=G,d.removeListener=G,d.removeAllListeners=G,d.emit=G,d.prependListener=G,d.prependOnceListener=G,d.listeners=function(W){return[]},d.binding=function(W){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(W){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,l,o){var p=o(32),d=o(162),_=o(28)("species");s.exports=function(g,E){var T,P=p(g).constructor;return P===void 0||(T=p(P)[_])==null?E:d(T)}},function(s,l,o){var p=o(7),d=o(99),_=o(88),g=p.TypeError;s.exports=function(E){if(d(E))return E;throw g(_(E)+" is not a constructor")}},function(s,l,o){var p=o(17),d=o(164).trim;p({target:"String",proto:!0,forced:o(199)("trim")},{trim:function(){return d(this)}})},function(s,l,o){var p=o(15),d=o(44),_=o(39),g=o(165),E=p("".replace),T="["+g+"]",P=RegExp("^"+T+T+"*"),D=RegExp(T+T+"*$"),M=function(R){return function(C){var B=_(d(C));return 1&R&&(B=E(B,P,"")),2&R&&(B=E(B,D,"")),B}};s.exports={start:M(1),end:M(2),trim:M(3)}},function(s,l){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,l,o){var p=o(15);s.exports=p(1 .valueOf)},function(s,l,o){var p=o(34),d=o(123),_=o(32),g=o(94),E=o(39),T=o(44),P=o(61),D=o(124),M=o(125);d("match",function(R,C,B){return[function(G){var W=T(this),ne=G==null?void 0:P(G,R);return ne?p(ne,G,W):new RegExp(G)[R](E(W))},function(G){var W=_(this),ne=E(G),ue=B(C,W,ne);if(ue.done)return ue.value;if(!W.global)return M(W,ne);var te=W.unicode;W.lastIndex=0;for(var J,ee=[],Y=0;(J=M(W,ne))!==null;){var L=E(J[0]);ee[Y]=L,L===""&&(W.lastIndex=D(ne,g(W.lastIndex),te)),Y++}return Y===0?null:ee}]})},function(s,l,o){var p,d,_,g,E=o(7),T=o(74),P=o(63),D=o(30),M=o(35),R=o(18),C=o(138),B=o(98),G=o(91),W=o(169),ne=o(128),ue=E.setImmediate,te=E.clearImmediate,J=E.process,ee=E.Dispatch,Y=E.Function,L=E.MessageChannel,H=E.String,V=0,$={},ae="onreadystatechange";try{p=E.location}catch(Se){}var Oe=function(Se){if(M($,Se)){var ve=$[Se];delete $[Se],ve()}},he=function(Se){return function(){Oe(Se)}},Pe=function(Se){Oe(Se.data)},Be=function(Se){E.postMessage(H(Se),p.protocol+"//"+p.host)};ue&&te||(ue=function(Se){var ve=B(arguments,1);return $[++V]=function(){T(D(Se)?Se:Y(Se),void 0,ve)},d(V),V},te=function(Se){delete $[Se]},ne?d=function(Se){J.nextTick(he(Se))}:ee&&ee.now?d=function(Se){ee.now(he(Se))}:L&&!W?(g=(_=new L).port2,_.port1.onmessage=Pe,d=P(g.postMessage,g)):E.addEventListener&&D(E.postMessage)&&!E.importScripts&&p&&p.protocol!=="file:"&&!R(Be)?(d=Be,E.addEventListener("message",Pe,!1)):d=ae in G("script")?function(Se){C.appendChild(G("script")).onreadystatechange=function(){C.removeChild(this),Oe(Se)}}:function(Se){setTimeout(he(Se),0)}),s.exports={set:ue,clear:te}},function(s,l,o){var p=o(55);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(p)},function(s,l,o){var p=o(56),d=function(_){var g,E;this.promise=new _(function(T,P){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=T,E=P}),this.resolve=p(g),this.reject=p(E)};s.exports.f=function(_){return new d(_)}},function(s,l,o){l.a=function(){return!1}},function(s,l,o){(function(p){o.d(l,"a",function(){return J});var d=o(1);function _(L){throw new Error("[mobx-utils] "+L)}function g(L,H){H===void 0&&(H="Illegal state"),L||_(H)}var E=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(E(Object.getPrototypeOf(L))||[])},T=function(L){return function(H){var V=E(H);return V.filter(function($,ae){return V.indexOf($)===ae})}(L).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},P="pending",D="fulfilled",M="rejected";function R(L){switch(this.state){case P:return L.pending&&L.pending(this.value);case M:return L.rejected&&L.rejected(this.value);case D:return L.fulfilled?L.fulfilled(this.value):this.value}}function C(L,H){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var V=L;L.then(Object(d.k)("observableFromPromise-resolve",function(ae){V.value=ae,V.state=D}),Object(d.k)("observableFromPromise-reject",function(ae){V.value=ae,V.state=M})),V.isPromiseBasedObservable=!0,V.case=R;var $=H&&H.state===D?H.value:void 0;return Object(d.q)(V,{value:$,state:P},{},{deep:!1}),V}(function(L){L.reject=Object(d.k)("fromPromise.reject",function(H){var V=L(Promise.reject(H));return V.state=M,V.value=H,V}),L.resolve=Object(d.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var V=L(Promise.resolve(H));return V.state=D,V.value=H,V})})(C||(C={}));var B=function(L,H,V,$){var ae,Oe=arguments.length,he=Oe<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,V):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(L,H,V,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ae=L[Pe])&&(he=(Oe<3?ae(he):Oe>3?ae(H,V,he):ae(H,V))||he);return Oe>3&&he&&Object.defineProperty(H,V,he),he};(function(){function L(H,V){var $=this;Object(d.G)(function(){$.current=V,$.subscription=H.subscribe($)})}L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(H){this.current=H},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(H){this.current=H,this.dispose()},B([d.C.ref],L.prototype,"current",void 0),B([d.k.bound],L.prototype,"next",null),B([d.k.bound],L.prototype,"complete",null),B([d.k.bound],L.prototype,"error",null)})();var G=function(){return G=Object.assign||function(L){for(var H,V=1,$=arguments.length;V<$;V++)for(var ae in H=arguments[V])Object.prototype.hasOwnProperty.call(H,ae)&&(L[ae]=H[ae]);return L},G.apply(this,arguments)},W=function(L,H,V,$){var ae,Oe=arguments.length,he=Oe<3?H:$===null?$=Object.getOwnPropertyDescriptor(H,V):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(L,H,V,$);else for(var Pe=L.length-1;Pe>=0;Pe--)(ae=L[Pe])&&(he=(Oe<3?ae(he):Oe>3?ae(H,V,he):ae(H,V))||he);return Oe>3&&he&&Object.defineProperty(H,V,he),he},ne=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(H){var V=this;this.model=H,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function($){return V.localValues.has($)},g(Object(d.A)(H),"createViewModel expects an observable object"),T(H).forEach(function($){if($!==d.a&&$!=="__mobxDidRunLazyInitializers"){if(g(ne.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(d.w)(H,$)){var ae=Object(d.h)(H,$).derivation;V.localComputedValues.set($,Object(d.m)(ae.bind(V)))}var Oe=Object.getOwnPropertyDescriptor(H,$),he=Oe?{enumerable:Oe.enumerable}:{};Object.defineProperty(V,$,G(G({},he),{configurable:!0,get:function(){return Object(d.w)(H,$)?V.localComputedValues.get($).get():V.isPropertyDirty($)?V.localValues.get($):V.model[$]},set:Object(d.k)(function(Pe){Pe!==V.model[$]?V.localValues.set($,Pe):V.localValues.delete($)})}))}})}Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var H=this;Object(d.B)(this.localValues).forEach(function(V){var $=H.localValues.get(V),ae=H.model[V];Object(d.y)(ae)?ae.replace($):Object(d.z)(ae)?(ae.clear(),ae.merge($)):Object(d.v)($)||(H.model[V]=$)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(H){this.localValues.delete(H)},W([d.m],L.prototype,"isDirty",null),W([d.m],L.prototype,"changedValues",null),W([d.k.bound],L.prototype,"submit",null),W([d.k.bound],L.prototype,"reset",null),W([d.k.bound],L.prototype,"resetProperty",null)})();function ue(L){if(!L)return"ROOT";for(var H=[];L.parent;)H.push(L.path),L=L.parent;return H.reverse().join("/")}function te(L){return Object(d.A)(L)||Object(d.y)(L)||Object(d.z)(L)}function J(L,H){var V=new WeakMap;function $(he){var Pe=V.get(he.object);(function(Be,Se){switch(Be.type){case"add":ae(Be.newValue,Se,Be.name);break;case"update":Oe(Be.oldValue),ae(Be.newValue,Se,Be.name||""+Be.index);break;case"remove":case"delete":Oe(Be.oldValue);break;case"splice":Be.removed.map(Oe),Be.added.forEach(function(Ae,Ue){return ae(Ae,Se,""+(Be.index+Ue))});for(var ve=Be.index+Be.addedCount;ve<Be.object.length;ve++)if(te(Be.object[ve])){var je=V.get(Be.object[ve]);je&&(je.path=""+ve)}}})(he,Pe),H(he,ue(Pe),L)}function ae(he,Pe,Be){if(te(he)){var Se=V.get(he);if(Se){if(Se.parent!==Pe||Se.path!==Be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Pe)+"/"+Be+"', but it already exists at '"+ue(Se.parent)+"/"+Se.path+"'")}else{var ve={parent:Pe,path:Be,dispose:Object(d.D)(he,$)};V.set(he,ve),Object(d.p)(he).forEach(function(je){var Ae=je[0];return ae(je[1],ve,Ae)})}}}function Oe(he){if(te(he)){var Pe=V.get(he);if(!Pe)return;V.delete(he),Pe.dispose(),Object(d.L)(he).forEach(Oe)}}return ae(L,void 0,""),function(){Oe(L)}}var ee,Y=(ee=function(L,H){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,$){V.__proto__=$}||function(V,$){for(var ae in $)$.hasOwnProperty(ae)&&(V[ae]=$[ae])},ee(L,H)},function(L,H){function V(){this.constructor=L}ee(L,H),L.prototype=H===null?Object.create(H):(V.prototype=H.prototype,new V)});(function(L){function H(V,$,ae){var Oe=ae===void 0?{}:ae,he=Oe.name,Pe=he===void 0?"ogm"+(1e3*Math.random()|0):he,Be=Oe.keyToName,Se=Be===void 0?function(Ae){return""+Ae}:Be,ve=L.call(this)||this;ve._keyToName=Se,ve._groupBy=$,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=V;for(var je=0;je<V.length;je++)ve._addItem(V[je]);return ve._disposeBaseObserver=Object(d.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(d.J)(function(){for(var Ue=0,et=Ae.removed;Ue<et.length;Ue++){var ht=et[Ue];ve._removeItem(ht)}for(var Ge=0,Ke=Ae.added;Ge<Ke.length;Ge++){var yt=Ke[Ge];ve._addItem(yt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}Y(H,L),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(V){throw new Error("not supported")},H.prototype.set=function(V,$){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var V=0;V<this._base.length;V++){var $=this._base[V];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},H.prototype._getGroupArr=function(V){var $=L.prototype.get.call(this,V);return $===void 0&&($=Object(d.C)([],{name:"GroupArray["+this._keyToName(V)+"]",deep:!1}),L.prototype.set.call(this,V,$)),$},H.prototype._removeFromGroupArr=function(V,$){var ae=L.prototype.get.call(this,V);ae.length===1?L.prototype.delete.call(this,V):($===ae.length-1||(ae[$]=ae[ae.length-1],ae[$][this._ogmInfoKey].groupArrIndex=$),ae.length--)},H.prototype._addItem=function(V){var $=this,ae=this._groupBy(V),Oe=this._getGroupArr(ae),he={groupByValue:ae,groupArrIndex:Oe.length,reaction:Object(d.F)(function(){return $._groupBy(V)},function(Pe,Be){var Se=V[$._ogmInfoKey];$._removeFromGroupArr(Se.groupByValue,Se.groupArrIndex);var ve=$._getGroupArr(Pe),je=ve.length;ve.push(V),Se.groupByValue=Pe,Se.groupArrIndex=je})};Object.defineProperty(V,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:he}),Oe.push(V)},H.prototype._removeItem=function(V){var $=V[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete V[this._ogmInfoKey]}})(d.b),function(){function L(H,V){this.base=H,this.args=V,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=H,ae=0;ae<this.args.length-1&&($=$.get(V[ae]));ae++)this.closest=$;this.closestIdx=ae}return L.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},L.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},L.prototype.set=function(H){this.assertNotDisposed();for(var V=this.args.length,$=this.closest,ae=this.closestIdx;ae<V-1;ae++){var Oe=new Map;$.set(this.args[ae],Oe),$=Oe}this.closestIdx=V-1,this.closest=$,$.set(this.args[V-1],H)},L.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var V=this.root,$=[V],ae=0;ae<H-1;ae++)V=V.get(this.args[ae]),$.push(V);for(ae=$.length-1;ae>0;ae--)$[ae].size===0&&$[ae-1].delete(this.args[ae-1]);this.isDisposed=!0},L.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},L}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,o(160))},function(s,l,o){var p;(function(d,_,g){if(d){for(var E,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},R=1;R<20;++R)T[111+R]="f"+R;for(R=0;R<=9;++R)T[R+96]=R.toString();te.prototype.bind=function(J,ee,Y){var L=this;return J=J instanceof Array?J:[J],L._bindMultiple.call(L,J,ee,Y),L},te.prototype.unbind=function(J,ee){return this.bind.call(this,J,function(){},ee)},te.prototype.trigger=function(J,ee){var Y=this;return Y._directMap[J+":"+ee]&&Y._directMap[J+":"+ee]({},J),Y},te.prototype.reset=function(){var J=this;return J._callbacks={},J._directMap={},J},te.prototype.stopCallback=function(J,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||ue(ee,this.target))return!1;if("composedPath"in J&&typeof J.composedPath=="function"){var Y=J.composedPath()[0];Y!==J.target&&(ee=Y)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},te.prototype.handleKey=function(){var J=this;return J._handleKey.apply(J,arguments)},te.addKeycodes=function(J){for(var ee in J)J.hasOwnProperty(ee)&&(T[ee]=J[ee]);E=null},te.init=function(){var J=te(_);for(var ee in J)ee.charAt(0)!=="_"&&(te[ee]=function(Y){return function(){return J[Y].apply(J,arguments)}}(ee))},te.init(),d.Mousetrap=te,s.exports&&(s.exports=te),(p=function(){return te}.call(l,o,l,s))===void 0||(s.exports=p)}function C(J,ee,Y){J.addEventListener?J.addEventListener(ee,Y,!1):J.attachEvent("on"+ee,Y)}function B(J){if(J.type=="keypress"){var ee=String.fromCharCode(J.which);return J.shiftKey||(ee=ee.toLowerCase()),ee}return T[J.which]?T[J.which]:P[J.which]?P[J.which]:String.fromCharCode(J.which).toLowerCase()}function G(J){return J=="shift"||J=="ctrl"||J=="alt"||J=="meta"}function W(J,ee,Y){return Y||(Y=function(){if(!E)for(var L in E={},T)L>95&&L<112||T.hasOwnProperty(L)&&(E[T[L]]=L);return E}()[J]?"keydown":"keypress"),Y=="keypress"&&ee.length&&(Y="keydown"),Y}function ne(J,ee){var Y,L,H,V=[];for(Y=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(J),H=0;H<Y.length;++H)L=Y[H],M[L]&&(L=M[L]),ee&&ee!="keypress"&&D[L]&&(L=D[L],V.push("shift")),G(L)&&V.push(L);return{key:L,modifiers:V,action:ee=W(L,V,ee)}}function ue(J,ee){return J!==null&&J!==_&&(J===ee||ue(J.parentNode,ee))}function te(J){var ee=this;if(J=J||_,!(ee instanceof te))return new te(J);ee.target=J,ee._callbacks={},ee._directMap={};var Y,L={},H=!1,V=!1,$=!1;function ae(ve){ve=ve||{};var je,Ae=!1;for(je in L)ve[je]?Ae=!0:L[je]=0;Ae||($=!1)}function Oe(ve,je,Ae,Ue,et,ht){var Ge,Ke,yt,se,ce=[],ge=Ae.type;if(!ee._callbacks[ve])return[];for(ge=="keyup"&&G(ve)&&(je=[ve]),Ge=0;Ge<ee._callbacks[ve].length;++Ge)if(Ke=ee._callbacks[ve][Ge],(Ue||!Ke.seq||L[Ke.seq]==Ke.level)&&ge==Ke.action&&(ge=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(yt=je,se=Ke.modifiers,yt.sort().join(",")===se.sort().join(",")))){var Ne=!Ue&&Ke.combo==et,He=Ue&&Ke.seq==Ue&&Ke.level==ht;(Ne||He)&&ee._callbacks[ve].splice(Ge,1),ce.push(Ke)}return ce}function he(ve,je,Ae,Ue){ee.stopCallback(je,je.target||je.srcElement,Ae,Ue)||ve(je,Ae)===!1&&(function(et){et.preventDefault?et.preventDefault():et.returnValue=!1}(je),function(et){et.stopPropagation?et.stopPropagation():et.cancelBubble=!0}(je))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var je=B(ve);je&&(ve.type!="keyup"||H!==je?ee.handleKey(je,function(Ae){var Ue=[];return Ae.shiftKey&&Ue.push("shift"),Ae.altKey&&Ue.push("alt"),Ae.ctrlKey&&Ue.push("ctrl"),Ae.metaKey&&Ue.push("meta"),Ue}(ve),ve):H=!1)}function Be(ve,je,Ae,Ue){function et(yt){return function(){$=yt,++L[ve],clearTimeout(Y),Y=setTimeout(ae,1e3)}}function ht(yt){he(Ae,yt,ve),Ue!=="keyup"&&(H=B(yt)),setTimeout(ae,10)}L[ve]=0;for(var Ge=0;Ge<je.length;++Ge){var Ke=Ge+1===je.length?ht:et(Ue||ne(je[Ge+1]).action);Se(je[Ge],Ke,Ue,ve,Ge)}}function Se(ve,je,Ae,Ue,et){ee._directMap[ve+":"+Ae]=je;var ht,Ge=(ve=ve.replace(/\s+/g," ")).split(" ");Ge.length>1?Be(ve,Ge,je,Ae):(ht=ne(ve,Ae),ee._callbacks[ht.key]=ee._callbacks[ht.key]||[],Oe(ht.key,ht.modifiers,{type:ht.action},Ue,ve,et),ee._callbacks[ht.key][Ue?"unshift":"push"]({callback:je,modifiers:ht.modifiers,action:ht.action,seq:Ue,level:et,combo:ve}))}ee._handleKey=function(ve,je,Ae){var Ue,et=Oe(ve,je,Ae),ht={},Ge=0,Ke=!1;for(Ue=0;Ue<et.length;++Ue)et[Ue].seq&&(Ge=Math.max(Ge,et[Ue].level));for(Ue=0;Ue<et.length;++Ue)if(et[Ue].seq){if(et[Ue].level!=Ge)continue;Ke=!0,ht[et[Ue].seq]=1,he(et[Ue].callback,Ae,et[Ue].combo,et[Ue].seq)}else Ke||he(et[Ue].callback,Ae,et[Ue].combo);var yt=Ae.type=="keypress"&&V;Ae.type!=$||G(ve)||yt||ae(ht),V=Ke&&Ae.type=="keydown"},ee._bindMultiple=function(ve,je,Ae){for(var Ue=0;Ue<ve.length;++Ue)Se(ve[Ue],je,Ae)},C(J,"keypress",Pe),C(J,"keydown",Pe),C(J,"keyup",Pe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,l,o){var p=o(7),d=o(34),_=o(30),g=o(33),E=p.TypeError;s.exports=function(T,P){var D,M;if(P==="string"&&_(D=T.toString)&&!g(M=d(D,T))||_(D=T.valueOf)&&!g(M=d(D,T))||P!=="string"&&_(D=T.toString)&&!g(M=d(D,T)))return M;throw E("Can't convert object to primitive value")}},function(s,l,o){var p=o(7),d=o(30),_=o(92),g=p.WeakMap;s.exports=d(g)&&/native code/.test(_(g))},function(s,l,o){var p=o(36),d=o(38),_=o(32),g=o(41),E=o(75);s.exports=p?Object.defineProperties:function(T,P){_(T);for(var D,M=g(P),R=E(P),C=R.length,B=0;C>B;)d.f(T,D=R[B++],M[D]);return T}},function(s,l,o){var p=o(7);s.exports=p},function(s,l,o){var p=o(7),d=o(96),_=o(99),g=o(33),E=o(28)("species"),T=p.Array;s.exports=function(P){var D;return d(P)&&(D=P.constructor,(_(D)&&(D===T||d(D.prototype))||g(D)&&(D=D[E])===null)&&(D=void 0)),D===void 0?T:D}},function(s,l,o){var p=o(113),d=o(97);s.exports=p?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,l,o){var p=o(142).IteratorPrototype,d=o(60),_=o(67),g=o(76),E=o(78),T=function(){return this};s.exports=function(P,D,M,R){var C=D+" Iterator";return P.prototype=d(p,{next:_(+!R,M)}),g(P,C,!1,!0),E[C]=T,P}},function(s,l,o){var p=o(7),d=o(30),_=p.String,g=p.TypeError;s.exports=function(E){if(typeof E=="object"||d(E))return E;throw g("Can't set "+_(E)+" as a prototype")}},function(s,l,o){var p=o(17),d=o(7),_=o(15),g=o(95),E=o(42),T=o(144),P=o(117),D=o(119),M=o(30),R=o(33),C=o(18),B=o(120),G=o(76),W=o(148);s.exports=function(ne,ue,te){var J=ne.indexOf("Map")!==-1,ee=ne.indexOf("Weak")!==-1,Y=J?"set":"add",L=d[ne],H=L&&L.prototype,V=L,$={},ae=function(ve){var je=_(H[ve]);E(H,ve,ve=="add"?function(Ae){return je(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(ee&&!R(Ae))&&je(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return ee&&!R(Ae)?void 0:je(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(ee&&!R(Ae))&&je(this,Ae===0?0:Ae)}:function(Ae,Ue){return je(this,Ae===0?0:Ae,Ue),this})};if(g(ne,!M(L)||!(ee||H.forEach&&!C(function(){new L().entries().next()}))))V=te.getConstructor(ue,ne,J,Y),T.enable();else if(g(ne,!0)){var Oe=new V,he=Oe[Y](ee?{}:-0,1)!=Oe,Pe=C(function(){Oe.has(1)}),Be=B(function(ve){new L(ve)}),Se=!ee&&C(function(){for(var ve=new L,je=5;je--;)ve[Y](je,je);return!ve.has(-0)});Be||((V=ue(function(ve,je){D(ve,H);var Ae=W(new L,ve,V);return je!=null&&P(je,Ae[Y],{that:Ae,AS_ENTRIES:J}),Ae})).prototype=H,H.constructor=V),(Pe||Se)&&(ae("delete"),ae("has"),J&&ae("get")),(Se||he)&&ae(Y),ee&&H.clear&&delete H.clear}return $[ne]=V,p({global:!0,forced:V!=L},$),G(V,ne),ee||te.setStrong(V,ne,J),V}},function(s,l,o){var p=o(18),d=o(33),_=o(51),g=o(184),E=Object.isExtensible,T=p(function(){});s.exports=T||g?function(P){return!!d(P)&&(!g||_(P)!="ArrayBuffer")&&(!E||E(P))}:E},function(s,l,o){var p=o(18);s.exports=p(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(s,l,o){var p=o(18);s.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,l,o){var p=o(38).f,d=o(60),_=o(149),g=o(63),E=o(119),T=o(117),P=o(116),D=o(150),M=o(36),R=o(144).fastKey,C=o(58),B=C.set,G=C.getterFor;s.exports={getConstructor:function(W,ne,ue,te){var J=W(function(V,$){E(V,ee),B(V,{type:ne,index:d(null),first:void 0,last:void 0,size:0}),M||(V.size=0),$!=null&&T($,V[te],{that:V,AS_ENTRIES:ue})}),ee=J.prototype,Y=G(ne),L=function(V,$,ae){var Oe,he,Pe=Y(V),Be=H(V,$);return Be?Be.value=ae:(Pe.last=Be={index:he=R($,!0),key:$,value:ae,previous:Oe=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=Be),Oe&&(Oe.next=Be),M?Pe.size++:V.size++,he!=="F"&&(Pe.index[he]=Be)),V},H=function(V,$){var ae,Oe=Y(V),he=R($);if(he!=="F")return Oe.index[he];for(ae=Oe.first;ae;ae=ae.next)if(ae.key==$)return ae};return _(ee,{clear:function(){for(var V=Y(this),$=V.index,ae=V.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete $[ae.index],ae=ae.next;V.first=V.last=void 0,M?V.size=0:this.size=0},delete:function(V){var $=this,ae=Y($),Oe=H($,V);if(Oe){var he=Oe.next,Pe=Oe.previous;delete ae.index[Oe.index],Oe.removed=!0,Pe&&(Pe.next=he),he&&(he.previous=Pe),ae.first==Oe&&(ae.first=he),ae.last==Oe&&(ae.last=Pe),M?ae.size--:$.size--}return!!Oe},forEach:function(V){for(var $,ae=Y(this),Oe=g(V,arguments.length>1?arguments[1]:void 0);$=$?$.next:ae.first;)for(Oe($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(V){return!!H(this,V)}}),_(ee,ue?{get:function(V){var $=H(this,V);return $&&$.value},set:function(V,$){return L(this,V===0?0:V,$)}}:{add:function(V){return L(this,V=V===0?0:V,V)}}),M&&p(ee,"size",{get:function(){return Y(this).size}}),J},setStrong:function(W,ne,ue){var te=ne+" Iterator",J=G(ne),ee=G(te);P(W,ne,function(Y,L){B(this,{type:te,target:Y,state:J(Y),kind:L,last:void 0})},function(){for(var Y=ee(this),L=Y.kind,H=Y.last;H&&H.removed;)H=H.previous;return Y.target&&(Y.last=H=H?H.next:Y.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(Y.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),D(ne)}}},function(s,l,o){var p=o(77).forEach,d=o(121)("forEach");s.exports=d?[].forEach:function(_){return p(this,_,arguments.length>1?arguments[1]:void 0)}},function(s,l,o){var p=o(7),d=o(63),_=o(34),g=o(40),E=o(189),T=o(145),P=o(99),D=o(45),M=o(62),R=o(146),C=o(118),B=p.Array;s.exports=function(G){var W=g(G),ne=P(this),ue=arguments.length,te=ue>1?arguments[1]:void 0,J=te!==void 0;J&&(te=d(te,ue>2?arguments[2]:void 0));var ee,Y,L,H,V,$,ae=C(W),Oe=0;if(!ae||this==B&&T(ae))for(ee=D(W),Y=ne?new this(ee):B(ee);ee>Oe;Oe++)$=J?te(W[Oe],Oe):W[Oe],M(Y,Oe,$);else for(V=(H=R(W,ae)).next,Y=ne?new this:[];!(L=_(V,H)).done;Oe++)$=J?E(H,te,[L.value,Oe],!0):L.value,M(Y,Oe,$);return Y.length=Oe,Y}},function(s,l,o){var p=o(32),d=o(147);s.exports=function(_,g,E,T){try{return T?g(p(E)[0],E[1]):g(E)}catch(P){d(_,"throw",P)}}},function(s,l,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var _=d(".","s");return!(_.dotAll&&_.exec(`
`)&&_.flags==="s")})},function(s,l,o){var p=o(18),d=o(7).RegExp;s.exports=p(function(){var _=d("(?<a>b)","g");return _.exec("b").groups.a!=="b"||"b".replace(_,"$<a>c")!=="bc"})},function(s,l,o){var p=o(17),d=o(15),_=o(56),g=o(40),E=o(45),T=o(39),P=o(18),D=o(193),M=o(121),R=o(194),C=o(195),B=o(68),G=o(196),W=[],ne=d(W.sort),ue=d(W.push),te=P(function(){W.sort(void 0)}),J=P(function(){W.sort(null)}),ee=M("sort"),Y=!P(function(){if(B)return B<70;if(!(R&&R>3)){if(C)return!0;if(G)return G<603;var L,H,V,$,ae="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:V=3;break;case 68:case 71:V=4;break;default:V=2}for($=0;$<47;$++)W.push({k:H+$,v:V})}for(W.sort(function(Oe,he){return he.v-Oe.v}),$=0;$<W.length;$++)H=W[$].k.charAt(0),ae.charAt(ae.length-1)!==H&&(ae+=H);return ae!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:te||!J||!ee||!Y},{sort:function(L){L!==void 0&&_(L);var H=g(this);if(Y)return L===void 0?ne(H):ne(H,L);var V,$,ae=[],Oe=E(H);for($=0;$<Oe;$++)$ in H&&ue(ae,H[$]);for(D(ae,function(he){return function(Pe,Be){return Be===void 0?-1:Pe===void 0?1:he!==void 0?+he(Pe,Be)||0:T(Pe)>T(Be)?1:-1}}(L)),V=ae.length,$=0;$<V;)H[$]=ae[$++];for(;$<Oe;)delete H[$++];return H}})},function(s,l,o){var p=o(114),d=Math.floor,_=function(T,P){var D=T.length,M=d(D/2);return D<8?g(T,P):E(T,_(p(T,0,M),P),_(p(T,M),P),P)},g=function(T,P){for(var D,M,R=T.length,C=1;C<R;){for(M=C,D=T[C];M&&P(T[M-1],D)>0;)T[M]=T[--M];M!==C++&&(T[M]=D)}return T},E=function(T,P,D,M){for(var R=P.length,C=D.length,B=0,G=0;B<R||G<C;)T[B+G]=B<R&&G<C?M(P[B],D[G])<=0?P[B++]:D[G++]:B<R?P[B++]:D[G++];return T};s.exports=_},function(s,l,o){var p=o(55).match(/firefox\/(\d+)/i);s.exports=!!p&&+p[1]},function(s,l,o){var p=o(55);s.exports=/MSIE|Trident/.test(p)},function(s,l,o){var p=o(55).match(/AppleWebKit\/(\d+)\./);s.exports=!!p&&+p[1]},function(s,l,o){var p=o(7),d=o(159),_=p.TypeError;s.exports=function(g){if(d(g))throw _("The method doesn't accept regular expressions");return g}},function(s,l,o){var p=o(28)("match");s.exports=function(d){var _=/./;try{"/./"[d](_)}catch(g){try{return _[p]=!1,"/./"[d](_)}catch(E){}}return!1}},function(s,l,o){var p=o(71).PROPER,d=o(18),_=o(165);s.exports=function(g){return d(function(){return!!_[g]()||"​᠎"[g]()!=="​᠎"||p&&_[g].name!==g})}},function(s,l,o){var p=o(15),d=o(40),_=Math.floor,g=p("".charAt),E=p("".replace),T=p("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,D=/\$([$&'`]|\d{1,2})/g;s.exports=function(M,R,C,B,G,W){var ne=C+M.length,ue=B.length,te=D;return G!==void 0&&(G=d(G),te=P),E(W,te,function(J,ee){var Y;switch(g(ee,0)){case"$":return"$";case"&":return M;case"`":return T(R,0,C);case"'":return T(R,ne);case"<":Y=G[T(ee,1,-1)];break;default:var L=+ee;if(L===0)return J;if(L>ue){var H=_(L/10);return H===0?J:H<=ue?B[H-1]===void 0?g(ee,1):B[H-1]+g(ee,1):J}Y=B[L-1]}return Y===void 0?"":Y})}},function(s,l,o){var p=o(36),d=o(15),_=o(34),g=o(18),E=o(75),T=o(112),P=o(84),D=o(40),M=o(85),R=Object.assign,C=Object.defineProperty,B=d([].concat);s.exports=!R||g(function(){if(p&&R({b:1},R(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},W={},ne=Symbol(),ue="abcdefghijklmnopqrst";return G[ne]=7,ue.split("").forEach(function(te){W[te]=te}),R({},G)[ne]!=7||E(R({},W)).join("")!=ue})?function(G,W){for(var ne=D(G),ue=arguments.length,te=1,J=T.f,ee=P.f;ue>te;)for(var Y,L=M(arguments[te++]),H=J?B(E(L),J(L)):E(L),V=H.length,$=0;V>$;)Y=H[$++],p&&!_(ee,L,Y)||(ne[Y]=L[Y]);return ne}:R},function(s,l,o){var p=o(7),d=o(15),_=o(56),g=o(33),E=o(35),T=o(98),P=p.Function,D=d([].concat),M=d([].join),R={},C=function(B,G,W){if(!E(R,G)){for(var ne=[],ue=0;ue<G;ue++)ne[ue]="a["+ue+"]";R[G]=P("C,a","return new C("+M(ne,",")+")")}return R[G](B,W)};s.exports=P.bind||function(B){var G=_(this),W=G.prototype,ne=T(arguments,1),ue=function(){var te=D(ne,T(arguments));return this instanceof ue?C(G,te.length,te):G.apply(B,te)};return g(W)&&(ue.prototype=W),ue}},function(s,l,o){var p=o(35);s.exports=function(d){return d!==void 0&&(p(d,"value")||p(d,"writable"))}},function(s,l,o){var p=o(15),d=o(44),_=o(39),g=/"/g,E=p("".replace);s.exports=function(T,P,D,M){var R=_(d(T)),C="<"+P;return D!==""&&(C+=" "+D+'="'+E(_(M),g,"&quot;")+'"'),C+">"+R+"</"+P+">"}},function(s,l,o){var p=o(18);s.exports=function(d){return p(function(){var _=""[d]('"');return _!==_.toLowerCase()||_.split('"').length>3})}},function(s,l,o){var p,d,_,g,E=o(17),T=o(69),P=o(7),D=o(46),M=o(34),R=o(207),C=o(42),B=o(149),G=o(102),W=o(76),ne=o(150),ue=o(56),te=o(30),J=o(33),ee=o(119),Y=o(92),L=o(117),H=o(120),V=o(161),$=o(168).set,ae=o(208),Oe=o(211),he=o(212),Pe=o(170),Be=o(213),Se=o(58),ve=o(95),je=o(28),Ae=o(214),Ue=o(128),et=o(68),ht=je("species"),Ge="Promise",Ke=Se.getterFor(Ge),yt=Se.set,se=Se.getterFor(Ge),ce=R&&R.prototype,ge=R,Ne=ce,He=P.TypeError,Le=P.document,Ot=P.process,At=Pe.f,Et=At,dt=!!(Le&&Le.createEvent&&P.dispatchEvent),Me=te(P.PromiseRejectionEvent),ut="unhandledrejection",fe=!1,rt=ve(Ge,function(){var ie=Y(ge),me=ie!==String(ge);if(!me&&et===66||T&&!Ne.finally)return!0;if(et>=51&&/native code/.test(ie))return!1;var Ve=new ge(function(lt){lt(1)}),We=function(lt){lt(function(){},function(){})};return(Ve.constructor={})[ht]=We,!(fe=Ve.then(function(){})instanceof We)||!me&&Ae&&!Me}),Ct=rt||!H(function(ie){ge.all(ie).catch(function(){})}),nn=function(ie){var me;return!(!J(ie)||!te(me=ie.then))&&me},Rt=function(ie,me){if(!ie.notified){ie.notified=!0;var Ve=ie.reactions;ae(function(){for(var We=ie.value,lt=ie.state==1,Ut=0;Ve.length>Ut;){var Yn,tr,Cn,Fn=Ve[Ut++],ot=lt?Fn.ok:Fn.fail,gt=Fn.resolve,xt=Fn.reject,Dt=Fn.domain;try{ot?(lt||(ie.rejection===2&&kt(ie),ie.rejection=1),ot===!0?Yn=We:(Dt&&Dt.enter(),Yn=ot(We),Dt&&(Dt.exit(),Cn=!0)),Yn===Fn.promise?xt(He("Promise-chain cycle")):(tr=nn(Yn))?M(tr,Yn,gt,xt):gt(Yn)):xt(We)}catch(sn){Dt&&!Cn&&Dt.exit(),xt(sn)}}ie.reactions=[],ie.notified=!1,me&&!ie.rejection&&fn(ie)})}},$t=function(ie,me,Ve){var We,lt;dt?((We=Le.createEvent("Event")).promise=me,We.reason=Ve,We.initEvent(ie,!1,!0),P.dispatchEvent(We)):We={promise:me,reason:Ve},!Me&&(lt=P["on"+ie])?lt(We):ie===ut&&he("Unhandled promise rejection",Ve)},fn=function(ie){M($,P,function(){var me,Ve=ie.facade,We=ie.value;if(_n(ie)&&(me=Be(function(){Ue?Ot.emit("unhandledRejection",We,Ve):$t(ut,Ve,We)}),ie.rejection=Ue||_n(ie)?2:1,me.error))throw me.value})},_n=function(ie){return ie.rejection!==1&&!ie.parent},kt=function(ie){M($,P,function(){var me=ie.facade;Ue?Ot.emit("rejectionHandled",me):$t("rejectionhandled",me,ie.value)})},Nn=function(ie,me,Ve){return function(We){ie(me,We,Ve)}},q=function(ie,me,Ve){ie.done||(ie.done=!0,Ve&&(ie=Ve),ie.value=me,ie.state=2,Rt(ie,!0))},de=function(ie,me,Ve){if(!ie.done){ie.done=!0,Ve&&(ie=Ve);try{if(ie.facade===me)throw He("Promise can't be resolved itself");var We=nn(me);We?ae(function(){var lt={done:!1};try{M(We,me,Nn(de,lt,ie),Nn(q,lt,ie))}catch(Ut){q(lt,Ut,ie)}}):(ie.value=me,ie.state=1,Rt(ie,!1))}catch(lt){q({done:!1},lt,ie)}}};if(rt&&(Ne=(ge=function(ie){ee(this,Ne),ue(ie),M(p,this);var me=Ke(this);try{ie(Nn(de,me),Nn(q,me))}catch(Ve){q(me,Ve)}}).prototype,(p=function(ie){yt(this,{type:Ge,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=B(Ne,{then:function(ie,me){var Ve=se(this),We=Ve.reactions,lt=At(V(this,ge));return lt.ok=!te(ie)||ie,lt.fail=te(me)&&me,lt.domain=Ue?Ot.domain:void 0,Ve.parent=!0,We[We.length]=lt,Ve.state!=0&&Rt(Ve,!1),lt.promise},catch:function(ie){return this.then(void 0,ie)}}),d=function(){var ie=new p,me=Ke(ie);this.promise=ie,this.resolve=Nn(de,me),this.reject=Nn(q,me)},Pe.f=At=function(ie){return ie===ge||ie===_?new d(ie):Et(ie)},!T&&te(R)&&ce!==Object.prototype)){g=ce.then,fe||(C(ce,"then",function(ie,me){var Ve=this;return new ge(function(We,lt){M(g,Ve,We,lt)}).then(ie,me)},{unsafe:!0}),C(ce,"catch",Ne.catch,{unsafe:!0}));try{delete ce.constructor}catch(ie){}G&&G(ce,Ne)}E({global:!0,wrap:!0,forced:rt},{Promise:ge}),W(ge,Ge,!1,!0),ne(Ge),_=D(Ge),E({target:Ge,stat:!0,forced:rt},{reject:function(ie){var me=At(this);return M(me.reject,void 0,ie),me.promise}}),E({target:Ge,stat:!0,forced:T||rt},{resolve:function(ie){return Oe(T&&this===_?ge:this,ie)}}),E({target:Ge,stat:!0,forced:Ct},{all:function(ie){var me=this,Ve=At(me),We=Ve.resolve,lt=Ve.reject,Ut=Be(function(){var Yn=ue(me.resolve),tr=[],Cn=0,Fn=1;L(ie,function(ot){var gt=Cn++,xt=!1;Fn++,M(Yn,me,ot).then(function(Dt){xt||(xt=!0,tr[gt]=Dt,--Fn||We(tr))},lt)}),--Fn||We(tr)});return Ut.error&&lt(Ut.value),Ve.promise},race:function(ie){var me=this,Ve=At(me),We=Ve.reject,lt=Be(function(){var Ut=ue(me.resolve);L(ie,function(Yn){M(Ut,me,Yn).then(Ve.resolve,We)})});return lt.error&&We(lt.value),Ve.promise}})},function(s,l,o){var p=o(7);s.exports=p.Promise},function(s,l,o){var p,d,_,g,E,T,P,D,M=o(7),R=o(63),C=o(50).f,B=o(168).set,G=o(169),W=o(209),ne=o(210),ue=o(128),te=M.MutationObserver||M.WebKitMutationObserver,J=M.document,ee=M.process,Y=M.Promise,L=C(M,"queueMicrotask"),H=L&&L.value;H||(p=function(){var V,$;for(ue&&(V=ee.domain)&&V.exit();d;){$=d.fn,d=d.next;try{$()}catch(ae){throw d?g():_=void 0,ae}}_=void 0,V&&V.enter()},G||ue||ne||!te||!J?!W&&Y&&Y.resolve?((P=Y.resolve(void 0)).constructor=Y,D=R(P.then,P),g=function(){D(p)}):ue?g=function(){ee.nextTick(p)}:(B=R(B,M),g=function(){B(p)}):(E=!0,T=J.createTextNode(""),new te(p).observe(T,{characterData:!0}),g=function(){T.data=E=!E})),s.exports=H||function(V){var $={fn:V,next:void 0};_&&(_.next=$),d||(d=$,g()),_=$}},function(s,l,o){var p=o(55),d=o(7);s.exports=/ipad|iphone|ipod/i.test(p)&&d.Pebble!==void 0},function(s,l,o){var p=o(55);s.exports=/web0s(?!.*chrome)/i.test(p)},function(s,l,o){var p=o(32),d=o(33),_=o(170);s.exports=function(g,E){if(p(g),d(E)&&E.constructor===g)return E;var T=_.f(g);return(0,T.resolve)(E),T.promise}},function(s,l,o){var p=o(7);s.exports=function(d,_){var g=p.console;g&&g.error&&(arguments.length==1?g.error(d):g.error(d,_))}},function(s,l){s.exports=function(o){try{return{error:!1,value:o()}}catch(p){return{error:!0,value:p}}}},function(s,l){s.exports=typeof window=="object"},function(s,l,o){var p=o(40),d=o(73),_=o(45);s.exports=function(g){for(var E=p(this),T=_(E),P=arguments.length,D=d(P>1?arguments[1]:void 0,T),M=P>2?arguments[2]:void 0,R=M===void 0?T:d(M,T);R>D;)E[D++]=g;return E}},function(s,l,o){var p=o(17),d=o(7),_=o(15),g=o(59),E=o(166),T=o(217),P=o(18),D=d.RangeError,M=d.String,R=Math.floor,C=_(T),B=_("".slice),G=_(1 .toFixed),W=function(J,ee,Y){return ee===0?Y:ee%2==1?W(J,ee-1,Y*J):W(J*J,ee/2,Y)},ne=function(J,ee,Y){for(var L=-1,H=Y;++L<6;)H+=ee*J[L],J[L]=H%1e7,H=R(H/1e7)},ue=function(J,ee){for(var Y=6,L=0;--Y>=0;)L+=J[Y],J[Y]=R(L/ee),L=L%ee*1e7},te=function(J){for(var ee=6,Y="";--ee>=0;)if(Y!==""||ee===0||J[ee]!==0){var L=M(J[ee]);Y=Y===""?L:Y+C("0",7-L.length)+L}return Y};p({target:"Number",proto:!0,forced:P(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!P(function(){G({})})},{toFixed:function(J){var ee,Y,L,H,V=E(this),$=g(J),ae=[0,0,0,0,0,0],Oe="",he="0";if($<0||$>20)throw D("Incorrect fraction digits");if(V!=V)return"NaN";if(V<=-1e21||V>=1e21)return M(V);if(V<0&&(Oe="-",V=-V),V>1e-21)if(Y=(ee=function(Pe){for(var Be=0,Se=Pe;Se>=4096;)Be+=12,Se/=4096;for(;Se>=2;)Be+=1,Se/=2;return Be}(V*W(2,69,1))-69)<0?V*W(2,-ee,1):V/W(2,ee,1),Y*=4503599627370496,(ee=52-ee)>0){for(ne(ae,0,Y),L=$;L>=7;)ne(ae,1e7,0),L-=7;for(ne(ae,W(10,L,1),0),L=ee-1;L>=23;)ue(ae,1<<23),L-=23;ue(ae,1<<L),ne(ae,1,1),ue(ae,2),he=te(ae)}else ne(ae,0,Y),ne(ae,1<<-ee,0),he=te(ae)+C("0",$);return he=$>0?Oe+((H=he.length)<=$?"0."+C("0",$-H)+he:B(he,0,H-$)+"."+B(he,H-$)):Oe+he}})},function(s,l,o){var p=o(7),d=o(59),_=o(39),g=o(44),E=p.RangeError;s.exports=function(T){var P=_(g(this)),D="",M=d(T);if(M<0||M==1/0)throw E("Wrong number of repetitions");for(;M>0;(M>>>=1)&&(P+=P))1&M&&(D+=P);return D}},function(s,l,o){var p=o(36),d=o(15),_=o(75),g=o(41),E=d(o(84).f),T=d([].push),P=function(D){return function(M){for(var R,C=g(M),B=_(C),G=B.length,W=0,ne=[];G>W;)R=B[W++],p&&!E(C,R)||T(ne,D?[R,C[R]]:C[R]);return ne}};s.exports={entries:P(!0),values:P(!1)}},function(s,l){s.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(s,l,o){o.r(l),o.d(l,"observer",function(){return ai}),o.d(l,"LogicFlow",function(){return Fv}),o.d(l,"h",function(){return fe.g}),o.d(l,"LogicFlowUtil",function(){return p}),o.d(l,"BaseNode",function(){return Qi}),o.d(l,"RectNode",function(){return Dy}),o.d(l,"CircleNode",function(){return Iy}),o.d(l,"PolygonNode",function(){return Uy}),o.d(l,"DiamondNode",function(){return Yy}),o.d(l,"EllipseNode",function(){return Zy}),o.d(l,"TextNode",function(){return Qy}),o.d(l,"HtmlNode",function(){return rv}),o.d(l,"BaseEdge",function(){return $l}),o.d(l,"LineEdge",function(){return gv}),o.d(l,"PolylineEdge",function(){return wv}),o.d(l,"BezierEdge",function(){return jv}),o.d(l,"Arrow",function(){return Cw}),o.d(l,"BaseEdgeModel",function(){return cl}),o.d(l,"BezierEdgeModel",function(){return zh}),o.d(l,"LineEdgeModel",function(){return Hi}),o.d(l,"PolylineEdgeModel",function(){return Ic}),o.d(l,"BaseNodeModel",function(){return Ji}),o.d(l,"CircleNodeModel",function(){return Xh}),o.d(l,"DiamondNodeModel",function(){return $h}),o.d(l,"EllipseNodeModel",function(){return Qh}),o.d(l,"PolygonNodeModel",function(){return iy}),o.d(l,"RectNodeModel",function(){return sy}),o.d(l,"TextNodeModel",function(){return dy}),o.d(l,"HtmlNodeModel",function(){return vy}),o.d(l,"EditConfigModel",function(){return Ms}),o.d(l,"GraphModel",function(){return ag}),o.d(l,"SnaplineModel",function(){return Xb}),o.d(l,"Keyboard",function(){return km}),o.d(l,"get",function(){return Mg}),o.d(l,"defaults",function(){return Dg}),o.d(l,"ElementState",function(){return un}),o.d(l,"ModelType",function(){return Yt}),o.d(l,"ElementType",function(){return Gn}),o.d(l,"EventType",function(){return ft}),o.d(l,"formateAnchorConnectValidateData",function(){return Pu});var p={};o.r(p),o.d(p,"createUuid",function(){return ho}),o.d(p,"refreshGraphId",function(){return Pa}),o.d(p,"createDrag",function(){return vp}),o.d(p,"StepDrag",function(){return Io}),o.d(p,"setupEdgeModel",function(){return up}),o.d(p,"isBboxOverLapping",function(){return ml}),o.d(p,"filterRepeatPoints",function(){return ei}),o.d(p,"getSimplePolyline",function(){return _l}),o.d(p,"getExpandedBBox",function(){return Na}),o.d(p,"pointDirection",function(){return ku}),o.d(p,"getExpandedBBoxPoint",function(){return ur}),o.d(p,"mergeBBox",function(){return _i}),o.d(p,"getBBoxOfPoints",function(){return Ca}),o.d(p,"getPointsFromBBox",function(){return Du}),o.d(p,"isPointOutsideBBox",function(){return Ra}),o.d(p,"getBBoxXCrossPoints",function(){return Ro}),o.d(p,"getBBoxYCrossPoints",function(){return Gt}),o.d(p,"getBBoxCrossPointsByPoint",function(){return Ol}),o.d(p,"estimateDistance",function(){return wr}),o.d(p,"costByPoints",function(){return wl}),o.d(p,"heuristicCostEstimate",function(){return cn}),o.d(p,"rebuildPath",function(){return cp}),o.d(p,"removeClosePointFromOpenList",function(){return xl}),o.d(p,"isSegmentsIntersected",function(){return ti}),o.d(p,"isSegmentCrossingBBox",function(){return El}),o.d(p,"getNextNeighborPoints",function(){return sp}),o.d(p,"pathFinder",function(){return lp}),o.d(p,"getBoxByOriginNode",function(){return Sl}),o.d(p,"pointFilter",function(){return Nu}),o.d(p,"getPolylinePoints",function(){return Cu}),o.d(p,"getLongestEdge",function(){return fp}),o.d(p,"isSegmentsInNode",function(){return jl}),o.d(p,"isSegmentsCrossNode",function(){return Pl}),o.d(p,"getCrossPointInRect",function(){return $n}),o.d(p,"segmentDirection",function(){return or}),o.d(p,"points2PointsList",function(){return Oi}),o.d(p,"getSimplePoints",function(){return Al}),o.d(p,"getBytesLength",function(){return Tl}),o.d(p,"getTextWidth",function(){return dp}),o.d(p,"getAppendAttributes",function(){return Ml}),o.d(p,"getBezierControlPoints",function(){return wi}),o.d(p,"getBezierPoints",function(){return Fc}),o.d(p,"getEndTangent",function(){return Uc}),o.d(p,"getClosestPointOfPolyline",function(){return kl}),o.d(p,"pickEdgeConfig",function(){return hp}),o.d(p,"twoPointDistance",function(){return Dl}),o.d(p,"createEdgeGenerator",function(){return yp}),o.d(p,"snapToGrid",function(){return Do}),o.d(p,"getGridOffset",function(){return ja}),o.d(p,"sampleCubic",function(){return Bt}),o.d(p,"getThetaOfVector",function(){return Or}),o.d(p,"degrees",function(){return In}),o.d(p,"Vector",function(){return Zn}),o.d(p,"Point",function(){return Hc}),o.d(p,"Matrix",function(){return Dn}),o.d(p,"RotateMatrix",function(){return Dr}),o.d(p,"ScaleMatrix",function(){return vo}),o.d(p,"TranslateMatrix",function(){return zn});var d=o(1),_=o(10);if(!_.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function T(t){t()}var P=!1;function D(){return P}function M(t){return Object(d.t)(t)}var R,C=1e4,B=new Set;function G(){R===void 0&&(R=setTimeout(W,1e4))}function W(){R=void 0;var t=Date.now();B.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,B.delete(e))}),B.size>0&&G()}var ne=!1,ue=[],te={};function J(t){return"observer"+t}function ee(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=te),D();var r,a=function(x){return function(){ne?ue.push(x):x()}}((n.useForceUpdate||g.d)()),i=_.d.useRef(null);if(!i.current){var c=new d.c(J(e),function(){y.mounted?a():(c.dispose(),i.current=null)}),y=function(x){return{cleanAt:Date.now()+C,reaction:x}}(c);i.current=y,r=i,B.add(r),G()}var b=i.current.reaction;return _.d.useDebugValue(b,M),_.d.useEffect(function(){var x;return x=i,B.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new d.c(J(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){ne=!0,ue=[];try{var S=x();ne=!1;var k=ue.length>0?ue:void 0;return _.d.useLayoutEffect(function(){k&&k.forEach(function(I){return I()})},[k]),S}finally{ne=!1}}(function(){var x,S;if(b.track(function(){try{x=t()}catch(k){S=k}}),S)throw S;return x})}var Y=function(){return Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Y.apply(this,arguments)};function L(t,e){var n,r,a,i=Y({forwardRef:!1},e),c=t.displayName||t.name,y=function(b,x){return ee(function(){return t(b,x)},c)};return y.displayName=c,n=i.forwardRef?Object(_.f)(Object(_.e)(y)):Object(_.f)(y),r=t,a=n,Object.keys(r).forEach(function(b){H[b]||Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=c,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function V(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ee(r)}function $(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",y=typeof t[i]=="function";return c&&y?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||y?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}V.propTypes={children:$,render:$},V.displayName="Observer";var ae;(ae=_.g)||(ae=T),Object(d.n)({reactionScheduler:ae}),Object(g.a)()[E]=!0;var Oe=0,he={};function Pe(t){return he[t]||(he[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Oe+")";return Oe++,n}(t)),he[t]}function Be(t,e){if(Se(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!Se(t[n[a]],e[n[a]]))return!1;return!0}function Se(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var je=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Ue(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(y){y.apply(n,a)})}}function et(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ue.call.apply(Ue,[this,t,e].concat(r))}}function ht(t,e,n){var r=function(y,b){var x=y[je]=y[je]||{},S=x[b]=x[b]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=Ge(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Ge(t,e,n,r,a){var i,c=et(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(y){if(this===t)c=et(y,r);else{var b=Ge(this,e,n,r,y);Object.defineProperty(this,e,b)}},i.configurable=!0,i.enumerable=n,i}var Ke=d.a||"$mobx",yt=Pe("isMobXReactObserver"),se=Pe("isUnmounted"),ce=Pe("skipRender"),ge=Pe("isForcingUpdate");function Ne(t){var e=t.prototype;if(t[yt]?He(e):t[yt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==_.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ot;At(e,"props"),At(e,"state");var n=e.render;return e.render=function(){return Le.call(this,n)},ht(e,"componentWillUnmount",function(){var r;(r=this.render[Ke])===null||r===void 0||r.dispose(),this[se]=!0,!this.render[Ke]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Le(t){var e=this;ve(this,ce,!1),ve(this,ge,!1);var n=He(this),r=t.bind(this),a=!1,i=new d.c(n+".render()",function(){if(!a&&(a=!0,e[se]!==!0)){var y=!0;try{ve(e,ge,!0),e[ce]||_.a.prototype.forceUpdate.call(e),y=!1}finally{ve(e,ge,!1),y&&i.dispose()}}});function c(){a=!1;var y=void 0,b=void 0;if(i.track(function(){try{b=Object(d.d)(!1,r)}catch(x){y=x}}),y)throw y;return b}return i.reactComponent=this,c[Ke]=i,this.render=c,c.call(this)}function Ot(t,e){return this.state!==e||!Be(this.props,t)}function At(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return d.f&&d.e&&(i=Object(d.f)(!0)),a.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(i),this[n]},set:function(i){this[ge]||Be(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,ce,!0),a.call(this).reportChanged(),ve(this,ce,!1))}})}var Et=typeof Symbol=="function"&&Symbol.for,dt=Et?Symbol.for("react.forward_ref"):typeof _.e=="function"&&Object(_.e)(function(t){return null}).$$typeof,Me=Et?Symbol.for("react.memo"):typeof _.f=="function"&&Object(_.f)(function(t){return null}).$$typeof;function ut(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(dt&&t.$$typeof===dt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(_.e)(function(){var n=arguments;return Object(_.c)(V,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(_.a,t)?Ne(t):L(t)}if(!_.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var fe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(16),o(23),o(19),o(192),o(156),o(104),o(157),o(158);var rt=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},Ct=function(){this.__data__=[],this.size=0},nn=function(t,e){return t===e||t!=t&&e!=e},Rt=function(t,e){for(var n=t.length;n--;)if(nn(t[n][0],e))return n;return-1},$t=Array.prototype.splice,fn=function(t){var e=this.__data__,n=Rt(e,t);return!(n<0)&&(n==e.length-1?e.pop():$t.call(e,n,1),--this.size,!0)},_n=function(t){var e=this.__data__,n=Rt(e,t);return n<0?void 0:e[n][1]},kt=function(t){return Rt(this.__data__,t)>-1},Nn=function(t,e){var n=this.__data__,r=Rt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=Ct,q.prototype.delete=fn,q.prototype.get=_n,q.prototype.has=kt,q.prototype.set=Nn;var de=q,ie=function(){this.__data__=new de,this.size=0},me=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},We=function(t){return this.__data__.has(t)},lt=o(31),Ut=lt.a.Symbol,Yn=Object.prototype,tr=Yn.hasOwnProperty,Cn=Yn.toString,Fn=Ut?Ut.toStringTag:void 0,ot=function(t){var e=tr.call(t,Fn),n=t[Fn];try{t[Fn]=void 0;var r=!0}catch(i){}var a=Cn.call(t);return r&&(e?t[Fn]=n:delete t[Fn]),a},gt=Object.prototype.toString,xt=function(t){return gt.call(t)},Dt=Ut?Ut.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Dt&&Dt in Object(t)?ot(t):xt(t)},jn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},mo,ao=function(t){if(!jn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},_o=lt.a["__core-js_shared__"],ui=(mo=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||""))?"Symbol(src)_1."+mo:"",bs=function(t){return!!ui&&ui in t},Za=Function.prototype.toString,Ir=function(t){if(t!=null){try{return Za.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Di=/^\[object .+?Constructor\]$/,ct=Function.prototype,ms=Object.prototype,qa=ct.toString,Ja=ms.hasOwnProperty,hr=RegExp("^"+qa.call(Ja).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Er=function(t){return!(!jn(t)||bs(t))&&(ao(t)?hr:Di).test(Ir(t))},ia=function(t,e){return t==null?void 0:t[e]},qr=function(t,e){var n=ia(t,e);return Er(n)?n:void 0},Lr=qr(lt.a,"Map"),Jr=qr(Object,"create"),Qa=function(){this.__data__=Jr?Jr(null):{},this.size=0},eu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ku=Object.prototype.hasOwnProperty,Ni=function(t){var e=this.__data__;if(Jr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Ku.call(e,t)?e[t]:void 0},$u=Object.prototype.hasOwnProperty,tu=function(t){var e=this.__data__;return Jr?e[t]!==void 0:$u.call(e,t)},_s=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jr&&e===void 0?"__lodash_hash_undefined__":e,this};function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=Qa,Go.prototype.delete=eu,Go.prototype.get=Ni,Go.prototype.has=tu,Go.prototype.set=_s;var Zu=Go,Oo=function(){this.size=0,this.__data__={hash:new Zu,map:new(Lr||de),string:new Zu}},nu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},aa=function(t,e){var n=t.__data__;return nu(e)?n[typeof e=="string"?"string":"hash"]:n.map},ru=function(t){var e=aa(this,t).delete(t);return this.size-=e?1:0,e},ou=function(t){return aa(this,t).get(t)},Os=function(t){return aa(this,t).has(t)},qu=function(t,e){var n=aa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function an(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}an.prototype.clear=Oo,an.prototype.delete=ru,an.prototype.get=ou,an.prototype.has=Os,an.prototype.set=qu;var rn=an,Ju=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Lr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rn(r)}return n.set(t,e),this.size=n.size,this};function ci(t){var e=this.__data__=new de(t);this.size=e.size}ci.prototype.clear=ie,ci.prototype.delete=me,ci.prototype.get=Ve,ci.prototype.has=We,ci.prototype.set=Ju;var wo=ci,iu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Qu=function(t){return this.__data__.has(t)};function Mn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new rn;++e<n;)this.add(t[e])}Mn.prototype.add=Mn.prototype.push=iu,Mn.prototype.has=Qu;var au=Mn,Ci=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},uu=function(t,e){return t.has(e)},ua=function(t,e,n,r,a,i){var c=1&n,y=t.length,b=e.length;if(y!=b&&!(c&&b>y))return!1;var x=i.get(t),S=i.get(e);if(x&&S)return x==e&&S==t;var k=-1,I=!0,X=2&n?new au:void 0;for(i.set(t,e),i.set(e,t);++k<y;){var Z=t[k],re=e[k];if(r)var ye=c?r(re,Z,k,e,t,i):r(Z,re,k,t,e,i);if(ye!==void 0){if(ye)continue;I=!1;break}if(X){if(!Ci(e,function(be,xe){if(!uu(X,xe)&&(Z===be||a(Z,be,n,r,i)))return X.push(xe)})){I=!1;break}}else if(Z!==re&&!a(Z,re,n,r,i)){I=!1;break}}return i.delete(t),i.delete(e),I},nr=lt.a.Uint8Array,cu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},ec=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},su=Ut?Ut.prototype:void 0,ca=su?su.valueOf:void 0,si=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new nr(t),new nr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var y=cu;case"[object Set]":var b=1&r;if(y||(y=ec),t.size!=e.size&&!b)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var S=ua(y(t),y(e),r,a,i,c);return c.delete(t),S;case"[object Symbol]":if(ca)return ca.call(t)==ca.call(e)}return!1},uo=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},hn=Array.isArray,tc=function(t,e,n){var r=e(t);return hn(t)?r:uo(r,n(t))},yr=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},nc=function(){return[]},rc=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,vr=cr?function(t){return t==null?[]:(t=Object(t),yr(cr(t),function(e){return rc.call(t,e)}))}:nc,lu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Qt=function(t){return t!=null&&typeof t=="object"},Vn=function(t){return Qt(t)&&sn(t)=="[object Arguments]"},sa=Object.prototype,oc=sa.hasOwnProperty,fu=sa.propertyIsEnumerable,la=Vn(function(){return arguments}())?Vn:function(t){return Qt(t)&&oc.call(t,"callee")&&!fu.call(t,"callee")},co=la,xo=o(48),li=/^(?:0|[1-9]\d*)$/,gr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&li.test(t))&&t>-1&&t%1==0&&t<e},Eo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var br=function(t){return Qt(t)&&Eo(t.length)&&!!Zt[sn(t)]},so=function(t){return function(e){return t(e)}},Jn=o(49),fa=Jn.a&&Jn.a.isTypedArray,Ri=fa?so(fa):br,pu=Object.prototype.hasOwnProperty,Pn=function(t,e){var n=hn(t),r=!n&&co(t),a=!n&&!r&&Object(xo.a)(t),i=!n&&!r&&!a&&Ri(t),c=n||r||a||i,y=c?lu(t.length,String):[],b=y.length;for(var x in t)!e&&!pu.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||gr(x,b))||y.push(x);return y},pa=Object.prototype,So=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||pa)},zr=function(t,e){return function(n){return t(e(n))}},du=zr(Object.keys,Object),ws=Object.prototype.hasOwnProperty,hu=function(t){if(!So(t))return du(t);var e=[];for(var n in Object(t))ws.call(t,n)&&n!="constructor"&&e.push(n);return e},Un=function(t){return t!=null&&Eo(t.length)&&!ao(t)},fi=function(t){return Un(t)?Pn(t):hu(t)},lo=function(t){return tc(t,fi,vr)},sr=Object.prototype.hasOwnProperty,yu=function(t,e,n,r,a,i){var c=1&n,y=lo(t),b=y.length;if(b!=lo(e).length&&!c)return!1;for(var x=b;x--;){var S=y[x];if(!(c?S in e:sr.call(e,S)))return!1}var k=i.get(t),I=i.get(e);if(k&&I)return k==e&&I==t;var X=!0;i.set(t,e),i.set(e,t);for(var Z=c;++x<b;){var re=t[S=y[x]],ye=e[S];if(r)var be=c?r(ye,re,S,e,t,i):r(re,ye,S,t,e,i);if(!(be===void 0?re===ye||a(re,ye,n,r,i):be)){X=!1;break}Z||(Z=S=="constructor")}if(X&&!Z){var xe=t.constructor,Te=e.constructor;xe==Te||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Te=="function"&&Te instanceof Te||(X=!1)}return i.delete(t),i.delete(e),X},Sr=qr(lt.a,"DataView"),Ho=qr(lt.a,"Promise"),da=qr(lt.a,"Set"),fo=qr(lt.a,"WeakMap"),jr="[object Map]",mr="[object Promise]",Br="[object Set]",po="[object WeakMap]",we="[object DataView]",Ce=Ir(Sr),Ie=Ir(Lr),Ze=Ir(Ho),It=Ir(da),Wt=Ir(fo),yn=sn;(Sr&&yn(new Sr(new ArrayBuffer(1)))!=we||Lr&&yn(new Lr)!=jr||Ho&&yn(Ho.resolve())!=mr||da&&yn(new da)!=Br||fo&&yn(new fo)!=po)&&(yn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Ir(n):"";if(r)switch(r){case Ce:return we;case Ie:return jr;case Ze:return mr;case It:return Br;case Wt:return po}return e});var O=yn,w="[object Arguments]",A="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,pe=function(t,e,n,r,a,i){var c=hn(t),y=hn(e),b=c?A:O(t),x=y?A:O(e),S=(b=b==w?z:b)==z,k=(x=x==w?z:x)==z,I=b==x;if(I&&Object(xo.a)(t)){if(!Object(xo.a)(e))return!1;c=!0,S=!1}if(I&&!S)return i||(i=new wo),c||Ri(t)?ua(t,e,n,r,a,i):si(t,e,b,n,r,a,i);if(!(1&n)){var X=S&&K.call(t,"__wrapped__"),Z=k&&K.call(e,"__wrapped__");if(X||Z){var re=X?t.value():t,ye=Z?e.value():e;return i||(i=new wo),a(re,ye,n,r,i)}}return!!I&&(i||(i=new wo),yu(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!Qt(e)&&!Qt(n)?e!=e&&n!=n:pe(e,n,r,a,t,i))},Fe=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var y=n[a];if(c&&y[2]?y[1]!==t[y[0]]:!(y[0]in t))return!1}for(;++a<i;){var b=(y=n[a])[0],x=t[b],S=y[1];if(c&&y[2]){if(x===void 0&&!(b in t))return!1}else{var k=new wo;if(r)var I=r(x,S,b,t,e,k);if(!(I===void 0?Ee(S,x,3,r,k):I))return!1}}return!0},it=function(t){return t==t&&!jn(t)},Xt=function(t){for(var e=fi(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,it(a)]}return e},Qe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Xt(t);return e.length==1&&e[0][2]?Qe(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},Lt=function(t){return typeof t=="symbol"||Qt(t)&&sn(t)=="[object Symbol]"},tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/,On=function(t,e){if(hn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Lt(t))||Fr.test(t)||!tn.test(t)||e!=null&&t in Object(e)};function _r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(_r.Cache||rn),n}_r.Cache=rn;var jo=_r,Po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/\\(\\)?/g,vu=function(t){var e=jo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Po,function(n,r,a,i){e.push(a?i.replace(Ii,"$1"):r||n)}),e}),Xo=Ut?Ut.prototype:void 0,ha=Xo?Xo.toString:void 0,lr=function t(e){if(typeof e=="string")return e;if(hn(e))return rt(e,t)+"";if(Lt(e))return ha?ha.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Li=function(t){return t==null?"":lr(t)},pi=function(t,e){return hn(t)?t:On(t,e)?[t]:vu(Li(t))},Yo=function(t){if(typeof t=="string"||Lt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Vo=function(t,e){for(var n=0,r=(e=pi(e,t)).length;t!=null&&n<r;)t=t[Yo(e[n++])];return n&&n==r?t:void 0},gu=function(t,e,n){var r=t==null?void 0:Vo(t,e);return r===void 0?n:r},Ud=function(t,e){return t!=null&&e in Object(t)},Gd=function(t,e,n){for(var r=-1,a=(e=pi(e,t)).length,i=!1;++r<a;){var c=Yo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&Eo(a)&&gr(c,a)&&(hn(t)||co(t))},ff=function(t,e){return t!=null&&Gd(t,e,Ud)},ic=function(t,e){return On(t)&&it(e)?Qe(Yo(t),e):function(n){var r=gu(n,t);return r===void 0&&r===e?ff(n,t):Ee(e,r,3)}},ya=function(t){return t},xs=function(t){return function(e){return e==null?void 0:e[t]}},Hd=function(t){return function(e){return Vo(e,t)}},pf=function(t){return On(t)?xs(Yo(t)):Hd(t)},Xd=function(t){return typeof t=="function"?t:t==null?ya:typeof t=="object"?hn(t)?ic(t[0],t[1]):pn(t):pf(t)},df=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),y=c.length;y--;){var b=c[t?y:++a];if(n(i[b],b,i)===!1)break}return e}}(),Qn=function(t,e){return function(n,r){if(n==null)return n;if(!Un(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&df(t,e,fi)}),fr=function(t,e){var n=-1,r=Un(t)?Array(t.length):[];return Qn(t,function(a,i,c){r[++n]=e(a,i,c)}),r},ac=function(t,e){return(hn(t)?rt:fr)(t,Xd(e))};Object(d.n)({isolateGlobalState:!0});var uc=function(){try{var t=qr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),cc=function(t,e,n){e=="__proto__"&&uc?uc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Yd=Object.prototype.hasOwnProperty,va=function(t,e,n){var r=t[e];Yd.call(t,e)&&nn(r,n)&&(n!==void 0||e in t)||cc(t,e,n)},Ao=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var y=e[i],b=r?r(n[y],t[y],y,n,t):void 0;b===void 0&&(b=t[y]),a?cc(n,y,b):va(n,y,b)}return n},Es=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},zi=Math.max,ga=function(t,e,n){return e=zi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=zi(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var y=Array(e+1);++a<e;)y[a]=r[a];return y[e]=n(c),Es(t,this,y)}},bu=function(t){return function(){return t}},sc=uc?function(t,e){return uc(t,"toString",{configurable:!0,enumerable:!1,value:bu(e),writable:!0})}:ya,ba=Date.now,Vd=function(t){var e=0,n=0;return function(){var r=ba(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},hf=Vd(sc),Wd=function(t,e){return hf(ga(t,e,ya),t+"")},Kd=function(t,e,n){if(!jn(n))return!1;var r=typeof e;return!!(r=="number"?Un(n)&&gr(e,n.length):r=="string"&&e in n)&&nn(n[e],t)},yf=function(t){return Wd(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&Kd(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var y=n[r];y&&t(e,y,r,i)}return e})},lc=Object.prototype.hasOwnProperty,er=yf(function(t,e){if(So(e)||Un(e))Ao(e,fi(e),t);else for(var n in e)lc.call(e,n)&&va(t,n,e[n])}),vf=function(t,e,n,r){if(!jn(t))return t;for(var a=-1,i=(e=pi(e,t)).length,c=i-1,y=t;y!=null&&++a<i;){var b=Yo(e[a]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(a!=c){var S=y[b];(x=r?r(S,b,y):void 0)===void 0&&(x=jn(S)?S:gr(e[a+1])?[]:{})}va(y,b,x),y=y[b]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],y=Vo(t,c);n(y,c)&&vf(i,pi(c,t),y)}return i},ma=function(t,e){return F(t,e,function(n,r){return ff(t,r)})},mu=Ut?Ut.isConcatSpreadable:void 0,Qr=function(t){return hn(t)||co(t)||!!(mu&&t&&t[mu])},Jt=function t(e,n,r,a,i){var c=-1,y=e.length;for(r||(r=Qr),i||(i=[]);++c<y;){var b=e[c];n>0&&r(b)?n>1?t(b,n-1,r,a,i):uo(i,b):a||(i[i.length]=b)}return i},Bi=function(t){return t!=null&&t.length?Jt(t,1):[]},dn,To,di,eo,Ss,js,gf,bf,fc,_a,_u,mf,Ps,Mo,pc,hi,Ur,As,Ts,Wo=function(t){return hf(ga(t,void 0,Bi),t+"")}(function(t,e){return t==null?{}:ma(t,e)});function wn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Of(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var un,rr,Yt,Gn,ft,vn,dc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ko=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Ms=(To=Rn((dn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),wn(this,"isSilentMode",To,this),wn(this,"stopZoomGraph",di,this),wn(this,"stopScrollGraph",eo,this),wn(this,"stopMoveGraph",Ss,this),wn(this,"adjustEdge",js,this),wn(this,"adjustEdgeMiddle",gf,this),wn(this,"adjustEdgeStartAndEnd",bf,this),wn(this,"adjustNodePosition",fc,this),wn(this,"hideAnchors",_a,this),wn(this,"allowRotation",_u,this),wn(this,"hoverOutline",mf,this),wn(this,"nodeSelectedOutline",Ps,this),wn(this,"edgeSelectedOutline",Mo,this),wn(this,"nodeTextEdit",pc,this),wn(this,"edgeTextEdit",hi,this),wn(this,"nodeTextDraggable",Ur,this),wn(this,"edgeTextDraggable",As,this),wn(this,"autoExpand",Ts,this),Of(this,"multipleSelectKey",""),Of(this,"defaultConfig",{}),er(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);er(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&er(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var y=Wo(dc,Ko);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},er(c,y)}i===!1&&er(c,{nodeTextEdit:!1,edgeTextEdit:!1});var b=Wo(r,Ko);return er(c,b)}},{key:"getConfig",value:function(){return Wo(this,Ko)}}])&&_f(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),di=Rn(dn.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eo=Rn(dn.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ss=Rn(dn.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Rn(dn.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gf=Rn(dn.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bf=Rn(dn.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fc=Rn(dn.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_a=Rn(dn.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_u=Rn(dn.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=Rn(dn.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Rn(dn.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mo=Rn(dn.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pc=Rn(dn.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hi=Rn(dn.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ur=Rn(dn.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),As=Rn(dn.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=Rn(dn.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rn(dn.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEditConfig"),dn.prototype),dn);o(64),o(80),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(un||(un={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(rr||(rr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Yt||(Yt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Gn||(Gn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(ft||(ft={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(vn||(vn={}));var gn,kn,wf,xf,hc,Oa,ks,wa,yc;function xa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ds(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ds(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ds(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $o(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function to(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(gn||(gn={}));var Ef={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Sf=(kn=function(){function t(r,a){(function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),Zo(this,"MINI_SCALE_SIZE",.2),Zo(this,"MAX_SCALE_SIZE",16),$o(this,"SCALE_X",wf,this),$o(this,"SKEW_Y",xf,this),$o(this,"SKEW_X",hc,this),$o(this,"SCALE_Y",Oa,this),$o(this,"TRANSLATE_X",ks,this),$o(this,"TRANSLATE_Y",wa,this),$o(this,"ZOOM_SIZE",yc,this),Zo(this,"eventCenter",void 0),Zo(this,"translateLimitMinX",void 0),Zo(this,"translateLimitMinY",void 0),Zo(this,"translateLimitMaxX",void 0),Zo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=xa(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=xa(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=xa(r,2),y=c[0],b=c[1];return[y+a/this.SCALE_X,b+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ft.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var y=xa(this.CanvasPointToHtmlPoint([r,a]),2),b=i/2-y[0],x=c/2-y[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=xa(Array.isArray(r)&&r.length===4?r:Ef[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&$d(e.prototype,n),t}(),wf=to(kn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xf=to(kn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hc=to(kn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oa=to(kn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ks=to(kn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wa=to(kn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yc=to(kn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),to(kn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(kn.prototype,"zoom"),kn.prototype),to(kn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(kn.prototype,"resetZoom"),kn.prototype),to(kn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(kn.prototype,"translate"),kn.prototype),to(kn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(kn.prototype,"focusOn"),kn.prototype),kn),vc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},jf=function(t,e){return t&&Ao(e,fi(e),t)},Pf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Af=Object.prototype.hasOwnProperty,Ns=function(t){if(!jn(t))return Pf(t);var e=So(t),n=[];for(var r in t)(r!="constructor"||!e&&Af.call(t,r))&&n.push(r);return n},Ea=function(t){return Un(t)?Pn(t,!0):Ns(t)},Cs=function(t,e){return t&&Ao(e,Ea(e),t)},gc=o(107),Vt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Zd=function(t,e){return Ao(t,vr(t),e)},Rs=zr(Object.getPrototypeOf,Object),Sa=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)uo(e,vr(t)),t=Rs(t);return e}:nc,Tf=function(t,e){return Ao(t,Sa(t),e)},qd=function(t){return tc(t,Ea,Sa)},Jd=Object.prototype.hasOwnProperty,no=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Jd.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Is=function(t){var e=new t.constructor(t.byteLength);return new nr(e).set(new nr(t)),e},bc=function(t,e){var n=e?Is(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Ls=/\w*$/,Mf=function(t){var e=new t.constructor(t.source,Ls.exec(t));return e.lastIndex=t.lastIndex,e},zs=Ut?Ut.prototype:void 0,Pr=zs?zs.valueOf:void 0,yi=function(t){return Pr?Object(Pr.call(t)):{}},mc=function(t,e){var n=e?Is(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},kf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Is(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return bc(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Mf(t);case"[object Symbol]":return yi(t)}},Ou=Object.create,Df=function(){function t(){}return function(e){if(!jn(e))return{};if(Ou)return Ou(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_c=function(t){return typeof t.constructor!="function"||So(t)?{}:Df(Rs(t))},Nf=function(t){return Qt(t)&&O(t)=="[object Map]"},Oc=Jn.a&&Jn.a.isMap,Bs=Oc?so(Oc):Nf,vi=function(t){return Qt(t)&&O(t)=="[object Set]"},Cf=Jn.a&&Jn.a.isSet,gi=Cf?so(Cf):vi,Fs="[object Arguments]",Us="[object Function]",Gs="[object Object]",bn={};bn[Fs]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[Us]=bn["[object WeakMap]"]=!1;var Rf=function t(e,n,r,a,i,c){var y,b=1&n,x=2&n,S=4&n;if(r&&(y=i?r(e,a,i,c):r(e)),y!==void 0)return y;if(!jn(e))return e;var k=hn(e);if(k){if(y=no(e),!b)return Vt(e,y)}else{var I=O(e),X=I==Us||I=="[object GeneratorFunction]";if(Object(xo.a)(e))return Object(gc.a)(e,b);if(I==Gs||I==Fs||X&&!i){if(y=x||X?{}:_c(e),!b)return x?Tf(e,Cs(y,e)):Zd(e,jf(y,e))}else{if(!bn[I])return i?e:{};y=kf(e,I,b)}}c||(c=new wo);var Z=c.get(e);if(Z)return Z;c.set(e,y),gi(e)?e.forEach(function(ye){y.add(t(ye,n,r,ye,e,c))}):Bs(e)&&e.forEach(function(ye,be){y.set(be,t(ye,n,r,be,e,c))});var re=k?void 0:(S?x?qd:lo:x?Ea:fi)(e);return vc(re||e,function(ye,be){re&&(ye=e[be=ye]),va(y,be,t(ye,n,r,be,e,c))}),y},xn=function(t){return Rf(t,5)},wc=function(t,e,n){(n!==void 0&&!nn(t[e],n)||n===void 0&&!(e in t))&&cc(t,e,n)},Ar=function(t){return Qt(t)&&Un(t)},ko=Function.prototype,xc=Object.prototype,Fi=ko.toString,If=xc.hasOwnProperty,Lf=Fi.call(Object),zf=function(t){if(!Qt(t)||sn(t)!="[object Object]")return!1;var e=Rs(t);if(e===null)return!0;var n=If.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Fi.call(n)==Lf},bi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},wu=function(t){return Ao(t,Ea(t))},Bf=function(t,e,n,r,a,i,c){var y=bi(t,n),b=bi(e,n),x=c.get(b);if(x)wc(t,n,x);else{var S=i?i(y,b,n+"",t,e,c):void 0,k=S===void 0;if(k){var I=hn(b),X=!I&&Object(xo.a)(b),Z=!I&&!X&&Ri(b);S=b,I||X||Z?hn(y)?S=y:Ar(y)?S=Vt(y):X?(k=!1,S=Object(gc.a)(b,!0)):Z?(k=!1,S=mc(b,!0)):S=[]:zf(b)||co(b)?(S=y,co(y)?S=wu(y):jn(y)&&!ao(y)||(S=_c(b))):k=!1}k&&(c.set(b,S),a(S,b,r,i,c),c.delete(b)),wc(t,n,S)}},Ff=function t(e,n,r,a,i){e!==n&&df(n,function(c,y){if(i||(i=new wo),jn(c))Bf(e,n,y,r,t,a,i);else{var b=a?a(bi(e,y),c,y+"",e,n,i):void 0;b===void 0&&(b=c),wc(e,y,b)}},Ea)},xu=yf(function(t,e,n){Ff(t,e,n)}),Uf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Eu=function(t){var e=xn(Uf);return t&&(e=xu(e,t)),e};o(81),o(163);function Hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ec=function(){function t(){var r,a,i;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(y){y=y.trim(),c._events[y]||(c._events[y]=[]),c._events[y].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var y=i._events[c]||[],b=i._events["*"]||[],x=function(S){for(var k=S.length,I=0;I<k;I++)if(S[I]){var X=S[I],Z=X.callback;X.once&&(S.splice(I,1),S.length===0&&delete i._events[c],k--,I--),Z.apply(i,[a])}};x(y),x(b)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var y=i._events[c]||[],b=y.length,x=0;x<b;x++)y[x].callback===a&&(y.splice(x,1),b--,x--);y.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Hs(e.prototype,n),t}();function Do(t,e){return e*Math.round(t/e)||t}function ja(t,e){return t%e}function Sc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xs,Pc=function(t,e,n){var r=Sc(t,2),a=r[0],i=r[1],c=Sc(e,2),y=c[0],b=c[1],x=Sc(n,2),S=x[0],k=x[1];return a>y&&a<S&&i>b&&i<k},No=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},Gf=(o(82),o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function Hf(){if(!Xs&&!(Xs=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xs(Gf)}for(var Qd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xf=function(t){return typeof t=="string"&&Qd.test(t)},En=[],Su=0;Su<256;++Su)En.push((Su+256).toString(16).substr(1));var Ys=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase();if(!Xf(n))throw TypeError("Stringified UUID is invalid");return n},ju=function(t,e,n){var r=(t=t||{}).random||(t.rng||Hf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return Ys(r)},ho=function(){return ju()},Pa=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+ju(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+ju(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},wt=(o(105),o(127),function(t,e,n){var r=t.x,a=t.y;return(r-e.x)*(r-n.x)<=0&&(a-e.y)*(a-n.y)<=0});function Aa(t){return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function Ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ac(Object(n),!0).forEach(function(r){Vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var De,ar,Ws,Ks,Yf,Co,pr,Tc,Mc,Vf,Ta,$s,Zs,qs,Js,Wf,kc,Qs,Ma,Dc,el,Nc=function(t){return t.anchors},Ui=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if($f(t,i)){var c=i.getTargetAnchor(t);if(c){var y={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!Kf(i,n.node,e)||(n=y)}}}return n},Kf=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Wn=function(t,e,n,r){return Math.hypot(t-n,e-r)},Tr=function(t,e){var n=!1,r=Gr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},$f=function(t,e){var n=!1,r=Gr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Gr=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},Zf=function(t,e,n){var r,a=function(c){var y=c,b=y.x,x=y.y,S=y.width,k=y.height,I=y.radius;return[{x:b-S/2+I,y:x-k/2+I,r:I},{x:b+S/2-I,y:x-k/2+I,r:I},{x:b-S/2+I,y:x+k/2-I,r:I},{x:b+S/2-I,y:x+k/2-I,r:I}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var y=Wn(t.x,t.y,c.x,c.y);y<i&&(i=y,r=c)}),tl(t,e,r)},tl=function(t,e,n){var r,a=n,i=a.x,c=a.y,y=a.r;if(e===vn.HORIZONTAL){var b=i-Math.sqrt(y*y-(t.y-c)*(t.y-c)),x=i+Math.sqrt(y*y-(t.y-c)*(t.y-c));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===vn.VERTICAL){var S=c-Math.sqrt(y*y-(t.x-i)*(t.x-i)),k=c+Math.sqrt(y*y-(t.x-i)*(t.x-i)),I=Math.abs(S-t.y)<Math.abs(k-t.y)?S:k;r={x:t.x,y:I}}return r},nl=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,y=n.y+n.height/2-n.radius,b=n.x,x=n.y,S=n.width,k=n.height;return t.y===x+k/2||t.y===x-k/2?r=t.x>a&&t.x<i:t.x!==b+S/2&&t.x!==b-S/2||(r=t.y>c&&t.y<y),r},rl=function(t,e,n){var r,a=n,i=a.x,c=a.y,y=a.rx,b=a.ry;if(e===vn.HORIZONTAL){var x=i-Math.sqrt(y*y-(t.y-c)*(t.y-c)*y*y/(b*b)),S=i+Math.sqrt(y*y-(t.y-c)*(t.y-c)*y*y/(b*b));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===vn.VERTICAL){var k=c-Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(y*y)),I=c+Math.sqrt(b*b-(t.x-i)*(t.x-i)*b*b/(y*y)),X=Math.abs(k-t.y)<Math.abs(I-t.y)?k:I;r={x:t.x,y:X}}return r},ol=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],y=0;y<a.length;y++)c.push({start:a[y],end:a[(y+1)%a.length]});return c.forEach(function(b){var x=b.start,S=b.end,k=x,I=S;x.x>S.x&&(k=S,I=x);var X={x:t.x,y:t.y};if(k.x===I.x&&e===vn.HORIZONTAL&&(X={x:k.x,y:t.y}),k.y===I.y&&e===vn.VERTICAL&&(X={x:t.x,y:k.y}),k.x!==I.x&&k.y!==I.y){var Z=(I.y-k.y)/(I.x-k.x),re=(k.x*I.y-I.x*k.y)/(k.x-I.x);e===vn.HORIZONTAL?X={x:(t.y-re)/Z,y:t.y}:e===vn.VERTICAL&&(X={x:t.x,y:Z*t.x+re})}if(wt(X,x,S)){var ye=Wn(X.x,X.y,t.x,t.y);ye<i&&(i=ye,r=X)}}),r},il=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},qf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(y){var b=document.createElement("div");b.textContent=y,i.appendChild(b)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},al=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Tl(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Pu=function(t){return Aa(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},mn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},eh=1e3,Jf=999,ul=function(){return++eh};function Cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cc(Object(n),!0).forEach(function(r){kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var cl=(De=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),kr(this,"id",""),Kn(this,"type",ar,this),Kn(this,"sourceNodeId",Ws,this),Kn(this,"targetNodeId",Ks,this),Kn(this,"startPoint",Yf,this),Kn(this,"endPoint",Co,this),Kn(this,"text",pr,this),Kn(this,"properties",Tc,this),Kn(this,"points",Mc,this),Kn(this,"pointsList",Vf,this),Kn(this,"isSelected",Ta,this),Kn(this,"isHovered",$s,this),Kn(this,"isHitable",Zs,this),Kn(this,"draggable",qs,this),Kn(this,"visible",Js,this),kr(this,"virtual",!1),Kn(this,"isAnimation",Wf,this),Kn(this,"isShowAdjustPoint",kc,this),kr(this,"graphModel",void 0),Kn(this,"zIndex",Qs,this),kr(this,"BaseType",Gn.EDGE),kr(this,"modelType",Yt.EDGE),Kn(this,"state",Ma,this),kr(this,"additionStateData",void 0),kr(this,"sourceAnchorId",""),kr(this,"targetAnchorId",""),kr(this,"menu",void 0),kr(this,"customTextPosition",!1),Kn(this,"style",Dc,this),Kn(this,"arrowConfig",el,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||ho()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var y=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=y,er(this,hp(r)),this.graphModel.overlapMode===gn.INCREASE&&(this.zIndex=r.zIndex||ul()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Mr(Mr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Mr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return xn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return xn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return Mr(Mr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var i,c;return Nc(r).forEach(function(y){var b=Dl(y,a);(c===void 0||b<c)&&(c=b,i=y)}),i}},{key:"getEndAnchor",value:function(r){var a,i,c=this;return Nc(r).forEach(function(y){var b=Dl(y,c.startPoint);(i===void 0||b<i)&&(i=b,a=y)}),a}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,y={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return c&&(y.text={x:a,y:i,value:c}),this.graphModel.overlapMode===gn.INCREASE&&(y.zIndex=this.zIndex),y}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=mn(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Mr(Mr({},Object(d.I)(this.properties)),mn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=Mr(Mr({},this.style),{},kr({},r,mn(a)))}},{key:"setStyles",value:function(r){this.style=Mr(Mr({},this.style),mn(r))}},{key:"updateStyles",value:function(r){this.style=Mr({},mn(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,y=i.y,b=i.value,x=i.draggable,S=i.editable;this.text={value:b,draggable:x,x:c+r,y:y+a,editable:S}}}},{key:"setText",value:function(r){r&&er(this.text,r)}},{key:"updateText",value:function(r){this.text=Mr(Mr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){er(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&th(e.prototype,n),t}(),ar=St(De.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ws=St(De.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ks=St(De.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yf=St(De.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Co=St(De.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pr=St(De.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tc=St(De.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mc=St(De.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vf=St(De.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ta=St(De.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$s=St(De.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zs=St(De.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qs=St(De.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Js=St(De.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wf=St(De.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kc=St(De.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qs=St(De.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ma=St(De.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dc=St(De.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),el=St(De.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),St(De.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(De.prototype,"sourceNode"),De.prototype),St(De.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(De.prototype,"targetNode"),De.prototype),St(De.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(De.prototype,"textPosition"),De.prototype),St(De.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperty"),De.prototype),St(De.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteProperty"),De.prototype),St(De.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperties"),De.prototype),St(De.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"changeEdgeId"),De.prototype),St(De.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyle"),De.prototype),St(De.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyles"),De.prototype),St(De.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStyles"),De.prototype),St(De.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"formatText"),De.prototype),St(De.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"resetTextPosition"),De.prototype),St(De.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"moveText"),De.prototype),St(De.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setText"),De.prototype),St(De.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateText"),De.prototype),St(De.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setAnchors"),De.prototype),St(De.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setSelected"),De.prototype),St(De.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setHovered"),De.prototype),St(De.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setHitable"),De.prototype),St(De.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"openEdgeAnimation"),De.prototype),St(De.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"closeEdgeAnimation"),De.prototype),St(De.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementState"),De.prototype),St(De.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStartPoint"),De.prototype),St(De.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"moveStartPoint"),De.prototype),St(De.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateEndPoint"),De.prototype),St(De.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"moveEndPoint"),De.prototype),St(De.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"setZIndex"),De.prototype),St(De.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"initPoints"),De.prototype),St(De.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAttributes"),De.prototype),St(De.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustStart"),De.prototype),St(De.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustEnd"),De.prototype),St(De.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAfterAdjustStartAndEnd"),De.prototype),De),sl=cl;function ll(t){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function Qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qf(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(){return ka=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=rh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ka.apply(this,arguments)}function rh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Gi(t))!==null;);return t}function fl(t,e){return fl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fl(t,e)}function oh(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gi(t);if(e){var a=Gi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ih(this,n)}}function ih(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pl(t)}function pl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gi(t){return Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gi(t)}function np(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zt,rp,Hi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&fl(i,c)})(a,t);var e,n,r=oh(a);function a(){var i;nh(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return np(pl(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return ep(ep({},ka(Gi(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&tp(e.prototype,n),a}(sl);function dl(t){return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function ah(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Au(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Au(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Au(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(){return Tu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=uh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Tu.apply(this,arguments)}function uh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=qo(t))!==null;);return t}function Da(t,e){return Da=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Da(t,e)}function Rc(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qo(t);if(e){var a=qo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ch(this,n)}}function ch(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xi(t)}function Xi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qo(t){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(t)}function gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ic=(zt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Da(i,c)})(a,t);var e,n,r=Rc(a);function a(){var i;op(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return gl(Xi(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.POLYLINE_EDGE),gl(Xi(i),"draggingPointList",void 0),vl(Xi(i),"dbClickPosition",rp,Xi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Tu(qo(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return yl(yl({},Tu(qo(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var y=this.dbClickPosition;return{x:y.x,y:y.y}}var b=Oi(this.points),x=ah(fp(b),2),S=x[0],k=x[1];return{x:(S.x+k.x)/2,y:(S.y+k.y)/2}}},{key:"getAfterAnchor",value:function(i,c,y){var b,x;return y.forEach(function(S){var k;i===vn.HORIZONTAL?k=Math.abs(c.y-S.y):i===vn.VERTICAL&&(k=Math.abs(c.x-S.x)),(!x||x>k)&&(x=k,b=S)}),b}},{key:"getCrossPoint",value:function(i,c,y){var b;return i===vn.HORIZONTAL?b={x:y.x,y:c.y}:i===vn.VERTICAL&&(b={x:c.x,y:y.y}),b}},{key:"removeCrossPoints",value:function(i,c,y){var b=y.map(function(be){return be});if(i===1){var x=b[i],S=b[c],k=b[i-1];if(jl(k,x,this.sourceNode)){if(Pl(x,S,this.sourceNode)){var I=$n(x,S,this.sourceNode);I&&(b[i]=I,b.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(be){(be.x===k.x&&be.x===x.x||be.y===k.y&&be.y===x.y)&&Wn(be.x,be.y,x.x,x.y)<Wn(k.x,k.y,x.x,x.y)&&(b[i-1]=be)})}if(c===y.length-2){var X=b[i],Z=b[c],re=b[c+1];if(jl(Z,re,this.targetNode)){if(Pl(X,Z,this.targetNode)){var ye=$n(X,Z,this.targetNode);ye&&(b[c]=ye,b.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(be){(be.x===re.x&&be.x===Z.x||be.y===re.y&&be.y===Z.y)&&Wn(be.x,be.y,Z.x,Z.y)<Wn(re.x,re.y,Z.x,Z.y)&&(b[c+1]=be)})}return b}},{key:"getDraggingPoints",value:function(i,c,y,b,x){var S=x.map(function(X){return X}),k=this.getAfterAnchor(i,y,b),I=this.getCrossPoint(i,y,k);return c==="start"?(S.unshift(I),S.unshift(k)):(S.push(I),S.push(k)),S}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Te){return Te}),y=i[0],b=i[1],x=i[c.length-2],S=i[c.length-1],k=this.sourceNode,I=this.targetNode,X=k.modelType,Z=I.modelType,re=or(y,b),ye=c[0];switch(X){case Yt.RECT_NODE:k.radius!==0&&(nl(y,k)||(ye=Zf(y,re,k)));break;case Yt.CIRCLE_NODE:ye=tl(y,re,k);break;case Yt.ELLIPSE_NODE:ye=rl(y,re,k);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:ye=ol(y,re,k)}c[0]=ye;var be=or(x,S),xe=c[c.length-1];switch(Z){case Yt.RECT_NODE:I.radius!==0&&(nl(S,I)||(xe=Zf(S,be,I)));break;case Yt.CIRCLE_NODE:xe=tl(S,be,I);break;case Yt.ELLIPSE_NODE:xe=rl(S,be,I);break;case Yt.DIAMOND_NODE:case Yt.POLYGON_NODE:xe=ol(S,be,I)}return c[c.length-1]=xe,c}},{key:"getData",value:function(){var i=Tu(qo(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(y){return{x:y.x,y:y.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Cu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var y=i.start,b=i.end,x=i.startIndex,S=i.endIndex,k=i.direction,I=this.pointsList,X=I;return k===vn.HORIZONTAL?(I[x]={x:y.x,y:y.y+c.y},I[S]={x:b.x,y:b.y+c.y},X=this.pointsList.map(function(Z){return Z})):k===vn.VERTICAL&&(I[x]={x:y.x+c.x,y:y.y},I[S]={x:b.x+c.x,y:b.y},X=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(X),this.draggingPointList=X,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:k}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var y=i.start,b=i.end,x=i.startIndex,S=i.endIndex,k=i.direction,I=this.pointsList;if(k===vn.HORIZONTAL){I[x]={x:y.x,y:y.y+c.y},I[S]={x:b.x,y:b.y+c.y};var X=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(X=this.removeCrossPoints(x,S,X)),x===0){var Z={x:y.x,y:y.y+c.y};if(!Tr(Z,this.sourceNode)){var re=this.sourceNode.anchors;X=this.getDraggingPoints(k,"start",Z,re,X)}}if(S===this.pointsList.length-1){var ye={x:b.x,y:b.y+c.y};if(!Tr(ye,this.targetNode)){var be=this.targetNode.anchors;X=this.getDraggingPoints(k,"end",ye,be,X)}}this.updatePointsAfterDrag(X),this.draggingPointList=X}else if(k===vn.VERTICAL){I[x]={x:y.x+c.x,y:y.y},I[S]={x:b.x+c.x,y:b.y};var xe=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Te={x:y.x+c.x,y:y.y};if(!Tr(Te,this.sourceNode)){var $e=this.sourceNode.anchors;xe=this.getDraggingPoints(k,"start",Te,$e,xe)}}if(S===this.pointsList.length-1){var Je={x:b.x+c.x,y:b.y};if(!Tr(Je,this.targetNode)){var mt=this.targetNode.anchors;xe=this.getDraggingPoints(k,"end",Je,mt,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:k}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Nu(Oi(this.points));this.pointsList=i.map(function(b){return b}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var y=i[i.length-1];this.endPoint=Object.assign({},y)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(y){return"".concat(y.x,",").concat(y.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,y=i.endPoint,b=i.sourceNode,x=i.targetNode,S=Cu({x:c.x,y:c.y},{x:y.x,y:y.y},b,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&ip(e.prototype,n),a}(sl),rp=Sn(zt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn(zt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"initPoints"),zt.prototype),Sn(zt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePoints"),zt.prototype),Sn(zt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateStartPoint"),zt.prototype),Sn(zt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveStartPoint"),zt.prototype),Sn(zt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateEndPoint"),zt.prototype),Sn(zt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveEndPoint"),zt.prototype),Sn(zt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendStart"),zt.prototype),Sn(zt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendSimple"),zt.prototype),Sn(zt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppend"),zt.prototype),Sn(zt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendEnd"),zt.prototype),Sn(zt.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePointsAfterDrag"),zt.prototype),Sn(zt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustStart"),zt.prototype),Sn(zt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustEnd"),zt.prototype),Sn(zt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAfterAdjustStartAndEnd"),zt.prototype),zt),Mu=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},y=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(y+b),c.leftY=e.y-x*Math.cos(y+b),c.rightX=e.x-x*Math.sin(y-b),c.rightY=e.y+x*Math.cos(y-b)):(c.leftX=e.x-x*Math.sin(y+b),c.leftY=e.y+x*Math.cos(y+b),c.rightX=e.x+x*Math.sin(y-b),c.rightY=e.y-x*Math.cos(y-b)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(y-b),c.leftY=n.y-x*Math.cos(y-b),c.rightX=n.x-x*Math.sin(y+b),c.rightY=n.y+x*Math.cos(y+b)):(c.leftX=n.x-x*Math.sin(y-b),c.leftY=n.y+x*Math.cos(y-b),c.rightX=n.x+x*Math.sin(y+b),c.rightY=n.y-x*Math.cos(y+b))),c},Yi={x:1,y:0,z:0};function Bt(t,e,n,r,a){for(var i=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,y=2,b=r.x,x=r.y,S=r;c<a&&y<50;){var k=S=i(1-y/100),I=k.x,X=k.y;c=Wn(b,x,I,X),y++}return S}function ap(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Or(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=Yi,n=t),a=Math.acos(function(i,c){var y=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(b,x,S){return b+x*y[S]})}(ap(e),ap(n))),r>=0?a:-a;var e,n,r,a}function In(t){return t*(180/Math.PI)}function Jo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jo(Object(n),!0).forEach(function(r){bl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qo(t){return function(e){if(Array.isArray(e))return Tn(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||An(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zc(t){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Vi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||An(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(t,e){if(t){if(typeof t=="string")return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(t,e):void 0}}function Tn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var up=function(t,e){var n;switch(t.type){case"line":default:n=new Hi(t,e);break;case"polyline":n=new Ic(t,e)}return n},ml=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},ei=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},_l=function(t,e){var n=[t,{x:t.x,y:e.y},e];return ei(n)},Na=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},ku=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?vn.HORIZONTAL:vn.VERTICAL},ur=function(t,e,n){return ku(n,e)===vn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},_i=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},Ca=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),y=Math.max.apply(Math,r),b=i-a,x=y-c;return e&&(b+=e,x+=e),{centerX:(a+i)/2,centerY:(c+y)/2,maxX:i,maxY:y,minX:a,minY:c,x:(a+i)/2,y:(c+y)/2,height:x,width:b}},Du=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Ra=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ro=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Gt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Ol=function(t,e){return Ro(t,e.x).concat(Gt(t,e.y))},wr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},wl=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},cn=function(t,e,n,r,a){return wr(t,e)+wr(t,n)+wl(t,[e,n,r,a])},cp=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},xl=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ti=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,y=r.y-n.y,b=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*y),x=(c*(t.y-n.y)-y*(t.x-n.x))/(-c*i+a*y);return b>=0&&b<=1&&x>=0&&x<=1},El=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Vi(Du(n),4),a=r[0],i=r[1],c=r[2],y=r[3];return ti(t,e,a,i)||ti(t,e,a,y)||ti(t,e,i,c)||ti(t,e,c,y)},sp=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||El(i,e,n)||El(i,e,r)||a.push(i))}),ei(a)},lp=function(t,e,n,r,a,i,c){var y=[],b=[e],x={},S={},k={};S[e.id]=0,k[e.id]=cn(e,n,e);var I={};t.forEach(function(re){I[re.id]=re});for(var X=function(){var re=void 0,ye=1/0;if(b.forEach(function(xe){k[xe.id]<ye&&(ye=k[xe.id],re=xe)}),re===n){var be=[];return cp(be,I,x,n.id),{v:be}}xl(b,re),y.push(re),sp(t,re,r,a).forEach(function(xe){if(y.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Te=k[re.id]+wr(re,xe);S[xe.id]&&Te>=S[xe.id]||(x[xe.id]=re.id,S[xe.id]=Te,k[xe.id]=S[xe.id]+cn(xe,n,e,i,c))}})};b.length;){var Z=X();if(zc(Z)==="object")return Z.v}return[e,n]},Sl=function(t){return Gr(t)},Nu=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Cu=function(t,e,n,r,a){var i=Sl(n),c=Sl(r),y=Na(i,a),b=Na(c,a),x=ur(y,i,t),S=ur(b,c,e);if(ml(y,b)){var k=Al(t,e,x,S);return[t,x].concat(Qo(k),[S,e])}var I=Ca([x,S]),X=_i(y,I),Z=_i(b,I),re=[];re=(re=re.concat(Du(X))).concat(Du(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[I,X,Z].forEach(function(xe){re=re.concat(Ol(xe,ye).filter(function(Te){return Ra(Te,y)&&Ra(Te,b)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(xe){Ra(xe,y)&&Ra(xe,b)&&re.push(xe)}),re.unshift(x),re.push(S),re=ei(re);var be=lp(re,x,S,i,c,t,e);return be.unshift(t),be.push(e),be.length>2&&(be=Nu(be)),ei(be)},fp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=Wn(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],y=t[i+1],b=Wn(c.x,c.y,y.x,y.y);b>a&&(a=b,n=c,r=y)}e=[n,r]}return e},jl=function(t,e,n){var r=Tr(t,n),a=Tr(e,n);return r&&a},Pl=function(t,e,n){var r=Tr(t,n),a=Tr(e,n);return!(r&&a)&&(r||a)},$n=function(t,e,n){for(var r,a,i=Gr(n),c=Du(i),y=0;y<c.length;y++)ti(t,e,c[y],c[(y+1)%c.length])&&(a=[c[y],c[(y+1)%c.length]]);return a&&(r=function(b,x,S,k){var I=(x.y-b.y)*(k.x-S.x)-(b.x-x.x)*(S.y-k.y);if(I===0)return!1;var X=((x.x-b.x)*(k.x-S.x)*(S.y-b.y)+(x.y-b.y)*(k.x-S.x)*b.x-(k.y-S.y)*(x.x-b.x)*S.x)/I,Z=-((x.y-b.y)*(k.y-S.y)*(S.x-b.x)+(x.x-b.x)*(k.y-S.y)*b.y-(k.x-S.x)*(x.y-b.y)*S.y)/I;return(X-b.x)*(X-x.x)<=0&&(Z-b.y)*(Z-x.y)<=0&&(X-S.x)*(X-k.x)<=0&&(Z-S.y)*(Z-k.y)<=0&&{x:X,y:Z}}(t,e,a[0],a[1])),r},or=function(t,e){var n;return t.x===e.x?n=vn.VERTICAL:t.y===e.y&&(n=vn.HORIZONTAL),n},Oi=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=Vi(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},Al=function(t,e,n,r){var a=[];if(or(t,n)===or(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=wt(i,t,n),y=wt(i,e,r);if(c||y)i={x:r.x,y:n.y};else{var b=pp(i,t,n),x=pp(i,e,r);b&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},pp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Tl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Bc=null,dp=function(t,e){Bc||(Bc=document.createElement("canvas"));var n=Bc.getContext("2d");return n.font=e,n.measureText(t).width},Ml=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Mu(Lc(Lc({},a),{},{type:"start"})),c=Mu(Lc(Lc({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},wi=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=Gr(r),y=Gr(a),b=Na(c,i),x=Na(y,i);return{sNext:ur(b,c,e),ePre:ur(x,y,n)}},Fc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ru(e[0]),Ru(e[1]),Ru(e[2]),Ru(e[3])]},Ru=function(t){var e=Vi(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Uc=function(t,e){var n=Vi(t,4);return[Bt(n[0],n[1],n[2],n[3],e),t[3]]},kl=function(t,e){for(var n,r=t.x,a=t.y,i=Oi(e),c=Number.MAX_SAFE_INTEGER,y=[],b=0;b<i.length;b++)y.push({start:i[b],end:i[(b+1)%i.length]});if(y.forEach(function(I){var X=I.start,Z=I.end;if(X.x===Z.x){var re={x:X.x,y:a};if(wt(re,X,Z)){var ye=Math.abs(X.x-r);ye<c&&(c=ye,n=re)}}else if(X.y===Z.y){var be={x:r,y:X.y};if(wt(be,X,Z)){var xe=Math.abs(X.y-a);xe<c&&(c=xe,n=be)}}}),!n){var x=y[0],S=x.start,k=x.end;n={x:S.x+(k.x-S.x)/2,y:S.y+(k.y-S.y)/2}}return n},hp=function(t){return Wo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Dl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function yp(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(206);var Ia=function(){};function sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yo=window.document;function vp(t){var e=t.onDragStart,n=e===void 0?Ia:e,r=t.onDragging,a=r===void 0?Ia:r,i=t.onDragEnd,c=i===void 0?Ia:i,y=t.step,b=y===void 0?1:y,x=t.isStopPropagation,S=x===void 0||x,k=!1,I=!1,X=0,Z=0,re=0,ye=0;function be(Te){if(S&&Te.stopPropagation(),I&&(k=!0,re+=Te.clientX-X,ye+=Te.clientY-Z,X=Te.clientX,Z=Te.clientY,Math.abs(re)>b||Math.abs(ye)>b)){var $e=re%b,Je=ye%b,mt=re-$e,qe=ye-Je;re=$e,ye=Je,a({deltaX:mt,deltaY:qe,event:Te})}}function xe(Te){if(S&&Te.stopPropagation(),I=!1,yo.removeEventListener("mousemove",be,!1),yo.removeEventListener("mouseup",xe,!1),k)return k=!1,c({event:Te})}return function(Te){if(Te.button===0)return S&&Te.stopPropagation(),I=!0,X=Te.clientX,Z=Te.clientY,yo.addEventListener("mousemove",be,!1),yo.addEventListener("mouseup",xe,!1),n({event:Te})}}var Io=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Ia:i,y=r.onDragging,b=y===void 0?Ia:y,x=r.onDragEnd,S=x===void 0?Ia:x,k=r.eventType,I=k===void 0?"":k,X=r.eventCenter,Z=X===void 0?null:X,re=r.step,ye=re===void 0?1:re,be=r.isStopPropagation,xe=be===void 0||be,Te=r.model,$e=Te===void 0?null:Te,Je=r.data,mt=Je===void 0?null:Je;(function(qe,_t){if(!(qe instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"onDragStart",void 0),Ln(this,"onDragging",void 0),Ln(this,"onDragEnd",void 0),Ln(this,"step",void 0),Ln(this,"isStopPropagation",void 0),Ln(this,"isDragging",!1),Ln(this,"isStartDragging",!1),Ln(this,"startX",0),Ln(this,"startY",0),Ln(this,"sumDeltaX",0),Ln(this,"sumDeltaY",0),Ln(this,"eventType",void 0),Ln(this,"eventCenter",void 0),Ln(this,"model",void 0),Ln(this,"data",void 0),Ln(this,"startTime",void 0),Ln(this,"handleMouseDown",function(qe){var _t,tt;if(qe.button===0){a.isStopPropagation&&qe.stopPropagation(),a.isStartDragging=!0,a.startX=qe.clientX,a.startY=qe.clientY,yo.addEventListener("mousemove",a.handleMouseMove,!1),yo.addEventListener("mouseup",a.handleMouseUp,!1);var qt=(_t=a.model)===null||_t===void 0?void 0:_t.getData();(tt=a.eventCenter)===null||tt===void 0||tt.emit(ft["".concat(a.eventType,"_MOUSEDOWN")],{e:qe,data:a.data||qt}),a.startTime=new Date().getTime()}}),Ln(this,"handleMouseMove",function(qe){if(a.isStopPropagation&&qe.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=qe.clientX-a.startX,a.sumDeltaY+=qe.clientY-a.startY,a.startX=qe.clientX,a.startY=qe.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var _t,tt=a.sumDeltaX%a.step,qt=a.sumDeltaY%a.step,en=a.sumDeltaX-tt,Ft=a.sumDeltaY-qt;a.sumDeltaX=tt,a.sumDeltaY=qt;var on,Hn=(_t=a.model)===null||_t===void 0?void 0:_t.getData();a.isDragging||((on=a.eventCenter)===null||on===void 0||on.emit(ft["".concat(a.eventType,"_DRAGSTART")],{e:qe,data:a.data||Hn}),a.onDragStart({event:qe})),a.isDragging=!0,Promise.resolve().then(function(){var Xn,Vr;a.onDragging({deltaX:en,deltaY:Ft,event:qe}),(Xn=a.eventCenter)===null||Xn===void 0||Xn.emit(ft["".concat(a.eventType,"_MOUSEMOVE")],{e:qe,data:a.data||Hn}),(Vr=a.eventCenter)===null||Vr===void 0||Vr.emit(ft["".concat(a.eventType,"_DRAG")],{e:qe,data:a.data||Hn})})}}),Ln(this,"handleMouseUp",function(qe){a.isStartDragging=!1,a.isStopPropagation&&qe.stopPropagation(),Promise.resolve().then(function(){var _t,tt,qt;yo.removeEventListener("mousemove",a.handleMouseMove,!1),yo.removeEventListener("mouseup",a.handleMouseUp,!1);var en=(_t=a.model)===null||_t===void 0?void 0:_t.getData();(tt=a.eventCenter)===null||tt===void 0||tt.emit(ft["".concat(a.eventType,"_MOUSEUP")],{e:qe,data:a.data||en}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:qe}),(qt=a.eventCenter)===null||qt===void 0||qt.emit(ft["".concat(a.eventType,"_DROP")],{e:qe,data:a.data||en}))})}),Ln(this,"cancelDrag",function(){yo.removeEventListener("mousemove",a.handleMouseMove,!1),yo.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=b,this.onDragEnd=S,this.step=ye,this.isStopPropagation=xe,this.eventType=I,this.eventCenter=Z,this.model=$e,this.data=mt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&sh(e.prototype,n),t}();function Iu(t){return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Nl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dr(t,e,n){return e&&gp(t.prototype,e),n&&gp(t,n),t}function Lu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bu(t,e)}function Cl(t){var e=bp();return function(){var n,r=La(t);if(e){var a=La(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lh(this,n)}}function lh(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(t)}function ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zu(t){var e=typeof Map=="function"?new Map:void 0;return zu=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Rl(n,arguments,La(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Bu(a,n)},zu(t)}function Rl(t,e,n){return Rl=bp()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var y=new(Function.bind.apply(r,c));return i&&Bu(y,i.prototype),y},Rl.apply(null,arguments)}function bp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Bu(t,e){return Bu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bu(t,e)}function La(t){return La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},La(t)}function Il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mp(t,e){return t instanceof Zn&&e instanceof Zn}var Gc=function(t){Lu(n,t);var e=Cl(n);function n(r,a,i){var c;return Nl(this,n),Il(ni(c=e.call(this,3)),"x",void 0),Il(ni(c),"y",void 0),Il(ni(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(ni(c),n.prototype),c}return dr(n,[{key:"add",value:function(r){if(mp(this,r))return new Zn(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new Hc((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(mp(this,r))return new Zn(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new Zn(this.x-r.x,this.y-r.y):new Hc((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(zu(Array)),Zn=function(t){Lu(n,t);var e=Cl(n);function n(r,a,i){var c;return Nl(this,n),c=e.call(this,r,a,i!=null?i:0),Object.setPrototypeOf(ni(c),n.prototype),c}return dr(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,y){return i+c*a[y]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(Gc),Hc=function(t){Lu(n,t);var e=Cl(n);function n(r,a){var i;return Nl(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(ni(i),n.prototype),i}return dr(n,[{key:"toString",value:function(){return"Point"}}]),n}(Gc);o(65),o(216);function Ll(t){return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function zl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||Xc(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _p(t){return function(e){if(Array.isArray(e))return Bl(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Xc(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xc(t,e){if(t){if(typeof t=="string")return Bl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(t,e):void 0}}function Bl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Op(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&Op(t.prototype,e),n&&Op(t,n),t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}function m(t){var e=le();return function(){var n,r=Re(t);if(e){var a=Re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}function N(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){var e=typeof Map=="function"?new Map:void 0;return U=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return oe(n,arguments,Re(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_e(a,n)},U(t)}function oe(t,e,n){return oe=le()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var y=new(Function.bind.apply(r,c));return i&&_e(y,i.prototype),y},oe.apply(null,arguments)}function le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _e(t,e){return _e=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_e(t,e)}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(t)}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q,st,pt,jt,ze,Xe,Tt,at,Mt,Nt,Kt,bt,Pt,Dn=function(t){f(n,t);var e=m(n);function n(){var r;Yc(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return ke(N(r=e.call(this,i.length)),"rows",void 0),ke(N(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(y,b){r[b]=y}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(N(r),n.prototype),r}return u(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return _p(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return oe(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),y=function(x){var S=r.getColumn(x);a[i][x]=c.reduce(function(k,I,X){return k+I*S[X]},0)},b=0;b<r.columns;b++)y(b);return oe(n,_p(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new Hc(r[0],r[1])})}},{key:"toString",value:function(){var r=zl(this[0],2),a=r[0],i=r[1],c=zl(this[1],2),y=c[0],b=c[1],x=zl(this[2],2),S=x[0],k=x[1];return"matrix(".concat(a," ").concat(i," ").concat(y," ").concat(b," ").concat(S," ").concat(k,")")}},{key:"translate",value:function(r,a){return this.cross(new zn(r,a))}},{key:"rotate",value:function(r){return this.cross(new Dr(r))}},{key:"scale",value:function(r,a){return this.cross(new vo(r,a))}}]),n}(U(Array)),Dr=function(t){f(n,t);var e=m(n);function n(r){var a;return Yc(this,n),a=e.call(this,new Zn(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new Zn(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new Zn(0,0,1)),Object.setPrototypeOf(N(a),n.prototype),a}return u(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Dn),vo=function(t){f(n,t);var e=m(n);function n(r,a){var i;return Yc(this,n),ke(N(i=e.call(this,new Zn(r,0,0),new Zn(0,a,0),new Zn(0,0,1))),"sx",void 0),ke(N(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(N(i),n.prototype),i}return u(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Dn),zn=function(t){f(n,t);var e=m(n);function n(r,a){var i;return Yc(this,n),ke(N(i=e.call(this,new Zn(1,0,0),new Zn(0,1,0),new Zn(r,a,1))),"tx",void 0),ke(N(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(N(i),n.prototype),i}return u(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Dn),Lo={node:!1,edge:!1},xi={node:!0,edge:!0};function za(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?za(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zo(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||Fl(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ro(t){return function(e){if(Array.isArray(e))return Vc(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Fl(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fl(t,e){if(t){if(typeof t=="string")return Vc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(t,e):void 0}}function Vc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ki(t){return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function Nr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Fu,Uu=200,ag=(Q=function(){function t(r){(function(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")})(this,t),Hr(this,"rootEl",void 0),Nr(this,"width",st,this),Nr(this,"height",pt,this),Hr(this,"theme",void 0),Hr(this,"eventCenter",void 0),Hr(this,"modelMap",new Map),Hr(this,"topElement",void 0),Hr(this,"animation",void 0),Hr(this,"idGenerator",void 0),Hr(this,"edgeGenerator",void 0),Hr(this,"nodeMoveRules",[]),Nr(this,"edgeType",jt,this),Nr(this,"nodes",ze,this),Nr(this,"edges",Xe,this),Nr(this,"overlapMode",Tt,this),Nr(this,"background",at,this),Nr(this,"transformModel",Mt,this),Nr(this,"editConfigModel",Nt,this),Nr(this,"gridSize",Kt,this),Nr(this,"partial",bt,this),Nr(this,"fakerNode",Pt,this);var a,i=r.container,c=r.background,y=c===void 0?{}:c,b=r.grid,x=r.idGenerator,S=r.edgeGenerator,k=r.animation;this.background=y,Ki(b)==="object"&&(this.gridSize=b.size),this.rootEl=i,this.editConfigModel=new Ms(r),this.eventCenter=new Ec,this.transformModel=new Sf(this.eventCenter,r),this.theme=Eu(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=k)&&typeof a!="boolean"?xu(xn(Lo),a):xn(a===!0?xi:Lo),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.edgeGenerator=yp(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=ho()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(ro(this.nodes),ro(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var a=[],i=[-200,-200],c=[this.width+Uu,this.height+Uu],y=0;y<r.length;y++){var b=r[y];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,i,c,!1,!1))&&a.push(b)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===un.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===un.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],y=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(I){return x.push(I)}),this.edges.forEach(function(I){return x.push(I)});for(var S=0;S<x.length;S++){var k=x[S];y&&!k.visible||!this.isElementInArea(k,r,a,i,c)||b.push(k)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),y={x:a-c.left,y:i-c.top},b=zo(this.transformModel.HtmlPointToCanvasPoint([y.x,y.y]),2);return{domOverlayPosition:y,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],y=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Gn.NODE){for(var b=Gr(r=r),x=b.minX,S=b.minY,k=b.maxX,I=b.maxY,X=[{x,y:S},{x:k,y:S},{x:k,y:I},{x,y:I}],Z=y,re=0;re<X.length;re++){var ye=X[re],be=ye.x,xe=ye.y,Te=this.transformModel.CanvasPointToHtmlPoint([be,xe]),$e=zo(Te,2);if(be=$e[0],xe=$e[1],Pc([be,xe],a,i)!==y){Z=!y;break}}return Z}if(r.BaseType===Gn.EDGE){var Je=r=r,mt=Je.startPoint,qe=Je.endPoint,_t=this.transformModel.CanvasPointToHtmlPoint([mt.x,mt.y]),tt=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),qt=Pc(_t,a,i),en=Pc(tt,a,i);return c?qt&&en:qt||en}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ac(r.nodes,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点。"));var y=i.x,b=i.y;return y&&b&&(i.x=Do(y,a.gridSize),i.y=Do(b,a.gridSize),Ki(i.text)==="object"&&(i.text.x-=ja(y,a.gridSize),i.text.y-=ja(b,a.gridSize))),new c(i,a)}):this.nodes=[],r.edges?this.edges=ac(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var y=!1,b=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){y=!0;break}b.push(S.getHistoryData())}return!y&&{nodes:a,edges:b}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],y=this.edges[i].sourceNodeId===r,b=this.edges[i].targetNodeId===r;(y||b)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===Gn.NODE&&i.nodes.push(c.getData()),c.BaseType===Gn.EDGE){var y=c.getData(),b=a.get(y.sourceNodeId)&&a.get(y.targetNodeId);(r||b)&&i.edges.push(y)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=ho()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=ho()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,y=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);y&&(this.overlapMode===gn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),y.setZIndex(9999),this.topElement=y),this.overlapMode===gn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,y,b=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);b&&(typeof a=="number"&&(y=a),a==="top"&&(y=ul()),a==="bottom"&&(y=--Jf),b.setZIndex(y))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ft.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=mn(r);c.id&&this.nodesMap[r.id]&&delete c.id;var y=this.getModel(c.type);if(!y)throw new Error("找不到".concat(c.type,"对应的节点，请确认是否已注册此类型节点。"));c.x=Do(c.x,this.gridSize),c.y=Do(c.y,this.gridSize);var b=new y(c,this);this.nodes.push(b);var x=b.getData(),S={data:x};return i&&(S.e=i),this.eventCenter.emit(a,S),b}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],y=this.nodesMap[r];if(y){var b=y.model,x=b.getMoveDistance(a,i,c),S=zo(x,2);a=S[0],i=S[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],y=this.nodesMap[r];if(y){var b=y.model,x=b.x,S=b.y,k=a-x,I=i-S;this.moveNode(r,k,I,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,un.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=mn(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var y=new c(Wi(Wi({},a),{},{type:i}),this),b=y.getData();return this.edges.push(y),this.eventCenter.emit(ft.EDGE_ADD,{data:b}),y}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var y=this.edges[c],b=y.textPosition,x=b.x,S=b.y,k=this.edges[c].sourceNodeId===r,I=this.edges[c].targetNodeId===r;k&&y.moveStartPoint(a,i),I&&y.moveEndPoint(a,i),(k||I)&&this.handleEdgeTextMove(y,x,S)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Yt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var y=r.text,b=kl(y,r.points);r.moveText(b.x-y.x,b.y-y.y)}else{var x=r.textPosition,S=x.x,k=x.y;r.moveText(S-a,k-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ft.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(ft.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(un.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(un.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===gn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,y=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function($e,Je){var mt=c.nodesMap[Je].model.getMoveDistance(a,i,y);return $e[Je]=mt,$e},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],k=S.textPosition,I=k.x,X=k.y,Z=b[S.sourceNodeId],re=void 0,ye=void 0;if(Z){var be=zo(Z,2);re=be[0],ye=be[1],S.moveStartPoint(re,ye)}var xe=b[S.targetNodeId];if(xe){var Te=zo(xe,2);re=Te[0],ye=Te[1],S.moveEndPoint(re,ye)}(Z||xe)&&this.handleEdgeTextMove(S,I,X)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var y=this.getModel(a);if(!y)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var b=new y(c,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=il(b,x.startPoint,b.width,b.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var k=il(b,x.endPoint,b.width,b.height);x.updateEndPoint(k)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var y=this.getModel(a);if(!y)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var b=new y(c,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=Eu(Wi(Wi({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(k){var I=k.x,X=k.y,Z=k.width,re=k.height,ye=k.getNodeStyle().strokeWidth,be=ye===void 0?0:ye;a=a.concat([I+Z/2+be,I-Z/2-be]),i=i.concat([X+re/2+be,X-re/2-be])});var c=Math.min.apply(Math,ro(a)),y=Math.max.apply(Math,ro(a)),b=Math.min.apply(Math,ro(i)),x=y-c||0,S=Math.max.apply(Math,ro(i))-b||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:b+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,y=this.transformModel;if(r.length){var b=a||c.clientWidth,x=i||c.clientHeight,S=this.getVirtualRectSize(),k=S.virtualRectCenterPositionX,I=S.virtualRectCenterPositionY;y.focusOn(k,I,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,y=this.height,b=this.rootEl,x=this.transformModel;if(i.length){var S=c||b.clientWidth,k=y||b.clientHeight,I=this.getVirtualRectSize(),X=I.virtualRectWidth,Z=I.virtualRectHeight,re=I.virtualRectCenterPositionX,ye=I.virtualRectCenterPositionY,be=(X+a)/S,xe=(Z+r)/k,Te=0;Te=1/Math.max(be,xe);var $e=[S/2,k/2];x.zoom(Te,$e),x.focusOn(re,ye,S,k)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Wc(e.prototype,n),t}(),st=vt(Q.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=vt(Q.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=vt(Q.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=vt(Q.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=vt(Q.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=vt(Q.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gn.DEFAULT}}),at=vt(Q.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=vt(Q.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=vt(Q.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=vt(Q.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bt=vt(Q.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=vt(Q.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt(Q.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"nodesMap"),Q.prototype),vt(Q.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"edgesMap"),Q.prototype),vt(Q.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"modelsMap"),Q.prototype),vt(Q.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"sortElements"),Q.prototype),vt(Q.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"textEditElement"),Q.prototype),vt(Q.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"selectElements"),Q.prototype),vt(Q.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(Q.prototype,"selectNodes"),Q.prototype),vt(Q.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setFakerNode"),Q.prototype),vt(Q.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"removeFakerNode"),Q.prototype),vt(Q.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setModel"),Q.prototype),vt(Q.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"toFront"),Q.prototype),vt(Q.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setElementZIndex"),Q.prototype),vt(Q.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"deleteNode"),Q.prototype),vt(Q.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"addNode"),Q.prototype),vt(Q.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"cloneNode"),Q.prototype),vt(Q.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"moveNode"),Q.prototype),vt(Q.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"moveNode2Coordinate"),Q.prototype),vt(Q.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"editText"),Q.prototype),vt(Q.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"addEdge"),Q.prototype),vt(Q.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"moveEdge"),Q.prototype),vt(Q.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"deleteEdgeBySourceAndTarget"),Q.prototype),vt(Q.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"deleteEdgeById"),Q.prototype),vt(Q.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"deleteEdgeBySource"),Q.prototype),vt(Q.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"deleteEdgeByTarget"),Q.prototype),vt(Q.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setElementStateById"),Q.prototype),vt(Q.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"updateText"),Q.prototype),vt(Q.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"selectNodeById"),Q.prototype),vt(Q.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"selectEdgeById"),Q.prototype),vt(Q.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"selectElementById"),Q.prototype),vt(Q.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"clearSelectElements"),Q.prototype),vt(Q.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"moveNodes"),Q.prototype),vt(Q.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setDefaultEdgeType"),Q.prototype),vt(Q.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"changeNodeType"),Q.prototype),vt(Q.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"changeEdgeType"),Q.prototype),vt(Q.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"getNodeIncomingEdge"),Q.prototype),vt(Q.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"getNodeOutgoingEdge"),Q.prototype),vt(Q.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"getNodeIncomingNode"),Q.prototype),vt(Q.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"getNodeOutgoingNode"),Q.prototype),vt(Q.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"setTheme"),Q.prototype),vt(Q.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"resize"),Q.prototype),vt(Q.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"clearData"),Q.prototype),vt(Q.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"translateCenter"),Q.prototype),vt(Q.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"fitView"),Q.prototype),vt(Q.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"openEdgeAnimation"),Q.prototype),vt(Q.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Q.prototype,"closeEdgeAnimation"),Q.prototype),Q),l_=ag;function fh(t){return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function ph(){return ph=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function f_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e){return dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dh(t,e)}function p_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wp(t);if(e){var a=wp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d_(this,n)}}function d_(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(t)}function Ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wp(t)}function $i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ug,h_=ai(Fu=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&dh(i,c)})(a,t);var e,n,r=p_(a);function a(i){var c;(function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")})(this,a),$i(Ei(c=r.call(this)),"stepDrag",void 0),$i(Ei(c),"stepScrollX",0),$i(Ei(c),"stepScrollY",0),$i(Ei(c),"onDragging",function(S){var k=S.deltaX,I=S.deltaY;c.setState({isDragging:!0});var X=c.props.graphModel,Z=X.transformModel;X.editConfigModel.stopMoveGraph!==!0&&Z.translate(k,I)}),$i(Ei(c),"onDragEnd",function(){c.setState({isDragging:!1})}),$i(Ei(c),"zoomHandler",function(S){var k=c.props,I=k.graphModel,X=I.editConfigModel,Z=I.transformModel,re=I.gridSize,ye=k.graphModel,be=S.deltaX,xe=S.deltaY;if(X.stopScrollGraph||S.ctrlKey===!0){if(!X.stopZoomGraph){S.preventDefault();var Te=ye.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,$e=Te.x,Je=Te.y;Z.zoom(S.deltaY<0,[$e,Je])}}else{if(S.preventDefault(),c.stepScrollX+=be,c.stepScrollY+=xe,Math.abs(c.stepScrollX)>=re){var mt=c.stepScrollX%re,qe=c.stepScrollX-mt;Z.translate(-qe*Z.SCALE_X,0),c.stepScrollX=mt}if(Math.abs(c.stepScrollY)>=re){var _t=c.stepScrollY%re,tt=c.stepScrollY-_t;Z.translate(0,-tt*Z.SCALE_Y),c.stepScrollY=_t}}}),$i(Ei(c),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var k=c.props.graphModel;k.selectElements.size>0&&k.clearSelectElements(),k.eventCenter.emit(ft.BLANK_CLICK,{e:S})}}),$i(Ei(c),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var k=c.props.graphModel,I=k.getPointByClient({x:S.clientX,y:S.clientY});k.eventCenter.emit(ft.BLANK_CONTEXTMENU,{e:S,position:I})}}),$i(Ei(c),"mouseDownHandler",function(S){var k=c.props.graphModel,I=k.eventCenter,X=k.editConfigModel,Z=k.transformModel.SCALE_X,re=k.gridSize,ye=S.target,be=!X.adjustEdge&&!X.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||be)&&(X.stopMoveGraph!==!0?(c.stepDrag.setStep(re*Z),c.stepDrag.handleMouseDown(S)):I.emit(ft.BLANK_MOUSEDOWN,{e:S}),c.clickHandler(S))});var y=i.graphModel,b=y.gridSize,x=y.eventCenter;return c.stepDrag=new Io({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,y=c.children,b=c.dnd,x=this.state.isDragging;return Object(fe.g)("svg",ph({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(fe.g)("g",{transform:i},y))}}])&&f_(e.prototype,n),a}(fe.a))||Fu;function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yh(t,e)}function g_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xp(t);if(e){var a=xp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xp(t)}var m_=ai(ug=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yh(i,c)})(a,t);var e,n,r=g_(a);function a(){return y_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,y=i.graphModel,b=c.getTools().map(function(x){return Object(fe.g)(x,{graphModel:y,logicFlow:c.instance})});return c.components=b,b}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,y=i.graphModel,b=document.querySelector("#ToolOverlay_".concat(y.flowId)),x=c.getInstance();x.components.forEach(function(S){return S(x,b)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(fe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&v_(e.prototype,n),a}(fe.a))||ug;function vh(t){return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function __(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gh(t,e){return gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gh(t,e)}function w_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ep(t);if(e){var a=Ep(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x_(this,n)}}function x_(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ep(t)}var cg,E_=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&gh(i,c)})(a,t);var e,n,r=w_(a);function a(){return __(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:i,className:"lf-background-area"}))}}])&&O_(e.prototype,n),a}(fe.a);function bh(t){return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e){return mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mh(t,e)}function P_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sp(t);if(e){var a=Sp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A_(this,n)}}function A_(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sg(t)}function sg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(t)}function T_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lg=ai(cg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&mh(i,c)})(a,t);var e,n,r=P_(a);function a(){var i;S_(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return T_(sg(i=r.call.apply(r,[this].concat(y))),"id",ho()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,y=c.color,b=c.thickness,x=b===void 0?2:b,S=i.size,k=i.visible,I=Math.min(Math.max(2,x),S/2),X=1;return k||(X=0),Object(fe.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:y,opacity:X})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,y=c.color,b=c.thickness,x=b===void 0?1:b,S=i.size,k=i.visible,I=Math.min(Math.max(1,x),S/2),X="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),Z=1;return k||(Z=0),Object(fe.g)("path",{d:X,stroke:y,strokeWidth:I,opacity:Z})}},{key:"render",value:function(){var i=this.props,c=i.type,y=i.size,b=i.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:y,height:y},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&j_(e.prototype,n),a}(fe.a))||cg;lg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function _h(t){return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function M_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return fg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pg,Kc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=M_(n,2),a=r[0],i=r[1];(a==="style"||_h(i)!=="object")&&(e[a]=i)}),Object(fe.g)("line",e)};function Oh(t){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(r){k_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wh(t,e)}function C_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pp(t);if(e){var a=Pp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R_(this,n)}}function R_(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(t)}var hg,I_=ai(pg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wh(i,c)})(a,t);var e,n,r=C_(a);function a(){return D_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,y=i.isShowHorizontal,b=i.isShowVertical,x=i.getStyle(),S=c.x,k=S===void 0?0:S,I=c.y,X=I===void 0?0:I,Z=jp(jp({x1:-1e5,y1:X,x2:1e5,y2:X},x),{},{stroke:y?x.stroke:"none"}),re=jp(jp({x1:k,y1:-1e5,x2:k,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)(Kc,Z),Object(fe.g)(Kc,re))}}])&&N_(e.prototype,n),a}(fe.a))||pg;function xh(t){return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function L_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return yg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ba(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,y=e-r/2,b=n-a/2,x={};return Object.entries(t).forEach(function(S){var k=L_(S,2),I=k[0],X=k[1];xh(X)!=="object"&&(x[I]=X)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=y,x.y=b,Object(fe.g)("rect",x)}function Eh(t){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function $c(){return $c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vg(Object(n),!0).forEach(function(r){z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sh(t,e){return Sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sh(t,e)}function U_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ap(t);if(e){var a=Ap(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G_(this,n)}}function G_(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(t)}Ba.defaultProps={className:"",radius:""};var bg,H_=ai(hg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sh(i,c)})(a,t);var e,n,r=U_(a);function a(){return B_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,y=i.editConfigModel,b=y.hoverOutline,x=y.nodeSelectedOutline,S=[];return c.forEach(function(k){if(k.isHovered||k.isSelected){var I=k.isHovered,X=k.isSelected,Z=k.x,re=k.y,ye=k.width,be=k.height;if(x&&X||b&&I){var xe=k.getOutlineStyle(),Te={};if(Object.keys(xe).forEach(function(Je){Je!=="hover"&&(Te[Je]=xe[Je])}),I){var $e=xe.hover;Te=gg(gg({},Te),$e)}S.push(Object(fe.g)(Ba,$c({transform:k.gMatrix,className:"lf-outline-node",x:Z,y:re,width:ye+10,height:be+10},Te)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,y=i.editConfigModel,b=y.edgeSelectedOutline,x=y.hoverOutline,S=[],k=0;k<c.length;k++){var I=c[k];(b&&I.isSelected||x&&I.isHovered)&&(I.modelType===Yt.LINE_EDGE?S.push(this.getLineOutline(I)):I.modelType===Yt.POLYLINE_EDGE?S.push(this.getPolylineOutline(I)):I.modelType===Yt.BEZIER_EDGE&&S.push(this.getBezierOutline(I)))}return S}},{key:"getLineOutline",value:function(i){var c=i.startPoint,y=i.endPoint,b=(c.x+y.x)/2,x=(c.y+y.y)/2,S=Math.abs(c.x-y.x)+10,k=Math.abs(c.y-y.y)+10,I=i.getOutlineStyle();return Object(fe.g)(Ba,$c({className:"lf-outline-edge",x:b,y:x,width:S,height:k},I))}},{key:"getPolylineOutline",value:function(i){var c=i.points,y=Oi(c),b=Ca(y,8),x=b.x,S=b.y,k=b.width,I=b.height,X=i.getOutlineStyle();return Object(fe.g)(Ba,$c({className:"lf-outline",x,y:S,width:k,height:I},X))}},{key:"getBezierOutline",value:function(i){var c=i.path,y=Fc(c),b=Ca(y,8),x=b.x,S=b.y,k=b.width,I=b.height,X=i.getOutlineStyle();return Object(fe.g)(Ba,$c({className:"lf-outline",x,y:S,width:k,height:I},X))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&F_(e.prototype,n),a}(fe.a))||hg;function jh(t){return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function X_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return mg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zc(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,y=t.className,b={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=X_(x,2),k=S[0],I=S[1];jh(I)!=="object"&&(b[k]=I)}),b.className=y?"lf-basic-shape ".concat(y):"lf-basic-shape",Object(fe.g)("circle",b)}function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Y_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return _g(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _g(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ul(){return Ul=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}function Og(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xg(t,e,n){return e&&wg(t.prototype,e),n&&wg(t,n),t}function Eg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ah(t,e)}function Ah(t,e){return Ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ah(t,e)}function Sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mp(t);if(e){var a=Mp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V_(this,n)}}function V_(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tp(t)}function Tp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(t)}function Th(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jg,Pg=function(t){Eg(n,t);var e=Sg(n);function n(){var r;return Og(this,n),Th(Tp(r=e.call(this)),"dragHandler",void 0),Th(Tp(r),"onDragging",function(a){var i=a.event,c=r.props,y=c.graphModel,b=c.bezierModel,x=c.type,S=y.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,k=S.x,I=S.y;b.updateAdjustAnchor({x:k,y:I},x),y.eventCenter.emit(ft.EDGE_ADJUST,{data:b.getData()})}),Th(Tp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Io({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return xg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,y=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(Zc,Ul({className:"lf-bezier-adjust-anchor",x:i,y:c},y,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(fe.a),W_=ai(bg=function(t){Eg(n,t);var e=Sg(n);function n(){return Og(this,n),e.apply(this,arguments)}return xg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,y=Y_(Fc(i),4),b=y[0],x=y[1],S=y[2],k=y[3],I=r.getEdgeStyle().adjustLine,X=[];return X.push(Object(fe.g)(Kc,Ul({x1:b.x,y1:b.y,x2:x.x,y2:x.y},I))),X.push(Object(fe.g)(Pg,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),X.push(Object(fe.g)(Kc,Ul({x1:k.x,y1:k.y,x2:S.x,y2:S.y},I))),X.push(Object(fe.g)(Pg,{position:S,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),X}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var y=a[c];y.isSelected&&y.modelType===Yt.BEZIER_EDGE&&y.draggable&&i.push(this.getBezierAdjust(y,r))}return i}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||bg;function Mh(t){return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function K_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kh(t,e)}function Z_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kp(t);if(e){var a=kp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q_(this,n)}}function q_(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(t)}var Ag,J_=ai(jg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&kh(i,c)})(a,t);var e,n,r=Z_(a);function a(){return K_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:i},c))}}])&&$_(e.prototype,n),a}(fe.a))||jg;function Dh(t){return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Nh(){return Nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function Q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t,e){return Ch=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ch(t,e)}function t1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dp(t);if(e){var a=Dp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return n1(this,n)}}function n1(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}var r1=ai(Ag=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ch(i,c)})(a,t);var e,n,r=t1(a);function a(){return Q_(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(i.type);return Object(fe.g)(x,{key:i.id,model:i,graphModel:c,overlay:y})}},{key:"render",value:function(){var i=this,c=this.props,y=c.graphModel,b=c.tool,x=c.options,S=c.dnd,k=c.snaplineModel,I={};x.width&&(I.width="".concat(y.width,"px")),x.height&&(I.height="".concat(y.height,"px"));var X=x.grid,Z=y.fakerNode,re=y.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph","flow-id":y.flowId,style:I},Object(fe.g)(h_,{graphModel:y,dnd:S},Object(fe.g)("g",{className:"lf-base"},ac(y.sortElements,function(ye){return i.getComponent(ye,y)})),Z?this.getComponent(Z,y):""),Object(fe.g)(J_,{graphModel:y},Object(fe.g)(H_,{graphModel:y}),re?Object(fe.g)(W_,{graphModel:y}):"",x.snapline!==!1?Object(fe.g)(I_,{snaplineModel:k}):""),Object(fe.g)(m_,{graphModel:y,tool:b}),x.background&&Object(fe.g)(E_,{background:x.background}),x.grid&&Object(fe.g)(lg,Nh({},X,{graphModel:y})))}}],n&&e1(e.prototype,n),a}(fe.a))||Ag,o1=r1;function Tg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tg(Object(n),!0).forEach(function(r){Zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a1=function(){function t(r){var a=this;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,t),Zi(this,"nodeConfig",void 0),Zi(this,"lf",void 0),Zi(this,"fakerNode",void 0),Zi(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),Zi(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Np(Np({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Zi(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var y=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),b=y.x,x=y.y;a.fakerNode.moveTo(b,x);var S=a.fakerNode.getData();a.lf.setNodeSnapLine(S),a.lf.graphModel.eventCenter.emit(ft.NODE_DND_DRAG,{data:S})}return!1}),Zi(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),Zi(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Np(Np({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),ft.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=gu(this.lf.options,["grid","size"]),y=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,b=y.x,x=y.y;return{x:Do(b,c),y:Do(x,c)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&i1(e.prototype,n),t}();function Mg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=er({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),er({},Dg,t)}var ln,kg,Dg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Rh(t){return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Ih(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ng(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ng(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cg(Object(n),!0).forEach(function(r){Rg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gl(){return Gl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=l1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Gl.apply(this,arguments)}function l1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Fa(t))!==null;);return t}function Lh(t,e){return Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lh(t,e)}function f1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fa(t);if(e){var a=Fa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p1(this,n)}}function p1(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rp(t)}function Rp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fa(t){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(t)}function Rg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var zh=(ln=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Lh(i,c)})(a,t);var e,n,r=f1(a);function a(){var i;c1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Rg(Rp(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.BEZIER_EDGE),u1(Rp(i),"path",kg,Rp(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Gl(Fa(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Cp(Cp({},Gl(Fa(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(y){var b=y.x,x=y.y;i+=b,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Gl(Fa(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(y){return{x:y.x,y:y.y}});return Cp(Cp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return wi({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Ih(i,4),y=c[0],b=c[1],x=c[2],S=c[3];return"M ".concat(y.x," ").concat(y.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,y=i.ePre;this.updatePath(c,y)}},{key:"updatePath",value:function(i,c){i=xn(i),c=xn(c);var y={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[y,i,c,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var y=Ih(this.pointsList,3),b=y[1],x=y[2];b.x+=i,b.y+=c,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var y=Ih(this.pointsList,3),b=y[1],x=y[2];x.x+=i,x.y+=c,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,y=i.endPoint,b=i.sourceNode,x=i.targetNode,S=wi({start:c,end:y,sourceNode:b,targetNode:x,offset:this.offset}),k=S.sNext,I=S.ePre;this.pointsList=[c,k,I,y],this.initPoints()}}])&&s1(e.prototype,n),a}(sl),kg=ri(ln.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ri(ln.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),ri(ln.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),ri(ln.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),ri(ln.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),ri(ln.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),ri(ln.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),ri(ln.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),ri(ln.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),ri(ln.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),ri(ln.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),Ye,Ig,Lg,zg,Bg,Fg,Ug,Gg,Hg,Xg,Yg,Vg,Wg,Kg,$g,Zg,qg,Jg,Qg,eb,tb,nb,rb,d1=function(t){return t==null};function h1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||ob(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function ob(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ib(t,e):void 0}}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(n),!0).forEach(function(r){oo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ht(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var qi,ub,Ji=(Ye=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),oo(this,"id",""),qn(this,"type",Ig,this),qn(this,"x",Lg,this),qn(this,"y",zg,this),qn(this,"text",Bg,this),qn(this,"properties",Fg,this),qn(this,"_width",Ug,this),qn(this,"_height",Gg,this),qn(this,"anchorsOffset",Hg,this),qn(this,"isSelected",Xg,this),qn(this,"isHovered",Yg,this),qn(this,"isShowAnchor",Vg,this),qn(this,"isDragging",Wg,this),qn(this,"isHitable",Kg,this),qn(this,"draggable",$g,this),qn(this,"visible",Zg,this),qn(this,"enableRotate",qg,this),oo(this,"virtual",!1),oo(this,"graphModel",void 0),qn(this,"zIndex",Jg,this),qn(this,"state",Qg,this),qn(this,"autoToFront",eb,this),qn(this,"style",tb,this),qn(this,"gMatrix",nb,this),qn(this,"rotate",rb,this),oo(this,"BaseType",Gn.NODE),oo(this,"modelType",Yt.NODE),oo(this,"additionStateData",void 0),oo(this,"targetRules",[]),oo(this,"sourceRules",[]),oo(this,"moveRules",[]),oo(this,"hasSetTargetRules",!1),oo(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||ho()}this.formatText(r),er(this,function(y){return Wo(y,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===gn.INCREASE&&(this.zIndex=r.zIndex||ul())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,y=this.properties;Object(d.x)(y)&&(y=Object(d.I)(y));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:y};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===gn.INCREASE&&(b.zIndex=this.zIndex),c&&(b.text={x:a,y:i,value:c}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Xr(Xr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return xn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return xn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return xn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return xn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var y=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,S=0;S<y.length;S++){var k=y[S];if(!k.validate.call(this,this,r,a,i,c)){x=!1,b=k.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var y=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,S=0;S<y.length;S++){var k=y[S];if(!k.validate.call(this,r,this,a,i,c)){x=!1,b=k.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,y=!0,b=function(k,I){var X=typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(!X){if(Array.isArray(k)||(X=ob(k))||I&&k&&typeof k.length=="number"){X&&(k=X);var Z=0,re=function(){};return{s:re,n:function(){return Z>=k.length?{done:!0}:{done:!1,value:k[Z++]}},e:function(Te){throw Te},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,be=!0,xe=!1;return{s:function(){X=X.call(k)},n:function(){var Te=X.next();return be=Te.done,Te},e:function(Te){xe=!0,ye=Te},f:function(){try{be||X.return==null||X.return()}finally{if(xe)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(i=b.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(Bh(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;c=c&&S.x,y=y&&S.y}}}catch(k){b.e(k)}finally{b.f()}return{x:c,y}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(y,b){return y.length?(y=y,{id:"".concat(a,"_").concat(b),x:i+y[0],y:c+y[1]}):Xr(Xr({},y=y),{},{x:i+y.x,y:c+y.y,id:y.id||"".concat(a,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,y=Nc(i),b=Number.MAX_SAFE_INTEGER,x=0;x<y.length;x++){var S=Wn(a.x,a.y,y[x].x,y[x].y);S<b&&(b=S,c={index:x,anchor:mi(mi({},y[x]),{},{x:y[x].x,y:y[x].y,id:y[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(y){var b=y.x,x=y.y,S=h1(new Dn([b,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),k=S[0],I=S[1];y.x=k,y.y=I}),r}},{key:"getAnchorInfo",value:function(r){if(!d1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,y=!1;if(i)c=!0,y=!0;else{var b=this.isAllowMoveNode(r,a);typeof b=="boolean"?(c=b,y=b):(c=b.x,y=b.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(y){var S=this.y+a;this.y=S,this.text&&this.moveText(0,a)}return c||y}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,y=!1,b=0,x=0;if(i)c=!0,y=!0;else{var S=this.isAllowMoveNode(r,a);typeof S=="boolean"?(c=S,y=S):(c=S.x,y=S.y)}if(c&&r){var k=this.x+r;this.x=k,this.text&&this.moveText(r,0),b=r}if(y&&a){var I=this.y+a;this.y=I,this.text&&this.moveText(0,a),x=a}return[b,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,y=a-this.y;return!(!i&&!this.isAllowMoveNode(c,y)||(this.text&&this.text&&this.moveText(c,y),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,y=i.y,b=i.value,x=i.draggable,S=i.editable;this.text={value:b,editable:S,draggable:x,x:c+r,y:y+a}}},{key:"updateText",value:function(r){this.text=Xr(Xr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Xr(Xr({},Object(d.I)(this.properties)),{},oo({},r,mn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Xr(Xr({},Object(d.I)(this.properties)),mn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Xr(Xr({},this.style),{},oo({},r,mn(a)))}},{key:"setStyles",value:function(r){this.style=Xr(Xr({},this.style),mn(r))}},{key:"updateStyles",value:function(r){this.style=Xr({},mn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){er(this,r)}}],n&&y1(e.prototype,n),t}(),Ig=Ht(Ye.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lg=Ht(Ye.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zg=Ht(Ye.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bg=Ht(Ye.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Fg=Ht(Ye.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ug=Ht(Ye.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Gg=Ht(Ye.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Hg=Ht(Ye.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xg=Ht(Ye.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yg=Ht(Ye.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vg=Ht(Ye.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wg=Ht(Ye.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kg=Ht(Ye.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$g=Ht(Ye.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zg=Ht(Ye.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qg=Ht(Ye.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jg=Ht(Ye.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qg=Ht(Ye.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),eb=Ht(Ye.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tb=Ht(Ye.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nb=Ht(Ye.prototype,"gMatrix",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rb=Ht(Ye.prototype,"rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ht(Ye.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Ht(Ye.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Ht(Ye.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Ht(Ye.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Ht(Ye.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Ht(Ye.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Ht(Ye.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Ht(Ye.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Ht(Ye.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Ht(Ye.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Ht(Ye.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Ht(Ye.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Ht(Ye.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Ht(Ye.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Ht(Ye.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Ht(Ye.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Ht(Ye.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Ht(Ye.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Ht(Ye.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Ht(Ye.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Ht(Ye.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Ht(Ye.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function Fh(t){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(){return Uh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=m1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Uh.apply(this,arguments)}function m1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=qc(t))!==null;);return t}function Gh(t,e){return Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gh(t,e)}function _1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qc(t);if(e){var a=qc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O1(this,n)}}function O1(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(t)}function Ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qc(t)}function lb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Cr,fb,pb,Xh=(qi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Gh(i,c)})(a,t);var e,n,r=_1(a);function a(){var i;g1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return lb(Ip(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.CIRCLE_NODE),v1(Ip(i),"r",ub,Ip(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Uh(qc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return sb(sb({},i),xn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,y=this.r;return[{x:i,y:c-y,id:"".concat(this.id,"_0")},{x:i+y,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+y,id:"".concat(this.id,"_2")},{x:i-y,y:c,id:"".concat(this.id,"_3")}]}}])&&b1(e.prototype,n),a}(Ji),ub=Hh(qi.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Hh(qi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(qi.prototype,"width"),qi.prototype),Hh(qi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(qi.prototype,"height"),qi.prototype),qi);o(129);function Yh(t){return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function Vh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vb(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wh(){return Wh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=E1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Wh.apply(this,arguments)}function E1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Qc(t))!==null;);return t}function Kh(t,e){return Kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kh(t,e)}function S1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qc(t);if(e){var a=Qc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j1(this,n)}}function j1(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jc(t)}function Jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qc(t){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(t)}function gb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function es(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Si,bb,mb,$h=(Cr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Kh(i,c)})(a,t);var e,n,r=S1(a);function a(){var i;w1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return gb(Jc(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.DIAMOND_NODE),vb(Jc(i),"rx",fb,Jc(i)),vb(Jc(i),"ry",pb,Jc(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=Wh(Qc(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return yb(yb({},i),xn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,y=this.rx,b=this.ry;return[[i,c-b],[i+y,c],[i,c+b],[i-y,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(y){var b=Vh(y,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(y){var b=Vh(y,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,y){var b=Vh(c,2);return{x:b[0],y:b[1],id:"".concat(i.id,"_").concat(y)}})}}])&&x1(e.prototype,n),a}(Ji),fb=es(Cr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),pb=es(Cr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),es(Cr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Cr.prototype,"points"),Cr.prototype),es(Cr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Cr.prototype,"pointsPosition"),Cr.prototype),es(Cr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Cr.prototype,"width"),Cr.prototype),es(Cr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Cr.prototype,"height"),Cr.prototype),Cr);function Zh(t){return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function _b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(n),!0).forEach(function(r){xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wb(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function P1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qh(){return qh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=T1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},qh.apply(this,arguments)}function T1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ns(t))!==null;);return t}function Jh(t,e){return Jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jh(t,e)}function M1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ns(t);if(e){var a=ns(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k1(this,n)}}function k1(t,e){if(e&&(Zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ts(t)}function ts(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ns(t){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ns(t)}function xb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Bo,Eb,Qh=(Si=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Jh(i,c)})(a,t);var e,n,r=M1(a);function a(){var i;P1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return xb(ts(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.ELLIPSE_NODE),wb(ts(i),"rx",bb,ts(i)),wb(ts(i),"ry",mb,ts(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=qh(ns(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Ob(Ob({},i),xn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,y=this.rx,b=this.ry;return[{x:i,y:c-b,id:"".concat(this.id,"_0")},{x:i+y,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b,id:"".concat(this.id,"_2")},{x:i-y,y:c,id:"".concat(this.id,"_3")}]}}])&&A1(e.prototype,n),a}(Ji),bb=Lp(Si.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),mb=Lp(Si.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Lp(Si.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Si.prototype,"width"),Si.prototype),Lp(Si.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Si.prototype,"height"),Si.prototype),Si);function ey(t){return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function ty(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(n),!0).forEach(function(r){Ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function N1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(){return ny=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=R1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ny.apply(this,arguments)}function R1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rs(t))!==null;);return t}function ry(t,e){return ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ry(t,e)}function I1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var a=rs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L1(this,n)}}function L1(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zp(t)}function zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(t)}function Ab(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var oy,Tb,iy=(Bo=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ry(i,c)})(a,t);var e,n,r=I1(a);function a(){var i;N1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Ab(zp(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.POLYGON_NODE),D1(zp(i),"points",Eb,zp(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ny(rs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Pb(Pb({},i),xn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,y=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+i-y/2,y:x[1]+c-b/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(y){var b=ty(y,1)[0];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(y){var b=ty(y,2)[1];b<i&&(i=b),b>c&&(c=b)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,y=this.y,b=this.width,x=this.height;return this.points.map(function(S,k){var I=ty(S,2),X=I[0],Z=I[1];return{x:c+X-b/2,y:y+Z-x/2,id:"".concat(i.id,"_").concat(k)}})}}])&&C1(e.prototype,n),a}(Ji),Eb=Bp(Bo.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Bp(Bo.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"pointsPosition"),Bo.prototype),Bp(Bo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"width"),Bo.prototype),Bp(Bo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"height"),Bo.prototype),Bo);function ay(t){return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function Mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(n),!0).forEach(function(r){Db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function B1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uy(){return uy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=U1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},uy.apply(this,arguments)}function U1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=os(t))!==null;);return t}function cy(t,e){return cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cy(t,e)}function G1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=os(t);if(e){var a=os(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return H1(this,n)}}function H1(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fp(t)}function Fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},os(t)}function Db(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ua,sy=(oy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&cy(i,c)})(a,t);var e,n,r=G1(a);function a(){var i;B1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Db(Fp(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.RECT_NODE),z1(Fp(i),"radius",Tb,Fp(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,y=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+y/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-y/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=uy(os(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return kb(kb({},i),xn(c))}}])&&F1(e.prototype,n),a}(Ji),Tb=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(oy.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oy);function ly(t){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(r){Ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fy(){return fy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=V1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},fy.apply(this,arguments)}function V1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=is(t))!==null;);return t}function py(t,e){return py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},py(t,e)}function W1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=is(t);if(e){var a=is(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K1(this,n)}}function K1(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rb(t)}function Rb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},is(t)}function Ib(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lb(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var dy=(Ua=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&py(i,c)})(a,t);var e,n,r=W1(a);function a(){var i;X1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Ib(Rb(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=fy(is(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return Cb(Cb({},i),xn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return al({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return al({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&Y1(e.prototype,n),a}(Ji),Lb(Ua.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ua.prototype,"width"),Ua.prototype),Lb(Ua.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ua.prototype,"height"),Ua.prototype),Ua);function hy(t){return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function $1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yy(t,e){return yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yy(t,e)}function q1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Up(t);if(e){var a=Up(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J1(this,n)}}function J1(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zb(t)}function zb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}function Q1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oi,Bb,Fb,Ub,vy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yy(i,c)})(a,t);var e,n,r=q1(a);function a(){var i;$1(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Q1(zb(i=r.call.apply(r,[this].concat(y))),"modelType",Yt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,y=this.width,b=this.height;return[{x:i,y:c-b/2,id:"".concat(this.id,"_0")},{x:i+y/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+b/2,id:"".concat(this.id,"_2")},{x:i-y/2,y:c,id:"".concat(this.id,"_3")}]}}])&&Z1(e.prototype,n),a}(Ji);function Gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,y){return y(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Xb=(oi=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Hb(this,"graphModel",void 0),gy(this,"isShowHorizontal",Bb,this),gy(this,"isShowVertical",Fb,this),gy(this,"position",Ub,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Gb(Object(i),!0).forEach(function(c){Hb(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Gb(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,y=!1,b=!1,x=0;x<a.length;x++){var S=a[x];if(S.id!==r.id&&(i===S.x&&(y=!0),c===S.y&&(b=!0),y&&b))break}return{isShowVertical:y,isShowHorizontal:b,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,y=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=Gr(x);else{var S=this.graphModel.getNodeModelById(b);c=Gr(S)}}for(var k=0;k<a.length;k++){var I=a[k];if(I.id!==r.id){var X=Gr(I);if(X.minY===c.minY||X.maxY===c.minY){y=!0,i=c.minY;break}if(X.minY===c.maxY||X.maxY===c.maxY){y=!0,i=c.maxY;break}}}return er({isShowHorizontal:y,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,y=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)c=Gr(x);else{var S=this.graphModel.getNodeModelById(b);c=Gr(S)}}for(var k=0;k<a.length;k++){var I=a[k];if(I.id!==r.id){var X=Gr(I);if(X.minX===c.minX||X.maxX===c.minX){y=!0,i=c.minX;break}if(X.minX===c.maxX||X.maxX===c.maxX){y=!0,i=c.maxX;break}}}return er({isShowVertical:y,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,y=i.isShowVertical;if(!c){var b=this.getHorizontalSnapline(r,a);b.isShowHorizontal&&(i.isShowHorizontal=b.isShowHorizontal,i.position.y=b.position.y)}if(!y){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&eO(e.prototype,n),t}(),Bb=Hl(oi.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fb=Hl(oi.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ub=Hl(oi.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl(oi.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(oi.prototype,"clearSnapline"),oi.prototype),Hl(oi.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(oi.prototype,"setNodeSnapLine"),oi.prototype),oi),Xl=new Map,Yb=function(t){var e=ho(),n=window.requestAnimationFrame(function r(){if(t(),Xl.get(e)){var a=window.requestAnimationFrame(r);Xl.set(e,a)}});return Xl.set(e,n),e},Gp=function(t){var e=Xl.get(t);e&&(window.cancelAnimationFrame(e),Xl.delete(t))};function by(t){return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function Yl(){return Yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}function Vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Wb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function my(t,e){return my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},my(t,e)}function rO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xp(t);if(e){var a=Xp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(t)}function ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(t)}function Pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&my(i,c)})(a,t);var e,n,r=rO(a);function a(){var i;return function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}(this,a),Pi(ji(i=r.call(this)),"preTargetNode",void 0),Pi(ji(i),"sourceRuleResults",void 0),Pi(ji(i),"targetRuleResults",void 0),Pi(ji(i),"dragHandler",void 0),Pi(ji(i),"t",void 0),Pi(ji(i),"onDragStart",function(c){var y=c.event,b=i.props,x=b.anchorData,S=b.nodeModel,k=b.graphModel,I=k.overlapMode;k.selectNodeById(S.id),I!==gn.INCREASE&&S.autoToFront&&k.toFront(S.id),k.eventCenter.emit(ft.ANCHOR_DRAGSTART,{data:x,e:y,nodeModel:S}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Pi(ji(i),"onDragging",function(c){var y=c.event,b=i.props,x=b.graphModel,S=b.nodeModel,k=b.anchorData,I=x.transformModel,X=x.eventCenter,Z=x.width,re=x.height,ye=x.editConfigModel,be=ye.autoExpand,xe=ye.stopMoveGraph,Te=y.clientX,$e=y.clientY,Je=x.getPointByClient({x:Te,y:$e}),mt=Je.domOverlayPosition,qe=mt.x,_t=mt.y,tt=Je.canvasOverlayPosition,qt=tt.x,en=tt.y;i.t&&Gp(i.t);var Ft=[];qe<10?Ft=[10,0]:qe+10>Z?Ft=[-10,0]:_t<10?Ft=[0,10]:_t+10>re&&(Ft=[0,-10]),i.setState({endX:qt,endY:en,dragging:!0}),i.moveAnchorEnd(qt,en),Ft.length>0&&!xe&&be&&(i.t=Yb(function(){var on=tO(Ft,2),Hn=on[0],Xn=on[1];I.translate(Hn,Xn);var Vr=i.state,Mi=Vr.endX,Fo=Vr.endY;i.setState({endX:Mi-Hn,endY:Fo-Xn}),i.moveAnchorEnd(Mi-Hn,Fo-Xn)})),X.emit(ft.ANCHOR_DRAG,{data:k,e:y,nodeModel:S})}),Pi(ji(i),"onDragEnd",function(c){var y=c.event;i.t&&Gp(i.t),i.checkEnd(y),i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var b=i.props,x=b.graphModel,S=b.nodeModel,k=b.anchorData;x.eventCenter.emit(ft.ANCHOR_DRAGEND,{data:k,e:y,nodeModel:S})}),Pi(ji(i),"checkEnd",function(c){var y=i.props,b=y.graphModel,x=y.nodeModel,S=y.anchorData,k=S.x,I=S.y,X=S.id,Z=(b.edgeType,i.state),re=Z.endX,ye=Z.endY,be=Z.dragging,xe=Ui({x:re,y:ye},b);if(i.preTargetNode&&i.preTargetNode.state!==un.DEFAULT&&i.preTargetNode.setElementState(un.DEFAULT),be&&xe&&xe.node){var Te=xe.node,$e=xe.anchor.id,Je="".concat(x.id,"_").concat(Te.id,"_").concat($e,"_").concat(X),mt=i.sourceRuleResults.get(Je)||{},qe=mt.isAllPass,_t=mt.msg,tt=i.targetRuleResults.get(Je)||{},qt=tt.isAllPass,en=tt.msg;if(qe&&qt){Te.setElementState(un.DEFAULT);var Ft=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),on=b.addEdge(Hp(Hp({},Ft),{},{sourceNodeId:x.id,sourceAnchorId:X,startPoint:{x:k,y:I},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),Hn=i.props.anchorData;b.eventCenter.emit(ft.ANCHOR_DROP,{data:Hn,e:c,nodeModel:x,edgeModel:on})}else{var Xn=Te.getData();b.eventCenter.emit(ft.CONNECTION_NOT_ALLOWED,{data:Xn,msg:en||_t})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Io({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,y=i.style,b=i.node.getAnchorShape(c);if(b)return b;var x=c.x,S=c.y,k=Hp(Hp({},y),y.hover);return Object(fe.g)("g",null,Object(fe.g)(Zc,Yl({className:"lf-node-anchor-hover"},k,{x,y:S})),Object(fe.g)(Zc,Yl({className:"lf-node-anchor"},y,{x,y:S})))}},{key:"moveAnchorEnd",value:function(i,c){var y=this.props,b=y.graphModel,x=y.nodeModel,S=y.anchorData,k=Ui({x:i,y:c},b);if(k){var I=k.node,X=k.anchor.id;if(this.preTargetNode&&this.preTargetNode!==k.node&&this.preTargetNode.setElementState(un.DEFAULT),S.id===X)return;this.preTargetNode=I;var Z="".concat(x.id,"_").concat(I.id,"_").concat(X,"_").concat(S.id);if(!this.targetRuleResults.has(Z)){var re=k.anchor,ye=x.isAllowConnectedAsSource(I,S,re),be=I.isAllowConnectedAsTarget(x,S,re);this.sourceRuleResults.set(Z,Pu(ye)),this.targetRuleResults.set(Z,Pu(be))}var xe=this.sourceRuleResults.get(Z).isAllPass,Te=this.targetRuleResults.get(Z).isAllPass;xe&&Te?I.setElementState(un.ALLOW_CONNECT):I.setElementState(un.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==un.DEFAULT&&this.preTargetNode.setElementState(un.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,y=i.startY,b=i.endX,x=i.endY;return Wn(c,y,b,x)>10}},{key:"render",value:function(){var i=this,c=this.state,y=c.startX,b=c.startY,x=c.endX,S=c.endY,k=this.props,I=k.anchorData.edgeAddable,X=k.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(Z){I!==!1&&i.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(fe.g)(Kc,Yl({x1:y,y1:b,x2:x,y2:S},X,{"pointer-events":"none"})))}}])&&nO(e.prototype,n),a}(fe.a);function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(n),!0).forEach(function(r){uO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _y(t){return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function cO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $b(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $b(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zb(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,y=t.fill,b=y===void 0?"currentColor":y,x=t.overflowMode,S=x===void 0?"default":x,k=t.textWidth,I=k===void 0?"":k,X=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:b};if(Object.entries(t).forEach(function($e){var Je=cO($e,2),mt=Je[0],qe=Je[1];_y(qe)!=="object"&&(Z[mt]=qe)}),i){var re=String(i).split(/[\r\n]/g),ye=re.length;if(S!=="default"){var be=X.BaseType,xe=X.modelType;if(be===Gn.NODE&&xe!==Yt.TEXT_NODE||be===Gn.EDGE&&I)return function($e){var Je=$e.value,mt=$e.fontSize,qe=$e.model,_t=$e.fontFamily,tt=_t===void 0?"":_t,qt=$e.lineHeight,en=$e.wrapPadding,Ft=en===void 0?"0, 0":en,on=$e.overflowMode,Hn=$e.x,Xn=$e.y,Vr=qe.width,Mi=qe.textHeight,Fo=$e.textWidth||Vr,ss=String(Je).split(/[\r\n]/g),yd=ss.length,vd=qf({rows:ss,style:{fontSize:"".concat(mt,"px"),width:"".concat(Fo,"px"),fontFamily:tt,lineHeight:qt,padding:Ft},rowsLength:yd,className:"lf-get-text-height"}),Yu=qe.height>vd?qe.height:vd;Mi&&(Yu=Mi);var Xa=on==="ellipsis";return Xa&&(Yu=mt+2),Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:Fo,height:Yu,x:Hn-Fo/2,y:Xn-Yu/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Yu,width:Fo,padding:Ft}},Object(fe.g)("div",{className:Xa?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Xa?ss.join(""):"",style:aO({},$e)},ss.map(function(Ya){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ya)})))))}(t)}if(ye>1){var Te=re.map(function($e,Je){var mt=(Je-(ye-1)/2)*(c+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:a+mt},$e)});return Object(fe.g)("text",Z,Te)}return Object(fe.g)("text",Z,i)}}function Oy(t){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function wy(){return wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(this,arguments)}function sO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return qb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xy(t,e){return xy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xy(t,e)}function fO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yp(t);if(e){var a=Yp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}function Gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xy(i,c)})(a,t);var e,n,r=fO(a);function a(i){var c;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Gu(Ga(c=r.call(this)),"dragHandler",void 0),Gu(Ga(c),"sumDeltaX",0),Gu(Ga(c),"sumDeltaY",0),Gu(Ga(c),"stepDrag",void 0),Gu(Ga(c),"onDragging",function(b){var x=b.deltaX,S=b.deltaY,k=c.props,I=k.model,X=sO(k.graphModel.transformModel.fixDeltaXY(x,S),2),Z=X[0],re=X[1];I.moveText(Z,re)}),Gu(Ga(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(un.TEXT_EDIT)}),Gu(Ga(c),"mouseDownHandle",function(b){var x=c.props,S=x.draggable,k=x.model,I=x.graphModel.editConfigModel.nodeTextDraggable;(S||I)&&(c.stepDrag.model=k,c.stepDrag.handleMouseDown(b))}),i.model;var y=i.draggable;return c.stepDrag=new Io({onDragging:c.onDragging,step:1,isStopPropagation:y}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,y=i.graphModel,b=c.text,x=y.editConfigModel,S=b.value,k=b.x,I=b.y,X=b.editable,Z=b.draggable,re={x:k,y:I,className:"",value:S};X?re.className="lf-element-text":Z||x.nodeTextDraggable?re.className="lf-text-draggable":re.className="lf-text-disabled";var ye=c.getTextStyle();return Object(fe.g)(Zb,wy({},re,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&lO(e.prototype,n),a}(fe.a),dO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,Qb=o(130);function Ey(t){return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function Sy(){return Sy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jy(t,e){return jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jy(t,e)}function yO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vp(t);if(e){var a=Vp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return as(t)}function as(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(t)}function Vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jy(i,c)})(a,t);var e,n,r=yO(a);function a(i){var c;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),Vl(as(c=r.call(this,i)),"style",{}),Vl(as(c),"defaultAngle",void 0),Vl(as(c),"normal",void 0),Vl(as(c),"stepperDrag",void 0),Vl(as(c),"onDragging",function(y){var b,x=y.event,S=c.props,k=S.graphModel,I=S.nodeModel,X=S.eventCenter,Z=k.selectNodes,re=I.x,ye=I.y,be=x.clientX,xe=x.clientY,Te=k.getPointByClient({x:be,y:xe}).canvasOverlayPosition,$e=Te.x,Je=Te.y,mt=new Zn($e-re,Je-ye),qe=((b=c.normal)===null||b===void 0?void 0:b.angle(mt))-c.defaultAngle,_t=new zn(-re,-ye).rotate(qe).translate(re,ye).toString();I.gMatrix=_t,I.rotate=qe;var tt=Object(Qb.map)(Z,function(en){return en.id});tt.indexOf(I.id)===-1&&(tt=[I.id]);var qt=Object(Qb.reduce)(tt,function(en,Ft){var on=k.getNodeModelById(Ft);return en[Ft]=on==null?void 0:on.getMoveDistance(0,0,!1),en},{});tt.forEach(function(en){k.getNodeEdges(en).forEach(function(Ft){if(qt[Ft.sourceNodeId]){var on=k.getNodeModelById(Ft.sourceNodeId).anchors.find(function(Xn){return Xn.id===Ft.sourceAnchorId});Ft.updateStartPoint(on)}if(qt[Ft.targetNodeId]){var Hn=k.getNodeModelById(Ft.targetNodeId).anchors.find(function(Xn){return Xn.id===Ft.targetAnchorId});Ft.updateEndPoint(Hn)}})}),X.emit(ft.NODE_ROTATE,{e:x,nodeModel:I})}),c.style=i.style,c.stepperDrag=new Io({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,y=c.x,b=c.y,x=y+c.width/2+20,S=b-c.height/2-20;return this.normal=new Zn(1,0),this.defaultAngle=this.normal.angle(new Zn(x-y,S-b)),c.defaultAngle=this.defaultAngle,Object(fe.g)("g",{className:"lf-rotate-control"},Object(fe.g)("g",{onMouseDown:function(k){i.stepperDrag.handleMouseDown(k)}},Object(fe.g)(Zc,Sy({},this.style,{cx:x,cy:S}))))}}])&&hO(e.prototype,n),a}(fe.a);function Py(t){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}var bO=["className"];function Wp(){return Wp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function mO(t,e){if(t==null)return{};var n,r,a=function(c,y){if(c==null)return{};var b,x,S={},k=Object.keys(c);for(x=0;x<k.length;x++)b=k[x],y.indexOf(b)>=0||(S[b]=c[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Kp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return em(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return em(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function em(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ay(t,e){return Ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ay(t,e)}function _O(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$p(t);if(e){var a=$p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(t)}function Rr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(t)}function Yr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qi=function(t){(function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),y&&Ay(c,y)})(i,t);var e,n,r,a=_O(i);function i(c){var y;(function(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")})(this,i),Yr(Rr(y=a.call(this)),"t",void 0),Yr(Rr(y),"moveOffset",void 0),Yr(Rr(y),"stepDrag",void 0),Yr(Rr(y),"contextMenuTime",void 0),Yr(Rr(y),"startTime",void 0),Yr(Rr(y),"clickTimer",void 0),Yr(Rr(y),"onDragStart",function(I){var X=I.event,Z=X.clientX,re=X.clientY,ye=y.props,be=ye.model,xe=ye.graphModel.getPointByClient({x:Z,y:re}).canvasOverlayPosition,Te=xe.x,$e=xe.y;y.moveOffset={x:be.x-Te,y:be.y-$e}}),Yr(Rr(y),"onDragging",function(I){var X=I.event,Z=y.props,re=Z.model,ye=Z.graphModel,be=ye.editConfigModel,xe=be.stopMoveGraph,Te=be.autoExpand,$e=ye.transformModel,Je=ye.selectNodes,mt=ye.width,qe=ye.height,_t=ye.gridSize;re.isDragging=!0;var tt=X.clientX,qt=X.clientY,en=ye.getPointByClient({x:tt,y:qt}).canvasOverlayPosition,Ft=en.x,on=en.y,Hn=Kp($e.CanvasPointToHtmlPoint([Ft,on]),2),Xn=Hn[0],Vr=Hn[1];if(Ft+=y.moveOffset.x,on+=y.moveOffset.y,Ft=Do(Ft,_t),on=Do(on,_t),mt&&qe){if(!Te||xe||!(Xn<0||Vr<0||Xn>mt||Vr>qe)){var Mi=Kp($e.CanvasPointToHtmlPoint([Ft-re.width/2,on-re.height/2]),2),Fo=Mi[0],ss=Mi[1],yd=Kp($e.CanvasPointToHtmlPoint([Ft+re.width/2,on+re.height/2]),2),vd=yd[0],Yu=yd[1],Xa=Math.max(_t,20),Ya=[];Fo<0?Ya=[Xa,0]:vd>ye.width?Ya=[-Xa,0]:ss<0?Ya=[0,Xa]:Yu>ye.height&&(Ya=[0,-Xa]),y.t&&Gp(y.t);var lx=new zn(-Ft,-on).rotate(re.rotate).translate(Ft,on).toString();re.gMatrix=lx;var gd=Je.map(function(bd){return bd.id});gd.indexOf(re.id)===-1&&(gd=[re.id]),Ya.length>0&&!xe&&Te?y.t=Yb(function(){var bd=Kp(Ya,2),Im=bd[0],Lm=bd[1];$e.translate(Im,Lm);var fx=-Im/$e.SCALE_X,px=-Lm/$e.SCALE_X;ye.moveNodes(gd,fx,px)}):ye.moveNodes(gd,Ft-re.x,on-re.y)}}else ye.moveNode2Coordinate(re.id,Ft,on)}),Yr(Rr(y),"onDragEnd",function(){y.t&&Gp(y.t),y.props.model.isDragging=!1}),Yr(Rr(y),"handleClick",function(I){if(y.startTime&&!(new Date().getTime()-y.startTime>200)){var X=y.props,Z=X.model,re=X.graphModel,ye={data:Z.getData(),e:I,position:re.getPointByClient({x:I.clientX,y:I.clientY}),isSelected:!1,isMultiple:!1},be=I.button===2,xe=I.detail===2;if(!be){var Te=re.editConfigModel,$e=No(I,Te);ye.isMultiple=$e,Z.isSelected&&!xe&&$e?(ye.isSelected=!1,Z.setSelected(!1)):(re.selectNodeById(Z.id,$e),ye.isSelected=!0,y.toFront()),xe?(Te.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),re.setElementStateById(Z.id,un.TEXT_EDIT)),re.eventCenter.emit(ft.NODE_DBCLICK,ye)):(re.eventCenter.emit(ft.ELEMENT_CLICK,ye),re.eventCenter.emit(ft.NODE_CLICK,ye))}}}),Yr(Rr(y),"handleContextMenu",function(I){I.preventDefault();var X=y.props,Z=X.model,re=X.graphModel,ye=Z.getData(),be=re.getPointByClient({x:I.clientX,y:I.clientY});re.setElementStateById(Z.id,un.SHOW_MENU,be.domOverlayPosition),Z.isSelected||re.selectNodeById(Z.id),re.eventCenter.emit(ft.NODE_CONTEXTMENU,{data:ye,e:I,position:be}),y.toFront()}),Yr(Rr(y),"handleMouseDown",function(I){var X=y.props,Z=X.model,re=X.graphModel;y.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&Z.draggable&&y.stepDrag&&y.stepDrag.handleMouseDown(I)}),Yr(Rr(y),"setHoverON",function(I){var X=y.props,Z=X.model,re=X.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),re.eventCenter.emit(ft.NODE_MOUSEENTER,{data:ye,e:I})}}),Yr(Rr(y),"setHoverOFF",function(I){var X=y.props,Z=X.model,re=X.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),re.eventCenter.emit(ft.NODE_MOUSELEAVE,{data:ye,e:I}))}),Yr(Rr(y),"onMouseOut",function(I){dO&&y.setHoverOFF(I)});var b=c.graphModel,x=b.gridSize,S=b.eventCenter,k=c.model;return y.stepDrag=new Io({onDragStart:y.onDragStart,onDragging:y.onDragging,onDragEnd:y.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:k}),y}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,y=this.props,b=y.model,x=y.graphModel,S=b.isSelected,k=b.isHitable,I=b.isDragging,X=b.isShowAnchor;return k&&(S||X)&&!I?ac(b.anchors,function(Z,re){var ye=b.getAnchorLineStyle(Z),be=b.getAnchorStyle(Z);return Object(fe.g)(iO,{anchorData:Z,node:c,style:be,edgeStyle:ye,anchorIndex:re,nodeModel:b,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,y=c.model,b=c.graphModel,x=y.isSelected,S=y.isHitable,k=y.enableRotate,I=y.isHovered,X=y.getRotateControlStyle().style;if(S&&(x||I)&&k)return Object(fe.g)(gO,{graphModel:b,nodeModel:y,eventCenter:b.eventCenter,style:X})}},{key:"getText",value:function(){var c=this.props,y=c.model,b=c.graphModel;if(y.state===un.TEXT_EDIT)return"";if(y.text){var x=b.editConfigModel,S=!1;return(y.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(fe.g)(Jb,{editable:x.nodeTextEdit&&y.text.editable,model:y,graphModel:b,draggable:S})}}},{key:"getStateClassName",value:function(){var c=this.props.model,y=c.state,b=c.isDragging,x=c.isSelected,S="lf-node";switch(y){case un.ALLOW_CONNECT:S+=" lf-node-allow";break;case un.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return b&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var c=this.props,y=c.model,b=c.graphModel;b.overlapMode!==gn.INCREASE&&y.autoToFront&&b.toFront(y.id)}},{key:"render",value:function(){var c,y=this.props,b=y.model,x=y.graphModel,S=x.editConfigModel,k=S.hideAnchors,I=S.adjustNodePosition,X=S.allowRotation,Z=x.gridSize,re=x.transformModel.SCALE_X,ye=b.isHitable,be=b.draggable,xe=b.gMatrix,Te=b.getOuterGAttributes(),$e=Te.className,Je=$e===void 0?"":$e,mt=mO(Te,bO),qe=Object(fe.g)("g",{className:"lf-node-content"},Object(fe.g)("g",xe&&{transform:xe},this.getShape(),this.getText(),X&&this.getRotateControl()),!k&&this.getAnchors());return ye?(I&&be&&this.stepDrag.setStep(Z*re),c=Object(fe.g)("g",Wp({className:"".concat(this.getStateClassName()," ").concat(Je,"}"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},mt),qe)):c=Object(fe.g)("g",Wp({className:"".concat(this.getStateClassName()," ").concat(Je)},mt),qe),c}}])&&tm(e.prototype,n),r&&tm(e,r),i}(fe.a);function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function My(){return My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function wO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function EO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zp(t);if(e){var a=Zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(t)}var Dy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=EO(a);function a(){return wO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(Ba,My({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&xO(e.prototype,n),a}(Qi);function Ny(t){return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function Cy(){return Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function jO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ry(t,e)}function AO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qp(t);if(e){var a=qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qp(t)}var Iy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ry(i,c)})(a,t);var e,n,r=AO(a);function a(){return jO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,y=i.y,b=i.r,x=i.getNodeStyle();return Object(fe.g)(Zc,Cy({},x,{x:c,y,r:b}))}}])&&PO(e.prototype,n),a}(Qi);function Ly(t){return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function MO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return nm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rm(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=MO(a,2),c=i[0],y=i[1];Ly(y)!=="object"&&(r[c]=y)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(fe.g)("polygon",r)}function zy(t){return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function By(){return By=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function kO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fy(t,e){return Fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fy(t,e)}function NO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jp(t);if(e){var a=Jp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(t,e){if(e&&(zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jp(t)}var Uy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Fy(i,c)})(a,t);var e,n,r=NO(a);function a(){return kO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,y=i.y,b=i.width,x=i.height,S=i.points,k=i.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(c-b/2," ").concat(y-x/2,")")};return Object(fe.g)("g",I,Object(fe.g)(rm,By({},k,{points:S,x:c,y})))}}])&&DO(e.prototype,n),a}(Qi);function Gy(t){return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function Hy(){return Hy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function RO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xy(t,e){return Xy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xy(t,e)}function LO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qp(t);if(e){var a=Qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zO(this,n)}}function zO(t,e){if(e&&(Gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(t)}var Yy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Xy(i,c)})(a,t);var e,n,r=LO(a);function a(){return RO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(rm,Hy({},c,{points:i.points,x:i.x,y:i.y})))}}])&&IO(e.prototype,n),a}(Qi);function Vy(t){return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function BO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return om(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return om(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function om(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FO(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,y=t.ry,b=y===void 0?4:y,x=t.className,S={cx:n,cy:a,rx:c,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(k){var I=BO(k,2),X=I[0],Z=I[1];Vy(Z)!=="object"&&(S[X]=Z)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(fe.g)("ellipse",S)}function Wy(t){return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function Ky(){return Ky=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(this,arguments)}function UO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $y(t,e){return $y=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$y(t,e)}function HO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ed(t);if(e){var a=ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(t,e){if(e&&(Wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}var Zy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&$y(i,c)})(a,t);var e,n,r=HO(a);function a(){return UO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(fe.g)(FO,Ky({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&GO(e.prototype,n),a}(Qi);function qy(t){return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?im(Object(n),!0).forEach(function(r){YO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e){return Jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jy(t,e)}function KO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=td(t);if(e){var a=td(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(qy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}var Qy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Jy(i,c)})(a,t);var e,n,r=KO(a);function a(){return VO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),y=i.width,b=i.height,x=i.x,S=i.y,k=am(am({},c.background),{},{x,y:S-1,width:y,height:b});return Object(fe.g)(Ba,k)}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackground())}}])&&WO(e.prototype,n),a}(Qi);function ev(t){return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function ZO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function JO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nd(t);if(e){var a=nd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return QO(this,n)}}function QO(t,e){if(e&&(ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wl(t)}function Wl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nd(t)}function rd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&nv(i,c)})(a,t);var e,n,r=JO(a);function a(){var i;ZO(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return rd(Wl(i=r.call.apply(r,[this].concat(y))),"ref",void 0),rd(Wl(i),"currentProperties",void 0),rd(Wl(i),"preProperties",void 0),rd(Wl(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,y=i.y,b=i.height,x=i.width,S=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(fe.g)("foreignObject",tv({},S,{x:c-x/2,y:y-b/2,width:x,height:b,ref:this.setRef}))}}])&&qO(e.prototype,n),a}(Qi);function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?um(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ew(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},av(t,e)}function tw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=od(t);if(e){var a=od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nw(this,n)}}function nw(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uv(t)}function uv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}function cv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ai,rw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&av(i,c)})(a,t);var e,n,r=tw(a);function a(i){var c;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),cv(uv(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),cv(uv(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),y=i.text,b=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Hu(Hu({},x),c.hover.background)),y&&y.value&&x.fill!=="transparent"){var S,k=c.fontSize,I=c.overflowMode,X=c.lineHeight,Z=c.wrapPadding,re=c.textWidth,ye=y.value,be=y.x,xe=y.y,Te=String(ye).split(/[\r\n]/g),$e=Te.length;if(I==="autoWrap"&&re){var Je=qf({rows:Te,style:{fontSize:"".concat(k,"px"),width:"".concat(re,"px"),lineHeight:X,padding:Z},rowsLength:$e,className:"lf-get-text-height"});S=Hu(Hu({},x),{},{x:be-1,y:xe-1,width:re,height:Je})}else{Te&&Te.forEach(function(qt){Tl(qt)});var mt=al({rows:Te,fontSize:k,rowsLength:$e}),qe=mt.width,_t=mt.height;if(I==="ellipsis"&&(qe=re||b,_t=k+2),typeof x.wrapPadding=="string"){var tt=x.wrapPadding.split(",").filter(function(qt){return qt.trim()}).map(function(qt){return parseFloat(qt.trim())});tt.length>0&&tt.length<=4&&(tt.length===1?tt=[tt[0],tt[0],tt[0],tt[0]]:tt.length===2?tt=[tt[0],tt[1],tt[0],tt[1]]:tt.length===3&&(tt=[tt[0],tt[1],tt[2],tt[1]]),qe+=tt[1]+tt[3],_t+=tt[0]+tt[2],be+=(tt[1]-tt[3])/2,xe+=(tt[2]-tt[0])/2)}S=Hu(Hu({},x),{},{x:be-1,y:xe-1,width:qe,height:_t})}return Object(fe.g)(Ba,S)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,y=c.value,b=c.x,x=c.y;if(y){var S=Hu({x:b,y:x,className:"lf-element-text",value:y},i.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(fe.g)(Zb,iv({},S,{model:i})))}}}])&&ew(e.prototype,n),a}(Jb);function sv(t){return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cm(Object(n),!0).forEach(function(r){bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ow(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return sm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lv(t,e)}function aw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=id(t);if(e){var a=id(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uw(this,n)}}function uw(t,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(t)}function go(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},id(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ai||(Ai={}));var lm=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&lv(i,c)})(a,t);var e,n,r=aw(a);function a(i){var c;(function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")})(this,a),bo(go(c=r.call(this)),"stepDragData",void 0),bo(go(c),"stepDrag",void 0),bo(go(c),"oldEdge",void 0),bo(go(c),"preTargetNode",void 0),bo(go(c),"targetRuleResults",void 0),bo(go(c),"sourceRuleResults",void 0),bo(go(c),"handleMouseDown",function(S){c.stepDrag&&c.stepDrag.handleMouseDown(S)}),bo(go(c),"onDragStart",function(){var S=c.props,k=S.x,I=S.y,X=S.edgeModel,Z=X.startPoint,re=X.endPoint,ye=X.pointsList;c.oldEdge={startPoint:Z,endPoint:re,pointsList:ye},c.setState({endX:k,endY:I,dragging:!0})}),bo(go(c),"onDragging",function(S){var k=S.deltaX,I=S.deltaY,X=c.state,Z=X.endX,re=X.endY,ye=c.props,be=ye.graphModel,xe=ye.type,Te=be.transformModel,$e=be.editConfigModel,Je=ow(Te.moveCanvasPointByHtml([Z,re],k,I),2),mt=Je[0],qe=Je[1];c.setState({endX:mt,endY:qe,dragging:!0});var _t=c.props.edgeModel,tt=Ui({x:Z,y:re},be);if(tt&&tt.node&&c.isAllowAdjust(tt).pass){var qt,en=_t.startPoint,Ft=_t.endPoint,on=_t.sourceNode,Hn=_t.targetNode;xe===Ai.SOURCE?qt={startPoint:{x:tt.anchor.x,y:tt.anchor.y},endPoint:{x:Ft.x,y:Ft.y},sourceNode:tt.node,targetNode:Hn}:xe===Ai.TARGET&&(qt={startPoint:{x:en.x,y:en.y},endPoint:{x:tt.anchor.x,y:tt.anchor.y},sourceNode:on,targetNode:tt.node}),_t.updateAfterAdjustStartAndEnd(qt)}else xe===Ai.SOURCE?_t.updateStartPoint({x:mt,y:qe}):xe===Ai.TARGET&&_t.updateEndPoint({x:mt,y:qe});_t.text.value&&$e.adjustEdge&&_t.setText(Object.assign({},_t.text,_t.textPosition))}),bo(go(c),"onDragEnd",function(S){var k=S.event;try{var I;c.setState({dragging:!1});var X=c.props,Z=X.graphModel,re=X.edgeModel,ye=X.type,be=c.state,xe=be.endX,Te=be.endY,$e=be.dragging,Je=Ui({x:xe,y:Te},Z);if(!$e)return;var mt,qe=!1;if(Je&&Je.node){var _t=c.isAllowAdjust(Je),tt=_t.pass,qt=_t.msg,en=_t.newTargetNode;if(tt){var Ft,on=re.getData();mt=ea(ea({},on),{},{sourceAnchorId:"",targetAnchorId:"",text:(on==null||(Ft=on.text)===null||Ft===void 0?void 0:Ft.value)||""}),ye===Ai.SOURCE?(mt=ea(ea({},Z.edgeGenerator(Z.getNodeModelById(Je.node.id).getData(),Z.getNodeModelById(re.targetNodeId).getData(),mt)),{},{sourceNodeId:Je.node.id,sourceAnchorId:Je.anchor.id,startPoint:{x:Je.anchor.x,y:Je.anchor.y},targetNodeId:re.targetNodeId,endPoint:ea({},re.endPoint)}),re.sourceNodeId===Je.node.id&&re.sourceAnchorId===Je.anchor.id&&(qe=!0)):ye===Ai.TARGET&&(mt=ea(ea({},Z.edgeGenerator(Z.getNodeModelById(re.sourceNodeId).getData(),Z.getNodeModelById(Je.node.id).getData(),mt)),{},{sourceNodeId:re.sourceNodeId,startPoint:ea({},re.startPoint),targetNodeId:Je.node.id,targetAnchorId:Je.anchor.id,endPoint:{x:Je.anchor.x,y:Je.anchor.y}}),re.targetNodeId===Je.node.id&&re.targetAnchorId===Je.anchor.id&&(qe=!0))}else{qe=!0;var Hn=en.getData();Z.eventCenter.emit(ft.CONNECTION_NOT_ALLOWED,{data:Hn,msg:qt})}}else qe=!0;if(qe)c.recoveryEdge();else{var Xn=re.getData();Z.deleteEdgeById(re.id);var Vr=Z.addEdge(ea({},mt));Z.eventCenter.emit(ft.EDGE_EXCHANGE_NODE,{data:{newEdge:Vr.getData(),oldEdge:Xn}})}(I=c.preTargetNode)===null||I===void 0||I.setElementState(un.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(ft.ADJUST_POINT_DRAGEND,{e:k,data:c.stepDragData})}}),bo(go(c),"recoveryEdge",function(){var S=c.props.edgeModel,k=c.oldEdge,I=k.startPoint,X=k.endPoint,Z=k.pointsList;S.updateStartPoint(I),S.updateEndPoint(X),S.modelType!==Yt.LINE_EDGE&&(S.pointsList=Z,S.initPoints())}),bo(go(c),"getAdjustPointStyle",function(){var S=c.props,k=S.graphModel.theme;return S.edgeModel,k.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var y=i.type,b=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:y,edgeData:b.getData()},c.stepDrag=new Io({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,y=c.edgeModel,b=y.id,x=y.sourceNode,S=y.targetNode,k=y.sourceAnchorId,I=y.targetAnchorId,X=c.type,Z=null,re=null,ye=null,be=null;if(X===Ai.SOURCE?(Z=i.node,re=S,ye=i.anchor,be=S.getAnchorInfo(I)):(Z=x,re=i.node,be=i.anchor,ye=x.getAnchorInfo(k)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(un.DEFAULT),this.preTargetNode=i.node,be.id===ye.id)return{pass:!1,msg:"",newTargetNode:re};var xe="".concat(Z.id,"_").concat(re.id,"_").concat(ye.id,"_").concat(be.id);if(!this.targetRuleResults.has(xe)){var Te=Z.isAllowConnectedAsSource(re,ye,be,b),$e=re.isAllowConnectedAsTarget(Z,ye,be,b);this.sourceRuleResults.set(xe,Pu(Te)),this.targetRuleResults.set(xe,Pu($e))}var Je=this.sourceRuleResults.get(xe),mt=Je.isAllPass,qe=Je.msg,_t=this.targetRuleResults.get(xe),tt=_t.isAllPass,qt=_t.msg,en=mt&&tt?un.ALLOW_CONNECT:un.NOT_ALLOW_CONNECT;return X===Ai.SOURCE?Z.setElementState(en):re.setElementState(en),{pass:mt&&tt,msg:qt||qe,newTargetNode:re}}},{key:"render",value:function(){var i=this.props,c=i.x,y=i.y,b=i.getAdjustPointShape,x=i.edgeModel,S=this.state.dragging;return Object(fe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":b(c,y,x))}}])&&iw(e.prototype,n),a}(fe.a);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function Kl(){return Kl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}function cw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return fm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pv(t,e)}function fw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ad(t);if(e){var a=ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pw(this,n)}}function pw(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $l=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&pv(i,c)})(a,t);var e,n,r=fw(a);function a(){var i;sw(this,a);for(var c=arguments.length,y=new Array(c),b=0;b<c;b++)y[b]=arguments[b];return Ti(ii(i=r.call.apply(r,[this].concat(y))),"startTime",void 0),Ti(ii(i),"contextMenuTime",void 0),Ti(ii(i),"clickTimer",void 0),Ti(ii(i),"textRef",Object(fe.f)()),Ti(ii(i),"handleHover",function(x,S){var k=i.props,I=k.model,X=k.graphModel.eventCenter;I.setHovered(x);var Z=x?ft.EDGE_MOUSEENTER:ft.EDGE_MOUSELEAVE,re=I.getData();X.emit(Z,{data:re,e:S})}),Ti(ii(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Ti(ii(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Ti(ii(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var S=i.props,k=S.model,I=S.graphModel,X=I.getPointByClient({x:x.clientX,y:x.clientY});I.setElementStateById(k.id,un.SHOW_MENU,X.domOverlayPosition),i.toFront(),k.isSelected||I.selectEdgeById(k.id);var Z=k==null?void 0:k.getData();I.eventCenter.emit(ft.EDGE_CONTEXTMENU,{data:Z,e:x,position:X})}),Ti(ii(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Ti(ii(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var S=x.detail===2,k=i.props,I=k.model,X=k.graphModel,Z=I==null?void 0:I.getData(),re=X.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ye=X.editConfigModel,be=X.textEditElement;if(be&&be.id===I.id&&X.setElementStateById(I.id,un.DEFAULT),ye.edgeTextEdit&&I.text.editable&&X.setElementStateById(I.id,un.TEXT_EDIT),I.modelType===Yt.POLYLINE_EDGE){var xe=I,Te=X.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,$e=Te.x,Je=Te.y,mt=kl({x:$e,y:Je},xe.points);xe.dbClickPosition=mt}X.eventCenter.emit(ft.EDGE_DBCLICK,{data:Z,e:x,position:re})}else X.eventCenter.emit(ft.ELEMENT_CLICK,{data:Z,e:x,position:re}),X.eventCenter.emit(ft.EDGE_CLICK,{data:Z,e:x,position:re});var qe=X.editConfigModel;X.selectEdgeById(I.id,No(x,qe)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,y=i.graphModel;if(c.state===un.TEXT_EDIT)return null;var b=!1,x=y.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(fe.g)(rw,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:y,draggable:b})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,y=i.endPoint,b=i.isSelected;return{start:c,end:y,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,y=i.getArrowStyle(),b=y.refY,x=b===void 0?0:b,S=y.refX,k=S===void 0?2:S,I=cw(this.getLastTwoPoints(),2),X=I[0],Z=I[1],re="auto";return X!==null&&Z!==null&&(re=In(Or({x:Z.x-X.x,y:Z.y-X.y,z:0}))),Object(fe.g)("g",null,Object(fe.g)("defs",null,Object(fe.g)("marker",{id:"marker-start-".concat(c),refX:-k,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(fe.g)("marker",{id:"marker-end-".concat(c),refX:k,refY:x,overflow:"visible",orient:re,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(fe.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,y=i.strokeWidth,b=i.offset,x=i.verticalLength;return Object(fe.g)("path",{stroke:c,fill:c,strokeWidth:y,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,y){var b=y.getAdjustPointStyle();return Object(fe.g)(Zc,Kl({className:"lf-edge-adjust-point"},b,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,y=i.graphModel,b=c.getAdjustStart(),x=c.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(lm,Kl({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:y})),Object(fe.g)(lm,Kl({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:y})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,y=i.model;c.overlapMode!==gn.INCREASE&&c.toFront(y.id)}},{key:"render",value:function(){var i=this.props,c=i.model,y=c.isSelected,b=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!b&&"pointer-none",y&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&y?this.getAdjustPoints():"")}}])&&lw(e.prototype,n),a}(fe.a);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function dw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return pm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zl=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=dw(n,2),a=r[0],i=r[1],c=dv(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(fe.g)("path",e)};function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function yv(){return yv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(this,arguments)}function hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vv(t,e){return vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vv(t,e)}function vw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ud(t);if(e){var a=ud(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gw(this,n)}}function gw(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}var gv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&vv(i,c)})(a,t);var e,n,r=vw(a);function a(){return hw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,y=i.endPoint,b=i.isAnimation,x=i.arrowConfig,S=i.getEdgeStyle(),k=i.getEdgeAnimationStyle(),I=k.strokeDasharray,X=k.stroke,Z=k.strokeDashoffset,re=k.animationName,ye=k.animationDuration,be=k.animationIterationCount,xe=k.animationTimingFunction,Te=k.animationDirection;return Object(fe.g)(Kc,yv({},S,{x1:c.x,y1:c.y,x2:y.x,y2:y.y},x,b?{strokeDasharray:I,stroke:X,style:{strokeDashoffset:Z,animationName:re,animationDuration:ye,animationIterationCount:be,animationTimingFunction:xe,animationDirection:Te}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,y=i.endPoint,b=Ml({start:c,end:y}),x=b.d,S=b.strokeWidth,k=b.fill,I=b.strokeDasharray,X=b.stroke;return Object(fe.g)(Zl,{d:x,fill:k,strokeWidth:S,stroke:X,strokeDasharray:I})}}])&&yw(e.prototype,n),a}($l);function bv(t){return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function bw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return dm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=bw(n,2),a=r[0],i=r[1];(a==="style"||bv(i)!=="object")&&(e[a]=i)}),Object(fe.g)("polyline",e)};function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hm(Object(n),!0).forEach(function(r){na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _v(){return _v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function _w(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return ym(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ym(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ym(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function ww(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xw(this,n)}}function xw(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}function ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ov(i,c)})(a,t);var e,n,r=ww(a);function a(){var i;return function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}(this,a),na(ta(i=r.call(this)),"drag",void 0),na(ta(i),"isDragging",void 0),na(ta(i),"isShowAdjustPointTemp",void 0),na(ta(i),"appendInfo",void 0),na(ta(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),na(ta(i),"onDragging",function(c){var y=c.deltaX,b=c.deltaY,x=i.props,S=x.model,k=x.graphModel;i.isDragging=!0;var I=k.transformModel,X=k.editConfigModel,Z=_w(I.fixDeltaXY(y,b),2),re=Z[0],ye=Z[1],be=S,xe=X.adjustEdgeMiddle;i.appendInfo=xe?be.dragAppendSimple(i.appendInfo,{x:re,y:ye}):be.dragAppend(i.appendInfo,{x:re,y:ye})}),na(ta(i),"onDragEnd",function(){var c=i.props,y=c.model,b=c.graphModel.eventCenter,x=y;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,b.emit(ft.EDGE_ADJUST,{data:x.getData()})}),na(ta(i),"beforeDragStart",function(c,y){y.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=y}),i.drag=new Io({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,y=i.isAnimation,b=i.arrowConfig,x=i.getEdgeStyle(),S=i.getEdgeAnimationStyle(),k=S.strokeDasharray,I=S.stroke,X=S.strokeDashoffset,Z=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,be=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)(mw,_v({points:c},x,b,y?{strokeDasharray:k,stroke:I,style:{strokeDashoffset:X,animationName:Z,animationDuration:re,animationIterationCount:ye,animationTimingFunction:be,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,y=i.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:y},x=Oi(c);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Oi(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,y=i.start,b=i.end;if(y.x===b.x&&y.y===b.y)c="";else{var x={start:y,end:b,offset:10,verticalLength:5},S=Mu(cd(cd({},x),{},{type:"start"})),k=Mu(cd(cd({},x),{},{type:"end"}));c="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(k.rightX," ").concat(k.rightY,`
      L`).concat(k.leftX," ").concat(k.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),y=c.d,b=c.strokeWidth,x=c.fill,S=c.strokeDasharray,k=c.stroke;return Object(fe.g)(Zl,{d:y,fill:x,strokeWidth:b,stroke:k,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,y=c.model,b=c.graphModel,x=y.pointsList,S=y.draggable,k=[],I=x.length,X=function(re){var ye="lf-polyline-append",be={start:{x:x[re].x,y:x[re].y},end:{x:x[re+1].x,y:x[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},xe=Object(fe.g)("g",{className:ye},i.getAppendShape(be)),Te=b.editConfigModel,$e=Te.adjustEdge,Je=Te.adjustEdgeMiddle;if($e&&S){var mt=be.startIndex,qe=be.endIndex,_t=Je&&(mt===0||qe===I-1);be.dragAble=!_t,be.start.x===be.end.x?(be.dragAble&&(ye+="-ew-resize"),be.direction=vn.VERTICAL):be.start.y===be.end.y&&(be.dragAble&&(ye+="-ns-resize"),be.direction=vn.HORIZONTAL),xe=Object(fe.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(tt){return i.beforeDragStart(tt,be)}},Object(fe.g)("g",{className:ye},i.getAppendShape(be)))}k.push(xe)},Z=0;Z<I-1;Z++)X(Z);return Object(fe.g)("g",null,k)}}])&&Ow(e.prototype,n),a}($l);function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Ew(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ev(){return Ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function Sw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e){return Sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sv(t,e)}function Pw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ld(t);if(e){var a=ld(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Aw(this,n)}}function Aw(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(t)}var jv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sv(i,c)})(a,t);var e,n,r=Pw(a);function a(){return Sw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),y=i.path,b=i.isAnimation,x=i.arrowConfig,S=i.getEdgeAnimationStyle(),k=S.strokeDasharray,I=S.stroke,X=S.strokeDashoffset,Z=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,be=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)(Zl,Ev({d:y},c,x,b?{strokeDasharray:k,stroke:I,style:{strokeDashoffset:X,animationName:Z,animationDuration:re,animationIterationCount:ye,animationTimingFunction:be,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(fe.g)(Zl,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,y=i.isSelected,b=i.getArrowStyle().offset,x=i.pointsList.map(function(k){return{x:k.x,y:k.y}}),S=Ew(Uc(x,b),2);return{start:S[0],end:S[1],hover:c,isSelected:y}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,y=i.pointsList.map(function(b){return{x:b.x,y:b.y}});return Uc(y,c)}}])&&jw(e.prototype,n),a}($l);function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Av(t,e)}function Dw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fd(t);if(e){var a=fd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(t)}var Cw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Av(i,c)})(a,t);var e,n,r=Dw(a);function a(){return Mw(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,y=i.style,b=c.start,x=c.end,S={start:b,end:x,offset:y.offset,verticalLength:y.verticalLength,type:"end"},k=Mu(S),I=k.leftX,X=k.leftY,Z=k.rightX,re=k.rightY;return function(ye){for(var be=1;be<arguments.length;be++){var xe=arguments[be]!=null?arguments[be]:{};be%2?gm(Object(xe),!0).forEach(function(Te){Tw(ye,Te,xe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):gm(Object(xe)).forEach(function(Te){Object.defineProperty(ye,Te,Object.getOwnPropertyDescriptor(xe,Te))})}return ye}({d:"M".concat(I," ").concat(X," L").concat(x.x," ").concat(x.y," L").concat(Z," ").concat(re," z")},y)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,y=i.strokeWidth,b=i.stroke,x=i.fill;return Object(fe.g)(Zl,{d:c,fill:x,strokeWidth:y,stroke:b})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&kw(e.prototype,n),a}(fe.a),bm=function(t,e){return Ee(t,e)},Rw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Tv=function(){return lt.a.Date.now()},Iw=/\s/,Lw=function(t){for(var e=t.length;e--&&Iw.test(t.charAt(e)););return e},zw=/^\s+/,Bw=function(t){return t&&t.slice(0,Lw(t)+1).replace(zw,"")},Fw=/^[-+]0x[0-9a-f]+$/i,Uw=/^0b[01]+$/i,Gw=/^0o[0-7]+$/i,Hw=parseInt,mm=function(t){if(typeof t=="number")return t;if(Lt(t))return NaN;if(jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bw(t);var n=Uw.test(t);return n||Gw.test(t)?Hw(t.slice(2),n?2:8):Fw.test(t)?NaN:+t},Xw=Math.max,Yw=Math.min,Vw=function(t,e,n){var r,a,i,c,y,b,x=0,S=!1,k=!1,I=!0;if(typeof t!="function")throw new TypeError("Expected a function");function X(Te){var $e=r,Je=a;return r=a=void 0,x=Te,c=t.apply(Je,$e)}function Z(Te){return x=Te,y=setTimeout(ye,e),S?X(Te):c}function re(Te){var $e=Te-b;return b===void 0||$e>=e||$e<0||k&&Te-x>=i}function ye(){var Te=Tv();if(re(Te))return be(Te);y=setTimeout(ye,function($e){var Je=e-($e-b);return k?Yw(Je,i-($e-x)):Je}(Te))}function be(Te){return y=void 0,I&&r?X(Te):(r=a=void 0,c)}function xe(){var Te=Tv(),$e=re(Te);if(r=arguments,a=this,b=Te,$e){if(y===void 0)return Z(b);if(k)return clearTimeout(y),y=setTimeout(ye,e),X(b)}return y===void 0&&(y=setTimeout(ye,e)),c}return e=mm(e)||0,jn(n)&&(S=!!n.leading,i=(k="maxWait"in n)?Xw(mm(n.maxWait)||0,e):i,I="trailing"in n?!!n.trailing:I),xe.cancel=function(){y!==void 0&&clearTimeout(y),x=0,r=b=a=y=void 0},xe.flush=function(){return y===void 0?c:be(Tv())},xe},Ww=o(172);function Kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ha(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _m,Om,wm,$w=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ha(this,"undos",[]),Ha(this,"redos",[]),Ha(this,"callbacks",[]),Ha(this,"stopWatch",null),Ha(this,"curData",null),Ha(this,"maxSize",50),Ha(this,"waitTime",100),Ha(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){bm(Rw(this.undos),r)||(this.undos.push(r),bm(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ft.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=xn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=xn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Ww.a)(r,Vw(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Kw(e.prototype,n),t}();function Mv(t){return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function Zw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||function(n,r){if(n){if(typeof n=="string")return xm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Em(Object(n),!0).forEach(function(r){Xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kv(t,e){return kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kv(t,e)}function qw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pd(t);if(e){var a=pd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jw(this,n)}}function Jw(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cs(t)}function cs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(t)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jm,Pm,Am,Dv=ai((wm=Om=function(t){(function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),y&&kv(c,y)})(i,t);var e,n,r,a=qw(i);function i(){var c;return function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),Xu(cs(c=a.call(this)),"ref",Object(fe.f)()),Xu(cs(c),"__prevText",{type:"",text:"",id:""}),Xu(cs(c),"keyupHandler",function(y){var b=c.props.graphModel.textEditElement;y.key==="Enter"&&y.altKey&&b.setElementState(0)}),Xu(cs(c),"inputHandler",function(y){var b=y.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Xu(cs(c),"keydownHandler",function(y){y.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var y,b=c.graphModel,x=b.transformModel,S=b.theme,k=b.textEditElement;if(k){var I;if((I=k.text)===null||I===void 0||!I.value)if(k.BaseType===Gn.EDGE){var X=(k=k).text,Z=k.textPosition,re=Z.x,ye=Z.y;X.x=re,X.y=ye,k.setText(X)}else k=k;var be={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(k.BaseType===Gn.EDGE){var xe=S.edgeText,Te=xe.overflowMode,$e=xe.lineHeight,Je=xe.wrapPadding,mt=xe.textWidth;mt&&Te==="autoWrap"&&(y=us(us({},be),{},{width:mt,minWidth:mt,lineHeight:$e,padding:Je}))}else if(k.BaseType===Gn.NODE){var qe=S.nodeText,_t=qe.overflowMode,tt=qe.lineHeight,qt=qe.wrapPadding,en=qe.textWidth,Ft=k,on=Ft.width,Hn=Ft.modelType;(Hn!==Yt.TEXT_NODE&&_t==="autoWrap"||Hn===Yt.TEXT_NODE&&en)&&(y=us(us({},be),{},{width:en||on,minWidth:en||on,lineHeight:tt,padding:qt}))}var Xn=k.text,Vr=Xn.x,Mi=Xn.y,Fo=Zw(x.CanvasPointToHtmlPoint([Vr,Mi]),2);return{style:us({left:Fo[0],top:Fo[1]},y)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var y=this.__prevText,b=y.text,x=y.id;c.updateText(x,b),c.eventCenter.emit(ft.TEXT_UPDATE,us({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var y=document.createRange();y.selectNodeContents(c),y.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(y)}}},{key:"render",value:function(){var c,y=this.props.graphModel.textEditElement,b=this.state.style;return y?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:y.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=y.text)===null||c===void 0?void 0:c.value):null}}])&&Sm(e.prototype,n),r&&Sm(e,r),i}(fe.a),Xu(Om,"toolName","textEdit"),_m=wm))||_m,Qw=function(t){return t.modelType===Yt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,y=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-y/2,x1:a+c/2,y1:i+y/2}}(t):t.modelType===Yt.POLYLINE_EDGE?function(e){var n=e.points,r=Oi(n),a=Ca(r,8),i=a.x,c=a.y,y=a.width,b=a.height;return{x:i-y/2,y:c-b/2,x1:i+y/2,y1:c+b/2}}(t):t.modelType===Yt.BEZIER_EDGE?function(e){var n=e.path,r=Fc(n),a=Ca(r,8),i=a.x,c=a.y,y=a.width,b=a.height;return{x:i-y/2,y:c-b/2,x1:i+y/2,y1:c+b/2}}(t):void 0};function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function Tm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,y=[],b=!0,x=!1;try{for(a=a.call(n);!(b=(i=a.next()).done)&&(y.push(i.value),!r||y.length!==r);b=!0);}catch(S){x=!0,c=S}finally{try{b||a.return==null||a.return()}finally{if(x)throw c}}return y}}(t,e)||Mm(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ex(t){return function(e){if(Array.isArray(e))return Cv(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Mm(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mm(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cv(t,e):void 0}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(t,e)}function nx(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rx(this,n)}}function rx(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ql(t)}function ql(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}function Jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Iv=ai((Am=Pm=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Rv(i,c)})(a,t);var e,n,r=nx(a);function a(i){var c;(function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")})(this,a),Jl(ql(c=r.call(this)),"stepDrag",void 0),Jl(ql(c),"handleMouseDown",function(S){c.stepDrag.handleMouseDown(S)}),Jl(ql(c),"onDragging",function(S){var k=S.deltaX,I=S.deltaY,X=c.props.graphModel,Z=X.getSelectElements(!0);X.moveNodes(Z.nodes.map(function(re){return re.id}),k,I)}),Jl(ql(c),"handleContextMenu",function(S){S.preventDefault();var k=c.props,I=k.graphModel,X=k.graphModel,Z=X.eventCenter,re=X.selectElements,ye=I.getPointByClient({x:S.clientX,y:S.clientY}),be={nodes:[],edges:[]};ex(re.values()).forEach(function(xe){xe.BaseType===Gn.NODE&&be.nodes.push(xe.getData()),xe.BaseType===Gn.EDGE&&be.edges.push(xe.getData())}),Z.emit(ft.SELECTION_CONTEXTMENU,{data:be,e:S,position:ye})});var y=i.graphModel,b=y.gridSize,x=y.eventCenter;return c.stepDrag=new Io({onDragging:c.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,y=i.transformModel;if(!(c.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER;c.forEach(function(re){var ye={x:0,y:0,x1:0,y1:0};re.BaseType===Gn.NODE&&(ye=function(be){var xe=be.x,Te=be.y,$e=be.width,Je=be.height;return{x:xe-$e/2,y:Te-Je/2,x1:xe+$e/2,y1:Te+Je/2}}(re)),re.BaseType===Gn.EDGE&&(ye=Qw(re)),b=Math.min(b,ye.x),x=Math.min(x,ye.y),S=Math.max(S,ye.x1),k=Math.max(k,ye.y1)});var I=Tm(y.CanvasPointToHtmlPoint([b,x]),2);b=I[0],x=I[1];var X=Tm(y.CanvasPointToHtmlPoint([S,k]),2);S=X[0],k=X[1];var Z={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-b+20,"px"),height:"".concat(k-x+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&tx(e.prototype,n),a}(fe.a),Jl(Pm,"toolName","multipleSelect"),jm=Am))||jm;function ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ix=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),hd(this,"tools",void 0),hd(this,"components",void 0),hd(this,"toolMap",new Map),hd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Dv.toolName)||this.registerTool(Dv.toolName,Dv),this.isDisabledTool(Iv.toolName)||this.registerTool(Iv.toolName,Iv);var a=r.graphModel;a.eventCenter.on("".concat(ft.GRAPH_TRANSFORM,",").concat(ft.NODE_CLICK,",").concat(ft.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,y=c.edgeTextEdit,b=c.nodeTextEdit;(y||b)&&i&&a.textEditElement.setElementState(un.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&ox(e.prototype,n),t}(),ax=o(173),ux=o.n(ax);function cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var km=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Lv(this,"mousetrap",void 0),Lv(this,"options",void 0),Lv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new ux.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(hn(a))a.forEach(function(b){var x=b.keys,S=b.callback,k=b.action;return r.on(x,S,k)});else{var i=a.keys,c=a.callback,y=a.action;this.on(i,c,y)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&cx(e.prototype,n),t}(),sx=km,ra=null;function Dm(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Nm(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function zv(t){return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function Cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cm(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bv=Symbol("plugin register by Logicflow.use"),Fv=function(){function t(a){var i,c,y=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Bn(this,"container",void 0),Bn(this,"width",void 0),Bn(this,"height",void 0),Bn(this,"graphModel",void 0),Bn(this,"history",void 0),Bn(this,"viewMap",new Map),Bn(this,"tool",void 0),Bn(this,"keyboard",void 0),Bn(this,"dnd",void 0),Bn(this,"options",void 0),Bn(this,"snaplineModel",void 0),Bn(this,"components",[]),Bn(this,"plugins",void 0),Bn(this,"extension",{}),Bn(this,"adapterIn",void 0),Bn(this,"adapterOut",void 0),Bn(this,"getView",function(b){return y.viewMap.get(b)}),a=Mg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new l_(Ql({},a)),this.tool=new ix(this),this.history=new $w(this.graphModel.eventCenter),this.dnd=new a1({lf:this}),this.keyboard=new sx({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new Xb(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(b){var x=b.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),this.options.isSilentMode||(function(b,x){var S=b.keyboard,k=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(!k.enabled||x.textEditElement)return!0;var I=b.options.guards,X=x.getSelectElements(!1);return I&&I.beforeClone&&!I.beforeClone(X)||X.nodes.length===0&&X.edges.length===0?(ra=null,!0):((ra=X).nodes.forEach(function(Z){return Dm(Z,40)}),ra.edges.forEach(function(Z){return Nm(Z,40)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!k.enabled||x.textEditElement)return!0;if(ra&&(ra.nodes||ra.edges)){b.clearSelectElements();var I=b.addElements(ra);if(!I)return!0;I.nodes.forEach(function(X){return b.selectElementById(X.id,!0)}),I.edges.forEach(function(X){return b.selectElementById(X.id,!0)}),ra.nodes.forEach(function(X){return Dm(X,40)}),ra.edges.forEach(function(X){return Nm(X,40)})}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!k.enabled||!!x.textEditElement||(b.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!k.enabled||!!x.textEditElement||(b.redo(),!1)}),S.on(["backspace"],function(){if(!k.enabled||x.textEditElement)return!0;var I=x.getSelectElements(!0);return b.clearSelectElements(),I.edges.forEach(function(X){return b.deleteEdge(X.id)}),I.nodes.forEach(function(X){return b.deleteNode(X.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var y={BaseEdge:$l,BaseEdgeModel:cl,BaseNode:Qi,BaseNodeModel:Ji,RectNode:Dy,RectNodeModel:sy,CircleNode:Iy,CircleNodeModel:Xh,PolygonNode:Uy,PolygonNodeModel:iy,TextNode:Qy,TextNodeModel:dy,LineEdge:gv,LineEdgeModel:Hi,DiamondNode:Yy,DiamondNodeModel:$h,PolylineEdge:wv,PolylineEdgeModel:Ic,BezierEdge:jv,BezierEdgeModel:zh,EllipseNode:Zy,EllipseNodeModel:Qh,HtmlNode:rv,HtmlNodeModel:vy,h:fe.g,type:a};this.viewMap.forEach(function(I){var X=I.extendKey;X&&(y[X]=I)}),this.graphModel.modelMap.forEach(function(I){var X=I.extendKey;X&&(y[X]=I)});var b=i(y),x=b.view,S=b.model,k=x;c&&!k.isObervered&&(k.isObervered=!0,k=ut(k)),this.setView(a,k),this.graphModel.setModel(a,S)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=ut(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Dy,model:sy,type:"rect"}),this.registerElement({type:"circle",view:Iy,model:Xh}),this.registerElement({type:"polygon",view:Uy,model:iy}),this.registerElement({type:"line",view:gv,model:Hi}),this.registerElement({type:"polyline",view:wv,model:Ic}),this.registerElement({type:"bezier",view:jv,model:zh}),this.registerElement({type:"text",view:Qy,model:dy}),this.registerElement({type:"ellipse",view:Zy,model:Qh}),this.registerElement({type:"diamond",view:Yy,model:$h}),this.registerElement({type:"html",view:rv,model:vy})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,y=a.id;if(!c){var b=this.getNodeModelById(y);b&&(c=b.getData());var x=this.getEdgeModelById(y);x&&(c=x.textPosition)}var S=c,k=S.x,I=S.y;i.focusOn(k,I,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,y,b=this.getModelById(a);return!!b&&(c=(y=(Bn(i={},Gn.NODE,this.deleteNode),Bn(i,Gn.EDGE,this.deleteEdge),i)[b.BaseType])===null||y===void 0?void 0:y.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),y=this.options.guards,b=!y||!y.beforeDelete||y.beforeDelete(c);return b&&this.graphModel.deleteNode(a),b}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var y=c.model.getData(),b=!i||!i.beforeDelete||i.beforeDelete(y);return b&&this.graphModel.deleteEdgeById(a),b}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,y=a.targetNodeId;if(c&&y){var b=[];return i.forEach(function(k){k.sourceNodeId===c&&k.targetNodeId===y&&b.push(k)}),b}if(c){var x=[];return i.forEach(function(k){k.sourceNodeId===c&&x.push(k)}),x}if(y){var S=[];return i.forEach(function(k){k.targetNodeId===y&&S.push(k)}),S}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(mn(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,y=a.edges,b={},x={nodes:[],edges:[]},S=0;S<c.length;S++){var k=c[S],I=k.id,X=this.addNode(k);if(!X)return;I&&(b[I]=X.id),x.nodes.push(X)}return y.forEach(function(Z){var re=Z.sourceNodeId,ye=Z.targetNodeId;b[re]&&(re=b[re]),b[ye]&&(ye=b[ye]);var be=i.graphModel.addEdge(Ql(Ql({},Z),{},{sourceNodeId:re,targetNodeId:ye}));x.edges.push(be)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],y=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,y,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),y=0;y<i;y++)c[y]=arguments[y];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=mn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=mn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;y.forEach(function(b){var x=null,S=null;b[Bv]?(x=b.extension,S=b.props):x=b;var k=x.pluginName||x.name;c.indexOf(k)===-1&&i.installPlugin(x,S)})}},{key:"installPlugin",value:function(a,i){if(zv(a)==="object"){var c=a.install,y=a.render;return c&&c.call(a,this,t),y&&this.components.push(y.bind(a)),void(this.extension[a.pluginName]=a)}var b=a,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(Ql(Ql({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(mn(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(o1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ft.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,y,b=a.pluginName;b||(b=a.name);var x=(c=this.extensions.get(b))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Bn(y={},Bv,Bv),Bn(y,"extension",a),Bn(y,"props",i),y))}}],n&&Rm(e.prototype,n),r&&Rm(e,r),t}();function ai(t){return ut(t)}Bn(Fv,"extensions",new Map),l.default=Fv}])})})(Xv,Xv.exports);var nt=Xv.exports;const ls=Rx(nt);var Vx=function(){function v(){globalThis._ids=this,this._ids=new Set}return v.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(s){var l=Math.random()*16|0,o=s==="x"?l:l&3|8;return o.toString(16)});return h},v.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},v}(),Wx=(globalThis==null?void 0:globalThis._ids)||new Vx;function vs(){return Wx.next()}var L0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Kx=function(v){L0(h,v);function h(s,l){var o=this;return s.id||(s.id="Event_"+vs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var s=v.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(l),s},h.extendKey="StartEventModel",h}(nt.CircleNodeModel),$x=function(v){L0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(nt.CircleNode),Zx={type:"bpmn:startEvent",view:$x,model:Kx},z0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Pd=globalThis&&globalThis.__assign||function(){return Pd=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Pd.apply(this,arguments)},qx=function(v){z0(h,v);function h(s,l){var o=this;return s.id||(s.id="Event_"+vs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,l)||this,o}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var s=v.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(l),s},h.extendKey="EndEventModel",h}(nt.CircleNodeModel),Jx=function(v){z0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var s=this.props.model,l=s.getNodeStyle(),o=s.x,p=s.y,d=s.r,_=v.prototype.getShape.call(this);return nt.h("g",{},_,nt.h("circle",Pd(Pd({},l),{cx:o,cy:p,r:d-5})))},h.extendKey="EndEventView",h}(nt.CircleNode),Qx={type:"bpmn:endEvent",view:Jx,model:qx},B0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),of=globalThis&&globalThis.__assign||function(){return of=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},of.apply(this,arguments)},eE=function(v){B0(h,v);function h(s,l){var o=this;return s.id||(s.id="Gateway_"+vs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=v.call(this,s,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return h.extendKey="ExclusiveGatewayModel",h}(nt.PolygonNodeModel),tE=function(v){B0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getShape=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.points,g=s.getNodeStyle();return nt.h("g",{transform:"matrix(1 0 0 1 "+(l-p/2)+" "+(o-d/2)+")"},nt.h("polygon",of(of({},g),{x:l,y:o,points:_})),nt.h("path",of({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},h.extendKey="ExclusiveGatewayNode",h}(nt.PolygonNode),nE={type:"bpmn:exclusiveGateway",view:tE,model:eE},F0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Ad=globalThis&&globalThis.__assign||function(){return Ad=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Ad.apply(this,arguments)},rE=function(v){F0(h,v);function h(s,l){var o=this;return s.id||(s.id="Activity_"+vs()),o=v.call(this,s,l)||this,o}return h.extendKey="UserTaskModel",h}(nt.RectNodeModel),oE=function(v){F0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.getNodeStyle();return nt.h("svg",{x:l-p/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},nt.h("path",{fill:_.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.radius,g=s.getNodeStyle();return nt.h("g",{},[nt.h("rect",Ad(Ad({},g),{x:l-p/2,y:o-d/2,rx:_,ry:_,width:p,height:d})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(nt.RectNode),iE={type:"bpmn:userTask",view:oE,model:rE},U0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Yv=globalThis&&globalThis.__assign||function(){return Yv=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Yv.apply(this,arguments)},aE=function(v){U0(h,v);function h(s,l){var o=this;return s.id||(s.id="Activity_"+vs()),o=v.call(this,s,l)||this,o}return h.extendKey="ServiceTaskModel",h}(nt.RectNodeModel),uE=function(v){U0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.getNodeStyle();return nt.h("svg",{x:l-p/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},nt.h("path",{fill:_.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.radius,g=s.getNodeStyle();return nt.h("g",{},[nt.h("rect",Yv({x:l-p/2,y:o-d/2,rx:_,ry:_,width:p,height:d},g)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(nt.RectNode),cE={type:"bpmn:serviceTask",view:uE,model:aE},G0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),sE=function(v){G0(h,v);function h(s,l){var o=this;return s.id||(s.id="Flow_"+vs()),o=v.call(this,s,l)||this,o}return h.extendKey="SequenceFlowModel",h}(nt.PolylineEdgeModel),lE=function(v){G0(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(nt.PolylineEdge),fE={type:"bpmn:sequenceFlow",view:lE,model:sE},Hm={width:40,height:40},Xm={width:40,height:40},Ym={width:40,height:40},Vm={width:100,height:80},Wm={width:100,height:80},pE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},dE=function(){function v(h){var s=h.lf;s.setTheme(pE),s.register(Zx),s.register(Qx),s.register(nE),s.register(iE),s.register(cE),s.options.customBpmnEdge||(s.register(fE),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="bpmnElement",v}(),hE=function(){function v(){globalThis._ids=this,this._ids=new Set}return v.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(s){var l=Math.random()*16|0,o=s==="x"?l:l&3|8;return o.toString(16)});return h},v.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},v}(),yE=(globalThis==null?void 0:globalThis._ids)||new hE;function Km(){return yE.next()}function H0(v){return Object.prototype.toString.call(v)}function vE(v){return"  ".repeat(v)}function Td(v){var h=v;return H0(v)==="[object Object]"?(h={},Object.keys(v).forEach(function(s){var l=s;s.charAt(0)==="-"&&(l=s.substring(1)),h[l]=Td(v[s])})):Array.isArray(v)&&(h=[],v.forEach(function(s,l){h[l]=Td(s)})),h}function gE(v){var h=v;try{typeof h!="string"&&(h=JSON.parse(v))}catch(s){h=JSON.stringify(Td(v)).replace(/"/g,"'")}return h}var fs=`	
`;function wd(v,h,s){var l=vE(s),o="";if(h==="#text")return fs+l+v;if(h==="#cdata-section")return fs+l+"<![CDATA["+v+"]]>";if(h==="#comment")return fs+l+"<!--"+v+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+gE(v)+'"';if(Array.isArray(v))v.forEach(function(g){o+=wd(g,h,s+1)});else if(H0(v)==="[object Object]"){var p=Object.keys(v),d="",_="";o+=(s===0?"":fs+l)+"<"+h,p.forEach(function(g){g.charAt(0)==="-"?d+=wd(v[g],g,s+1):_+=wd(v[g],g,s+1)}),o+=d+(_!==""?">"+_+(fs+l)+"</"+h+">":" />")}else o+=fs+l+("<"+h+">"+v.toString()+"</"+h+">");return o}function bE(v){var h="";for(var s in v)h+=wd(v[s],s,0);return h}var $r=function(){};$r.ObjTree=function(){return this};$r.ObjTree.VERSION="0.23";$r.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;$r.ObjTree.prototype.attr_prefix="-";$r.ObjTree.prototype.parseXML=function(v){var h;if(window.DOMParser){var s=new DOMParser,l=s.parseFromString(v,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(v),h=s.documentElement);if(h)return this.parseDOM(h)};$r.ObjTree.prototype.parseHTTP=function(v,h,s){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody=="undefined"&&typeof l.postbody=="undefined"&&typeof l.parameters=="undefined"?l.method="get":l.method="post"),s){l.asynchronous=!0;var p=this,d=s,_=l.onComplete;l.onComplete=function(T){var P;T&&T.responseXML&&T.responseXML.documentElement&&(P=p.parseDOM(T.responseXML.documentElement)),d(P,T),_&&_(T)}}else l.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){l.uri=v;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(v,l);E&&(g=E.transport)}if(s)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};$r.ObjTree.prototype.parseDOM=function(v){if(v){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var s=this.parseElement(v);if(this.__force_array[v.nodeName]&&(s=[s]),v.nodeType!=11){var l={};l[v.nodeName]=s,s=l}return s}};$r.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4||v.nodeType==8){var h=v.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:v.nodeValue}var s=null,l={};if(v.attributes&&v.attributes.length){s={};for(var o=0;o<v.attributes.length;o++){var p=v.attributes[o].nodeName;if(typeof p=="string"){var d=v.attributes[o].nodeValue;try{d=JSON.parse(v.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=v.attributes[o].nodeValue}d&&(p=this.attr_prefix+p,typeof l[p]=="undefined"&&(l[p]=0),l[p]++,this.addNode(s,p,l[p],d))}}}if(v.childNodes&&v.childNodes.length){var _=!0;s&&(_=!1);for(var o=0;o<v.childNodes.length&&_;o++){var g=v.childNodes[o].nodeType;g==3||g==4||g==8||(_=!1)}if(_){s||(s="");for(var o=0;o<v.childNodes.length;o++)s+=v.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<v.childNodes.length;o++){var p=v.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(v.childNodes[o]);d&&(typeof l[p]=="undefined"&&(l[p]=0),l[p]++,this.addNode(s,p,l[p],d))}}}}else s===null&&(s={});return s}};$r.ObjTree.prototype.addNode=function(v,h,s,l){this.__force_array[h]?(s==1&&(v[h]=[]),v[h][v[h].length]=l):s==1?v[h]=l:s==2?v[h]=[v[h],l]:v[h][v[h].length]=l};$r.ObjTree.prototype.writeXML=function(v){var h=this.hash_to_xml(null,v);return this.xmlDecl+h};$r.ObjTree.prototype.hash_to_xml=function(v,h){var s=[],l=[];for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];o.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor==Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=l.join(""),_=s.join("");return typeof v=="undefined"||v==null||(s.length>0?_.match(/\n/)?_="<"+v+d+`>
`+_+"</"+v+`>
`:_="<"+v+d+">"+_+"</"+v+`>
`:_="<"+v+d+` />
`),_};$r.ObjTree.prototype.array_to_xml=function(v,h){for(var s=[],l=0;l<h.length;l++){var o=h[l];typeof o=="undefined"||o==null?s[s.length]="<"+v+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(v,o):typeof o=="object"?s[s.length]=this.hash_to_xml(v,o):s[s.length]=this.scalar_to_xml(v,o)}return s.join("")};$r.ObjTree.prototype.scalar_to_xml=function(v,h){return v=="#text"?this.xml_escape(h):"<"+v+">"+this.xml_escape(h)+"</"+v+`>
`};$r.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var mE=function(v){return new $r.ObjTree().parseXML(v)},_E=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Vv=globalThis&&globalThis.__assign||function(){return Vv=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Vv.apply(this,arguments)},Bd=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p},ki;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(ki||(ki={}));var X0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],$m=["properties","startPoint","endPoint","pointsList"];function Zm(v){var h=v?$m.concat(v):$m;return function(s){function l(o){var p={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return l(d)}):(Object.entries(o).forEach(function(d){var _=Bd(d,2),g=_[0],E=_[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?p[g]=E:p["-"+g]=E:h.includes(g)?p["-"+g]=l(E):p[g]=l(E)}),p)}return l(s)}}function Md(v){var h={};return Object.entries(v).forEach(function(s){var l=Bd(s,2),o=l[0],p=l[1];o.indexOf("-")===0?h[o.substring(1)]=Td(p):typeof p=="string"?h[o]=p:Object.prototype.toString.call(p)==="[object Object]"?h[o]=Md(p):Array.isArray(p)?h[o]=p.map(function(d){return Md(d)}):h[o]=p}),h}function OE(v,h,s){var l=new Map;h.nodes.forEach(function(p){var d,_={"-id":p.id};if(!((d=p.text)===null||d===void 0)&&d.value&&(_["-name"]=p.text.value),p.properties){var g=Zm(s)(p.properties);Object.assign(_,g)}l.set(p.id,_),v[p.type]?Array.isArray(v[p.type])?v[p.type].push(_):v[p.type]=[v[p.type],_]:v[p.type]=_});var o=h.edges.map(function(p){var d,_,g=l.get(p.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(p.id):g["bpmn:incoming"]=[g["bpmn:incoming"],p.id]:g["bpmn:incoming"]=p.id;var E={"-id":p.id,"-sourceRef":p.sourceNodeId,"-targetRef":p.targetNodeId};if(!((d=p.text)===null||d===void 0)&&d.value&&(E["-name"]=(_=p.text)===null||_===void 0?void 0:_.value),p.properties){var T=Zm(s)(p.properties);Object.assign(E,T)}return E});h.edges.forEach(function(p){var d=l.get(p.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(p.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],p.id]:d["bpmn:outgoing"]=p.id}),v[ki.FLOW]=o}function wE(v,h){v["bpmndi:BPMNEdge"]=h.edges.map(function(s){var l,o=s.id,p=s.pointsList.map(function(_){var g=_.x,E=_.y;return{"-x":g,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((l=s.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),v["bpmndi:BPMNShape"]=h.nodes.map(function(s){var l,o=s.id,p=100,d=80,_=s.x,g=s.y,E=$a.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),_-=p/2,g-=d/2;var T={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":_,"-y":g,"-width":p,"-height":d}};return!((l=s.text)===null||l===void 0)&&l.value&&(T["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),T})}function xE(v){var h=[],s=[],l=v["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(p){if(p.indexOf("bpmn:")===0){var d=o[p];if(p===ki.FLOW){var _=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=SE(d,_)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(EE(d,g,p))}}})}return{nodes:h,edges:s}}function EE(v,h,s){var l=[];if(Array.isArray(v))v.forEach(function(d){var _;Array.isArray(h)?_=h.find(function(E){return E["-bpmnElement"]===d["-id"]}):_=h;var g=qm(_,s,d);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(d){return d["-bpmnElement"]===v["-id"]}):o=h;var p=qm(o,s,v);l.push(p)}return l}function qm(v,h,s){var l=Number(v["dc:Bounds"]["-x"]),o=Number(v["dc:Bounds"]["-y"]),p=s["-name"],d=$a.shapeConfigMap.get(h);d&&(l+=d.width/2,o+=d.height/2);var _;Object.entries(s).forEach(function(P){var D=Bd(P,2),M=D[0],R=D[1];X0.indexOf(M)===-1&&(_||(_={}),_[M]=R)}),_&&(_=Md(_));var g;if(p&&(g={x:l,y:o,value:p},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=v["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var T={id:v["-bpmnElement"],type:h,x:l,y:o,properties:_};return g&&(T.text=g),T}function SE(v,h){var s=[];if(Array.isArray(v))v.forEach(function(o){var p;Array.isArray(h)?p=h.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=h,s.push(Jm(p,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===v["-id"]}):l=h,s.push(Jm(l,v))}return s}function Jm(v,h){var s,l=h["-name"];if(l){var o=v["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;l.split(`
`).forEach(function(g){p<g.length&&(p=g.length)}),s={value:l,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d;Object.entries(h).forEach(function(g){var E=Bd(g,2),T=E[0],P=E[1];X0.indexOf(T)===-1&&(d||(d={}),d[T]=P)}),d&&(d=Md(d));var _={id:h["-id"],type:ki.FLOW,pointsList:v["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:d};return s&&(_.text=s),_}var $a=function(){function v(h){var s=this,l=h.lf;this.adapterOut=function(o,p){var d=Vv({},s.processAttributes);OE(d,o,p);var _={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};wE(_,o);var g=s.definitionAttributes;g["bpmn:process"]=d,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":_};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return xE(o)},l.adapterIn=function(o){return s.adapterIn(o)},l.adapterOut=function(o,p){return s.adapterOut(o,p)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+Km()},this.definitionAttributes={"-id":"Definitions_"+Km(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return v.prototype.setCustomShape=function(h,s){v.shapeConfigMap.set(h,s)},v.pluginName="bpmn-adapter",v.shapeConfigMap=new Map,v}();$a.shapeConfigMap.set(ki.START,{width:Hm.width,height:Hm.height});$a.shapeConfigMap.set(ki.END,{width:Xm.width,height:Xm.height});$a.shapeConfigMap.set(ki.GATEWAY,{width:Ym.width,height:Ym.height});$a.shapeConfigMap.set(ki.SYSTEM,{width:Vm.width,height:Vm.height});$a.shapeConfigMap.set(ki.USER,{width:Wm.width,height:Wm.height});(function(v){_E(h,v);function h(s){var l=v.call(this,s)||this;l.adapterXmlIn=function(p){var d=mE(p);return l.adapterIn(d)},l.adapterXmlOut=function(p,d){var _=l.adapterOut(p,d);return bE(_)};var o=s.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return h.pluginName="bpmnXmlAdapter",h})($a);var jE=function(){function v(){globalThis._ids=this,this._ids=new Set}return v.prototype.generateId=function(){var h="xxxxxxx".replace(/[x]/g,function(s){var l=Math.random()*16|0,o=s==="x"?l:l&3|8;return o.toString(16)});return h},v.prototype.next=function(){for(var h=this.generateId();this._ids.has(h);)h=this.generateId();return this._ids.add(h),h},v}(),PE=(globalThis==null?void 0:globalThis._ids)||new jE;function AE(){return PE.next()}globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var Qm=globalThis&&globalThis.__assign||function(){return Qm=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Qm.apply(this,arguments)},TE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var e0=globalThis&&globalThis.__assign||function(){return e0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},e0.apply(this,arguments)},ME=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var t0=globalThis&&globalThis.__assign||function(){return t0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},t0.apply(this,arguments)},kE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var n0=globalThis&&globalThis.__assign||function(){return n0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},n0.apply(this,arguments)},DE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var r0=globalThis&&globalThis.__assign||function(){return r0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},r0.apply(this,arguments)},NE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;nt.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),nt.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),nt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});nt.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});nt.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var o0=globalThis&&globalThis.__assign||function(){return o0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},o0.apply(this,arguments)};globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var i0=globalThis&&globalThis.__assign||function(){return i0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},i0.apply(this,arguments)},CE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var eg,ir,Y0,Vu,a0,V0,Wv,xd={},W0=[],RE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,tg=Array.isArray;function Wa(v,h){for(var s in h)v[s]=h[s];return v}function K0(v){var h=v.parentNode;h&&h.removeChild(v)}function af(v,h,s){var l,o,p,d={};for(p in h)p=="key"?l=h[p]:p=="ref"?o=h[p]:d[p]=h[p];if(arguments.length>2&&(d.children=arguments.length>3?eg.call(arguments,2):s),typeof v=="function"&&v.defaultProps!=null)for(p in v.defaultProps)d[p]===void 0&&(d[p]=v.defaultProps[p]);return Ed(v,d,l,o,null)}function Ed(v,h,s,l,o){var p={type:v,props:h,key:s,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++Y0:o};return o==null&&ir.vnode!=null&&ir.vnode(p),p}function ng(v){return v.children}function hs(v,h){this.props=v,this.context=h}function lf(v,h){if(h==null)return v.__?lf(v.__,v.__.__k.indexOf(v)+1):null;for(var s;h<v.__k.length;h++)if((s=v.__k[h])!=null&&s.__e!=null)return s.__e;return typeof v.type=="function"?lf(v):null}function $0(v){var h,s;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,h=0;h<v.__k.length;h++)if((s=v.__k[h])!=null&&s.__e!=null){v.__e=v.__c.base=s.__e;break}return $0(v)}}function u0(v){(!v.__d&&(v.__d=!0)&&Vu.push(v)&&!kd.__r++||a0!==ir.debounceRendering)&&((a0=ir.debounceRendering)||V0)(kd)}function kd(){var v,h,s,l,o,p,d,_,g;for(Vu.sort(Wv);v=Vu.shift();)v.__d&&(h=Vu.length,l=void 0,o=void 0,p=void 0,_=(d=(s=v).__v).__e,(g=s.__P)&&(l=[],o=[],(p=Wa({},d)).__v=d.__v+1,Q0(g,d,p,s.__n,g.ownerSVGElement!==void 0,d.__h!=null?[_]:null,l,_==null?lf(d):_,d.__h,o),zE(l,d,o),d.__e!=_&&$0(d)),Vu.length>h&&Vu.sort(Wv));kd.__r=0}function Z0(v,h,s,l,o,p,d,_,g,E,T){var P,D,M,R,C,B,G,W,ne,ue=0,te=l&&l.__k||W0,J=te.length,ee=J,Y=h.length;for(s.__k=[],P=0;P<Y;P++)(R=s.__k[P]=(R=h[P])==null||typeof R=="boolean"||typeof R=="function"?null:typeof R=="string"||typeof R=="number"||typeof R=="bigint"?Ed(null,R,null,null,R):tg(R)?Ed(ng,{children:R},null,null,null):R.__b>0?Ed(R.type,R.props,R.key,R.ref?R.ref:null,R.__v):R)!=null?(R.__=s,R.__b=s.__b+1,(W=IE(R,te,G=P+ue,ee))===-1?M=xd:(M=te[W]||xd,te[W]=void 0,ee--),Q0(v,R,M,o,p,d,_,g,E,T),C=R.__e,(D=R.ref)&&M.ref!=D&&(M.ref&&rg(M.ref,null,R),T.push(D,R.__c||C,R)),C!=null&&(B==null&&(B=C),(ne=M===xd||M.__v===null)?W==-1&&ue--:W!==G&&(W===G+1?ue++:W>G?ee>Y-G?ue+=W-G:ue--:ue=W<G&&W==G-1?W-G:0),G=P+ue,typeof R.type!="function"||W===G&&M.__k!==R.__k?typeof R.type=="function"||W===G&&!ne?R.__d!==void 0?(g=R.__d,R.__d=void 0):g=C.nextSibling:g=J0(v,C,g):g=q0(R,g,v),typeof s.type=="function"&&(s.__d=g))):(M=te[P])&&M.key==null&&M.__e&&(M.__e==g&&(g=lf(M)),Kv(M,M,!1),te[P]=null);for(s.__e=B,P=J;P--;)te[P]!=null&&(typeof s.type=="function"&&te[P].__e!=null&&te[P].__e==s.__d&&(s.__d=te[P].__e.nextSibling),Kv(te[P],te[P]))}function q0(v,h,s){for(var l,o=v.__k,p=0;o&&p<o.length;p++)(l=o[p])&&(l.__=v,h=typeof l.type=="function"?q0(l,h,s):J0(s,l.__e,h));return h}function J0(v,h,s){return s==null||s.parentNode!==v?v.insertBefore(h,null):h==s&&h.parentNode!=null||v.insertBefore(h,s),h.nextSibling}function IE(v,h,s,l){var o=v.key,p=v.type,d=s-1,_=s+1,g=h[s];if(g===null||g&&o==g.key&&p===g.type)return s;if(l>(g!=null?1:0))for(;d>=0||_<h.length;){if(d>=0){if((g=h[d])&&o==g.key&&p===g.type)return d;d--}if(_<h.length){if((g=h[_])&&o==g.key&&p===g.type)return _;_++}}return-1}function LE(v,h,s,l,o){var p;for(p in s)p==="children"||p==="key"||p in h||Dd(v,p,null,s[p],l);for(p in h)o&&typeof h[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||s[p]===h[p]||Dd(v,p,h[p],s[p],l)}function c0(v,h,s){h[0]==="-"?v.setProperty(h,s==null?"":s):v[h]=s==null?"":typeof s!="number"||RE.test(h)?s:s+"px"}function Dd(v,h,s,l,o){var p;e:if(h==="style")if(typeof s=="string")v.style.cssText=s;else{if(typeof l=="string"&&(v.style.cssText=l=""),l)for(h in l)s&&h in s||c0(v.style,h,"");if(s)for(h in s)l&&s[h]===l[h]||c0(v.style,h,s[h])}else if(h[0]==="o"&&h[1]==="n")p=h!==(h=h.replace(/(PointerCapture)$|Capture$/,"$1")),h=h.toLowerCase()in v?h.toLowerCase().slice(2):h.slice(2),v.l||(v.l={}),v.l[h+p]=s,s?l||v.addEventListener(h,p?l0:s0,p):v.removeEventListener(h,p?l0:s0,p);else if(h!=="dangerouslySetInnerHTML"){if(o)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="width"&&h!=="height"&&h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h!=="rowSpan"&&h!=="colSpan"&&h in v)try{v[h]=s==null?"":s;break e}catch(d){}typeof s=="function"||(s==null||s===!1&&h[4]!=="-"?v.removeAttribute(h):v.setAttribute(h,s))}}function s0(v){return this.l[v.type+!1](ir.event?ir.event(v):v)}function l0(v){return this.l[v.type+!0](ir.event?ir.event(v):v)}function Q0(v,h,s,l,o,p,d,_,g,E){var T,P,D,M,R,C,B,G,W,ne,ue,te,J,ee,Y,L=h.type;if(h.constructor!==void 0)return null;s.__h!=null&&(g=s.__h,_=h.__e=s.__e,h.__h=null,p=[_]),(T=ir.__b)&&T(h);e:if(typeof L=="function")try{if(G=h.props,W=(T=L.contextType)&&l[T.__c],ne=T?W?W.props.value:T.__:l,s.__c?B=(P=h.__c=s.__c).__=P.__E:("prototype"in L&&L.prototype.render?h.__c=P=new L(G,ne):(h.__c=P=new hs(G,ne),P.constructor=L,P.render=FE),W&&W.sub(P),P.props=G,P.state||(P.state={}),P.context=ne,P.__n=l,D=P.__d=!0,P.__h=[],P._sb=[]),P.__s==null&&(P.__s=P.state),L.getDerivedStateFromProps!=null&&(P.__s==P.state&&(P.__s=Wa({},P.__s)),Wa(P.__s,L.getDerivedStateFromProps(G,P.__s))),M=P.props,R=P.state,P.__v=h,D)L.getDerivedStateFromProps==null&&P.componentWillMount!=null&&P.componentWillMount(),P.componentDidMount!=null&&P.__h.push(P.componentDidMount);else{if(L.getDerivedStateFromProps==null&&G!==M&&P.componentWillReceiveProps!=null&&P.componentWillReceiveProps(G,ne),!P.__e&&(P.shouldComponentUpdate!=null&&P.shouldComponentUpdate(G,P.__s,ne)===!1||h.__v===s.__v)){for(h.__v!==s.__v&&(P.props=G,P.state=P.__s,P.__d=!1),h.__e=s.__e,h.__k=s.__k,h.__k.forEach(function(H){H&&(H.__=h)}),ue=0;ue<P._sb.length;ue++)P.__h.push(P._sb[ue]);P._sb=[],P.__h.length&&d.push(P);break e}P.componentWillUpdate!=null&&P.componentWillUpdate(G,P.__s,ne),P.componentDidUpdate!=null&&P.__h.push(function(){P.componentDidUpdate(M,R,C)})}if(P.context=ne,P.props=G,P.__P=v,P.__e=!1,te=ir.__r,J=0,"prototype"in L&&L.prototype.render){for(P.state=P.__s,P.__d=!1,te&&te(h),T=P.render(P.props,P.state,P.context),ee=0;ee<P._sb.length;ee++)P.__h.push(P._sb[ee]);P._sb=[]}else do P.__d=!1,te&&te(h),T=P.render(P.props,P.state,P.context),P.state=P.__s;while(P.__d&&++J<25);P.state=P.__s,P.getChildContext!=null&&(l=Wa(Wa({},l),P.getChildContext())),D||P.getSnapshotBeforeUpdate==null||(C=P.getSnapshotBeforeUpdate(M,R)),Z0(v,tg(Y=T!=null&&T.type===ng&&T.key==null?T.props.children:T)?Y:[Y],h,s,l,o,p,d,_,g,E),P.base=h.__e,h.__h=null,P.__h.length&&d.push(P),B&&(P.__E=P.__=null)}catch(H){h.__v=null,(g||p!=null)&&(h.__e=_,h.__h=!!g,p[p.indexOf(_)]=null),ir.__e(H,h,s)}else p==null&&h.__v===s.__v?(h.__k=s.__k,h.__e=s.__e):h.__e=BE(s.__e,h,s,l,o,p,d,g,E);(T=ir.diffed)&&T(h)}function zE(v,h,s){for(var l=0;l<s.length;l++)rg(s[l],s[++l],s[++l]);ir.__c&&ir.__c(h,v),v.some(function(o){try{v=o.__h,o.__h=[],v.some(function(p){p.call(o)})}catch(p){ir.__e(p,o.__v)}})}function BE(v,h,s,l,o,p,d,_,g){var E,T,P,D=s.props,M=h.props,R=h.type,C=0;if(R==="svg"&&(o=!0),p!=null){for(;C<p.length;C++)if((E=p[C])&&"setAttribute"in E==!!R&&(R?E.localName===R:E.nodeType===3)){v=E,p[C]=null;break}}if(v==null){if(R===null)return document.createTextNode(M);v=o?document.createElementNS("http://www.w3.org/2000/svg",R):document.createElement(R,M.is&&M),p=null,_=!1}if(R===null)D===M||_&&v.data===M||(v.data=M);else{if(p=p&&eg.call(v.childNodes),T=(D=s.props||xd).dangerouslySetInnerHTML,P=M.dangerouslySetInnerHTML,!_){if(p!=null)for(D={},C=0;C<v.attributes.length;C++)D[v.attributes[C].name]=v.attributes[C].value;(P||T)&&(P&&(T&&P.__html==T.__html||P.__html===v.innerHTML)||(v.innerHTML=P&&P.__html||""))}if(LE(v,M,D,o,_),P)h.__k=[];else if(Z0(v,tg(C=h.props.children)?C:[C],h,s,l,o&&R!=="foreignObject",p,d,p?p[0]:s.__k&&lf(s,0),_,g),p!=null)for(C=p.length;C--;)p[C]!=null&&K0(p[C]);_||("value"in M&&(C=M.value)!==void 0&&(C!==v.value||R==="progress"&&!C||R==="option"&&C!==D.value)&&Dd(v,"value",C,D.value,!1),"checked"in M&&(C=M.checked)!==void 0&&C!==v.checked&&Dd(v,"checked",C,D.checked,!1))}return v}function rg(v,h,s){try{typeof v=="function"?v(h):v.current=h}catch(l){ir.__e(l,s)}}function Kv(v,h,s){var l,o;if(ir.unmount&&ir.unmount(v),(l=v.ref)&&(l.current&&l.current!==v.__e||rg(l,null,h)),(l=v.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(p){ir.__e(p,h)}l.base=l.__P=null,v.__c=void 0}if(l=v.__k)for(o=0;o<l.length;o++)l[o]&&Kv(l[o],h,s||typeof v.type!="function");s||v.__e==null||K0(v.__e),v.__=v.__e=v.__d=void 0}function FE(v,h,s){return this.constructor(v,s)}eg=W0.slice,ir={__e:function(v,h,s,l){for(var o,p,d;h=h.__;)if((o=h.__c)&&!o.__)try{if((p=o.constructor)&&p.getDerivedStateFromError!=null&&(o.setState(p.getDerivedStateFromError(v)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(v,l||{}),d=o.__d),d)return o.__E=o}catch(_){v=_}throw v}},Y0=0,hs.prototype.setState=function(v,h){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wa({},this.state),typeof v=="function"&&(v=v(Wa({},s),this.props)),v&&Wa(s,v),v!=null&&this.__v&&(h&&this._sb.push(h),u0(this))},hs.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),u0(this))},hs.prototype.render=ng,Vu=[],V0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wv=function(v,h){return v.__v.__b-h.__v.__b},kd.__r=0;var uf=globalThis&&globalThis.__assign||function(){return uf=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},uf.apply(this,arguments)};function og(v){var h=v.x,s=v.y,l=v.width,o=v.height,p=v.radius,d=v.className,_=h-l/2,g=s-o/2,E=uf(uf({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},v),{x:_,y:g});return nt.h("rect",uf({},E))}og.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ps;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(ps||(ps={}));var UE=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Wu=globalThis&&globalThis.__assign||function(){return Wu=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Wu.apply(this,arguments)},GE=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p},HE=nt.LogicFlowUtil.StepDrag,XE=function(v){UE(h,v);function h(s){var l=v.call(this)||this;return l.updatePosition=function(o){var p=o.deltaX,d=o.deltaY,_=l.nodeModel,g=_.x,E=_.y;l.nodeModel.x=g+p/2,l.nodeModel.y=E+d/2,l.nodeModel.moveText(p/2,d/2)},l.getResize=function(o){var p=o.index,d=o.deltaX,_=o.deltaY,g=o.width,E=o.height,T=o.PCTResizeInfo,P=o.pct,D=P===void 0?1:P,M={width:g,height:E,deltaX:d,deltaY:_};if(T){var R=4,C=0,B=0;switch(p){case 0:B=(d*-1-_)/R;break;case 1:B=(d-_)/R;break;case 2:B=(d+_)/R;break;case 3:B=(d*-1+_)/R;break}B!==0&&(C=Math.round(B/T.ResizeBasis.basisHeight*1e5)/1e3),T.ResizePCT.widthPCT=Math.max(Math.min(T.ResizePCT.widthPCT+C,T.ScaleLimit.maxScaleLimit),T.ScaleLimit.minScaleLimit),T.ResizePCT.hightPCT=Math.max(Math.min(T.ResizePCT.hightPCT+C,T.ScaleLimit.maxScaleLimit),T.ScaleLimit.minScaleLimit);var G=Math.round(T.ResizePCT.widthPCT*T.ResizeBasis.basisWidth/100),W=Math.round(T.ResizePCT.hightPCT*T.ResizeBasis.basisHeight/100);switch(p){case 0:d=g-G,_=E-W;break;case 1:d=G-g,_=E-W;break;case 2:d=G-g,_=W-E;break;case 3:d=g-G,_=W-E;break}return M.width=G,M.height=W,M.deltaX=d/D,M.deltaY=_/D,M}switch(p){case 0:M.width=g-d*D,M.height=E-_*D;break;case 1:M.width=g+d*D,M.height=E-_*D;break;case 2:M.width=g+d*D,M.height=E+_*D;break;case 3:M.width=g-d*D,M.height=E+_*D;break}return M},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,p=o.id,d=o.anchors,_=l.getNodeEdges(p);_.sourceEdges.forEach(function(g){var E=d.find(function(T){return T.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),_.targetEdges.forEach(function(g){var E=d.find(function(T){return T.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},l.updateRect=function(o){var p=o.deltaX,d=o.deltaY,_=l.nodeModel,g=_.id,E=_.x,T=_.y,P=_.width,D=_.height,M=_.radius,R=_.PCTResizeInfo,C=l.index,B=l.getResize({index:C,deltaX:p,deltaY:d,width:P,height:D,PCTResizeInfo:R,pct:1}),G=l.nodeModel,W=G.minWidth,ne=G.minHeight,ue=G.maxWidth,te=G.maxHeight;if(B.width<W||B.width>ue||B.height<ne||B.height>te){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),l.nodeModel.width=B.width,l.nodeModel.height=B.height,l.nodeModel.setProperties({nodeSize:{width:B.width,height:B.height}}),l.getNodeEdges(g);var J={x:E,y:T,width:P,height:D,radius:M},ee={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:M};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:J,afterNode:ee})},l.updateEllipse=function(o){var p=o.deltaX,d=o.deltaY,_=l.nodeModel,g=_.id,E=_.rx,T=_.ry,P=_.x,D=_.y,M=_.PCTResizeInfo,R=l.index,C=E,B=T,G=l.getResize({index:R,deltaX:p,deltaY:d,width:C,height:B,PCTResizeInfo:M,pct:1/2}),W=l.nodeModel,ne=W.minWidth,ue=W.minHeight,te=W.maxWidth,J=W.maxHeight;if(G.width<ne/2||G.width>te/2||G.height<ue/2||G.height>J/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),l.nodeModel.rx=G.width,l.nodeModel.ry=G.height,l.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),l.getNodeEdges(g);var ee={x:P,y:D},Y={rx:G.width,ry:G.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:Wu(Wu({},ee),{rx:E,ry:T}),afterNode:Y})},l.updateDiamond=function(o){var p=o.deltaX,d=o.deltaY,_=l.nodeModel;_.id;var g=_.rx,E=_.ry,T=_.x,P=_.y,D=_.PCTResizeInfo,M=l.index,R=g,C=E,B=l.getResize({index:M,deltaX:p,deltaY:d,width:R,height:C,PCTResizeInfo:D,pct:1/2}),G=l.nodeModel,W=G.minWidth,ne=G.minHeight,ue=G.maxWidth,te=G.maxHeight;if(B.width<W/2||B.width>ue/2||B.height<ne/2||B.height>te/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:B.deltaX,deltaY:B.deltaY}),l.nodeModel.rx=B.width,l.nodeModel.ry=B.height,l.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var J={x:T,y:P,rx:g,ry:E},ee={rx:B.width,ry:B.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:J,afterNode:ee})},l.eventEmit=function(o){var p=o.beforeNode,d=o.afterNode,_=l.nodeModel,g=_.id,E=_.modelType,T=_.type,P=Wu({id:g,modelType:E,type:T},p),D=Wu({id:g,modelType:E,type:T},d);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:D})},l.onDragging=function(o){var p,d=o.deltaX,_=o.deltaY,g=l.graphModel.transformModel,E=l.nodeModel.modelType;p=GE(g.fixDeltaXY(d,_),2),d=p[0],_=p[1],E===ps.RECT_NODE||E===ps.HTML_NODE?l.updateRect({deltaX:d,deltaY:_}):E===ps.ELLIPSE_NODE?l.updateEllipse({deltaX:d,deltaY:_}):E===ps.DIAMOND_NODE&&l.updateDiamond({deltaX:d,deltaY:_})},l.onDragEnd=function(){l.updateEdgePointByAnchors();var o=l.graphModel.gridSize,p=o===void 0?1:o,d=p*Math.round(l.nodeModel.x/p),_=p*Math.round(l.nodeModel.y/p);l.nodeModel.moveTo(d,_)},l.index=s.index,l.nodeModel=s.model,l.graphModel=s.graphModel,l.state={},l.dragHandler=new HE({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return h.prototype.getNodeEdges=function(s){for(var l=this.graphModel,o=l.edges,p=[],d=[],_=0;_<o.length;_++){var g=o[_];g.sourceNodeId===s?p.push(g):o[_].targetNodeId===s&&d.push(g)}return{sourceEdges:p,targetEdges:d}},h.prototype.render=function(){var s=this.props,l=s.x,o=s.y,p=s.index,d=s.model,_=d.getControlPointStyle();return af("g",{className:"lf-resize-control-"+p},af(og,Wu({className:"lf-node-control"},{x:l,y:o},_,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(hs),YE=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Nd=globalThis&&globalThis.__assign||function(){return Nd=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Nd.apply(this,arguments)},Fd=function(v){YE(h,v);function h(){var s=v.call(this)||this;return s.state={},s}return h.prototype.getResizeControl=function(){var s=this.props,l=s.model,o=s.graphModel,p=l.x,d=l.y,_=l.width,g=l.height,E={minX:p-_/2,minY:d-g/2,maxX:p+_/2,maxY:d+g/2},T=E.minX,P=E.minY,D=E.maxX,M=E.maxY,R=[{x:T,y:P},{x:D,y:P},{x:D,y:M},{x:T,y:M}];return R.map(function(C,B){return af(XE,Nd({index:B},C,{model:l,graphModel:o}))})},h.prototype.getGroupSolid=function(){var s=this.props.model,l=s.x,o=s.y,p=s.width,d=s.height,_=s.getResizeOutlineStyle();return af(og,Nd({fill:"none"},_,{x:l,y:o,width:p,height:d}))},h.prototype.render=function(){return af("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(hs),e_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),VE=function(v){e_(h,v);function h(s,l){var o=v.call(this,s,l)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return h.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(s,l){},h.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},h}(nt.RectNodeModel),WE=function(v){e_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var s=this.props,l=s.model,o=s.graphModel;return nt.h(Fd,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var s=this.props,l=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h}(nt.RectNode),t_={type:"rect",view:WE,model:VE},n_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();(function(v){n_(h,v);function h(s,l){var o=v.call(this,s,l)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return h.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},h})(nt.EllipseNodeModel);(function(v){n_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var s=this.props,l=s.model,o=s.graphModel;return nt.h(Fd,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var s=this.props,l=s.model,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},h})(nt.EllipseNode);var $v=globalThis&&globalThis.__assign||function(){return $v=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},$v.apply(this,arguments)};function KE(v){var h=v.fillOpacity,s=h===void 0?1:h,l=v.strokeWidth,o=l===void 0?1:l,p=v.strokeOpacity,d=p===void 0?1:p,_=v.fill,g=_===void 0?"transparent":_,E=v.stroke,T=E===void 0?"#000":E,P=v.points,D=v.className,M=D===void 0?"lf-basic-shape":D,R={fill:g,fillOpacity:s,strokeWidth:o,stroke:T,strokeOpacity:d,points:"",className:M};return R.points=P.map(function(C){return C.join(",")}).join(" "),nt.h("polygon",$v({},R))}var r_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Zv=globalThis&&globalThis.__assign||function(){return Zv=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Zv.apply(this,arguments)};(function(v){r_(h,v);function h(s,l){var o=v.call(this,s,l)||this,p=o.properties.nodeSize;return p&&(o.rx=p.rx,o.ry=p.ry),o}return h.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},h})(nt.DiamondNodeModel);(function(v){r_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var s=this.props,l=s.model,o=s.graphModel;return nt.h(Fd,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){var s=this.props.model,l=s.points,o=s.getNodeStyle();return nt.h("g",null,nt.h(KE,Zv({},o,{points:l})))},h.prototype.getShape=function(){var s=this.props,l=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(nt.DiamondNode);var o_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();(function(v){o_(h,v);function h(s,l){var o=v.call(this,s,l)||this,p=o.properties.nodeSize;return p&&(o.width=p.width,o.height=p.height),o}return h.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:p}}else delete this.PCTResizeInfo},h})(nt.HtmlNodeModel);(function(v){o_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var s=this.props,l=s.model,o=s.graphModel;return nt.h(Fd,{model:l,graphModel:o})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var s=this.props,l=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return nt.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},h})(nt.HtmlNode);var i_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Cd=globalThis&&globalThis.__assign||function(){return Cd=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},Cd.apply(this,arguments)},$E=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p},ZE=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat($E(arguments[h]));return v},f0=500,p0=300,qE=-1e4;(function(v){i_(h,v);function h(){var s=v!==null&&v.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=f0,s.unfoldedHight=p0,s.childrenLastFoldStatus={},s}return h.prototype.initNodeData=function(s){var l=this;v.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=f0,this.height=p0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=qE,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var s=v.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},h.prototype.foldGroup=function(s){var l=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(p){var d=l.graphModel.getElement(p),_=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(s),d.isGroup&&!s){var g=l.childrenLastFoldStatus[p];g!==void 0&&g!==d.isFolded&&d.foldGroup(g)}l.childrenLastFoldStatus[p]=_,d.visible=!s,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(s,o)}},h.prototype.getAnchorStyle=function(s){var l=v.prototype.getAnchorStyle.call(this,s);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},h.prototype.foldEdge=function(s,l){var o=this;l.forEach(function(p,d){var _=p.id,g=p.sourceNodeId,E=p.targetNodeId,T=p.startPoint,P=p.endPoint,D=p.type,M=p.text,R=p.getProperties(),C={id:_+"__"+d,sourceNodeId:g,targetNodeId:E,startPoint:T,endPoint:P,type:D,properties:R,text:M==null?void 0:M.value};p.virtual&&o.graphModel.deleteEdgeById(p.id);var B=o.graphModel.group.getNodeGroup(E);B||(B=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(g);G||(G=o.graphModel.getNodeModelById(g)),s&&p.visible!==!1&&(o.children.has(g)||o.id===g?(C.startPoint=void 0,C.sourceNodeId=o.id):(C.endPoint=void 0,C.targetNodeId=o.id),(B.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(C),p.visible=!1),!s&&p.visible===!1&&(B&&B.isGroup&&B.isFolded?(C.targetNodeId=B.id,C.endPoint=void 0,o.createVirtualEdge(C)):G&&G.isGroup&&G.isFolded?(C.sourceNodeId=G.id,C.startPoint=void 0,o.createVirtualEdge(C)):p.visible=!0)})},h.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var l=this.graphModel.addEdge(s);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},h.prototype.isInRange=function(s){var l=s.x1,o=s.y1,p=s.x2,d=s.y2;return l>=this.x-this.width/2&&p<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(s){var l=s.x1,o=s.y1,p=s.x2,d=s.y2;return{x:l>=this.x-this.width/2&&p<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},h.prototype.addChild=function(s){this.children.add(s),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},h.prototype.removeChild=function(s){this.children.delete(s),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var s=this,l=v.prototype.getData.call(this);l.children=[],this.children.forEach(function(p){var d=s.graphModel.getNodeModelById(p);d&&!d.virtual&&l.children.push(p)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},h.prototype.getHistoryData=function(){var s=v.prototype.getData.call(this);s.children=ZE(this.children),s.isGroup=!0;var l=s.properties;return delete l.groupAddable,l.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},h.prototype.isAllowAppendIn=function(s){return!0},h.prototype.toBack=function(){this.zIndex--},h})(t_.model);(function(v){i_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var s=this.props.model,l=s.resizable,o=s.properties;return l&&!o.isFolded?v.prototype.getControlGroup.call(this):null},h.prototype.getAddableShape=function(){var s=this.props.model,l=s.width,o=s.height,p=s.x,d=s.y,_=s.radius,g=s.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,T=this.props.model.getAddableOutlineStyle(),P=l+E+8,D=o+E+8;return nt.h("rect",Cd(Cd({},T),{width:P,height:D,x:p-P/2,y:d-D/2,rx:_,ry:_}))},h.prototype.getFoldIcon=function(){var s=this.props.model,l=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var p=nt.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return nt.h("g",{},[nt.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),p])},h.prototype.getResizeShape=function(){return nt.h("g",{},[this.getAddableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(t_.view);globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();var d0=globalThis&&globalThis.__assign||function(){return d0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},d0.apply(this,arguments)};globalThis&&globalThis.__values;var h0=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),cf=globalThis&&globalThis.__assign||function(){return cf=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},cf.apply(this,arguments)};function JE(v){var h=function(l){h0(o,l);function o(p,d){var _=this;p.id||(p.id="Flow_"+AE());var g=cf(cf(cf({},v||{}),p.properties),{isDefaultFlow:!1});return p.properties=g,_=l.call(this,p,d)||this,_}return o.extendKey="SequenceFlowModel",o}(nt.PolylineEdgeModel),s=function(l){h0(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var p=this.props.model,d=p.properties.isDefaultFlow;return d?nt.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):nt.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(nt.PolylineEdge);return{type:"bpmn:sequenceFlow",view:s,model:h}}JE();globalThis&&globalThis.__read;var y0={width:40,height:40},v0={width:40,height:40},g0={width:100,height:80},Rd={width:100,height:80},b0={width:100,height:80},m0={width:100,height:80},_0={width:100,height:80},O0={width:100,height:80},w0={width:100,height:80},x0={width:100,height:80},Zr=function(){};Zr.ObjTree=function(){return this};Zr.ObjTree.VERSION="0.23";Zr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Zr.ObjTree.prototype.attr_prefix="-";Zr.ObjTree.prototype.parseXML=function(v){var h;if(window.DOMParser){var s=new DOMParser,l=s.parseFromString(v,"application/xml");if(!l)return;h=l.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(v),h=s.documentElement);if(h){var o=this.parseDOM(h);return o}};Zr.ObjTree.prototype.parseHTTP=function(v,h,s){var l={};for(var o in h)l[o]=h[o];if(l.method||(typeof l.postBody=="undefined"&&typeof l.postbody=="undefined"&&typeof l.parameters=="undefined"?l.method="get":l.method="post"),s){l.asynchronous=!0;var p=this,d=s,_=l.onComplete;l.onComplete=function(T){var P;T&&T.responseXML&&T.responseXML.documentElement&&(P=p.parseDOM(T.responseXML.documentElement)),d(P,T),_&&_(T)}}else l.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){l.uri=v;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(v,l);E&&(g=E.transport)}if(s)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};Zr.ObjTree.prototype.parseDOM=function(v){if(v){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var s=this.parseElement(v);if(this.__force_array[v.nodeName]&&(s=[s]),v.nodeType!==11){var l={};l[v.nodeName]=s,s=l}return s}};Zr.ObjTree.prototype.parseElement=function(v){if(v.nodeType!==7){if(v.nodeType===3||v.nodeType===4||v.nodeType===8){var h=v.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:v.nodeValue}var s=null,l={};if(v.attributes&&v.attributes.length){s={};for(var o=0;o<v.attributes.length;o++){var p=v.attributes[o].nodeName;if(typeof p=="string"){var d=v.attributes[o].nodeValue;try{d=JSON.parse(v.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=v.attributes[o].nodeValue}d!=null&&(p=this.attr_prefix+p,typeof l[p]=="undefined"&&(l[p]=0),l[p]++,this.addNode(s,p,l[p],d))}}}if(v.childNodes&&v.childNodes.length){var _=!0;s&&(_=!1);for(var o=0;o<v.childNodes.length&&_;o++){var g=v.childNodes[o].nodeType;g===3||g===4||g===8||(_=!1)}if(_){s||(s="");for(var o=0;o<v.childNodes.length;o++)s+=v.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<v.childNodes.length;o++){var p=v.childNodes[o].nodeName;if(typeof p=="string"){var d=this.parseElement(v.childNodes[o]);d&&(typeof l[p]=="undefined"&&(l[p]=0),l[p]++,this.addNode(s,p,l[p],d))}}}}else s===null&&(s={});return s}};Zr.ObjTree.prototype.addNode=function(v,h,s,l){this.__force_array[h]?(s===1&&(v[h]=[]),v[h][v[h].length]=l):s===1?v[h]=l:s===2?v[h]=[v[h],l]:v[h][v[h].length]=l};Zr.ObjTree.prototype.writeXML=function(v){var h=this.hash_to_xml(null,v);return this.xmlDecl+h};Zr.ObjTree.prototype.hash_to_xml=function(v,h){var s=[],l=[];for(var o in h)if(h!=null&&h.hasOwnProperty(o)){var p=h[o];o.charAt(0)!==this.attr_prefix?typeof p=="undefined"||p==null?s[s.length]="<"+o+" />":typeof p=="object"&&p.constructor===Array?s[s.length]=this.array_to_xml(o,p):typeof p=="object"?s[s.length]=this.hash_to_xml(o,p):s[s.length]=this.scalar_to_xml(o,p):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(p)+'"'}var d=l.join(""),_=s.join("");return typeof v=="undefined"||v==null||(s.length>0?_.match(/\n/)?_="<"+v+d+`>
`+_+"</"+v+`>
`:_="<"+v+d+">"+_+"</"+v+`>
`:_="<"+v+d+` />
`),_};Zr.ObjTree.prototype.array_to_xml=function(v,h){for(var s=[],l=0;l<h.length;l++){var o=h[l];typeof o=="undefined"||o==null?s[s.length]="<"+v+" />":typeof o=="object"&&o.constructor===Array?s[s.length]=this.array_to_xml(v,o):typeof o=="object"?s[s.length]=this.hash_to_xml(v,o):s[s.length]=this.scalar_to_xml(v,o)}return s.join("")};Zr.ObjTree.prototype.scalar_to_xml=function(v,h){return v==="#text"?this.xml_escape(h):"<"+v+">"+this.xml_escape(h)+"</"+v+`>
`};Zr.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var QE=function(v){return new Zr.ObjTree().parseXML(v)};function a_(v){return Object.prototype.toString.call(v)}function E0(v){return"  ".repeat(v)}function Id(v){return a_(v)==="[object Object]"?Object.keys(v).reduce(function(h,s){var l=s;return s.charAt(0)==="-"&&(l=s.substring(1)),h[l]=Id(v[s]),h},{}):Array.isArray(v)?v.map(function(h){return Id(h)}):v}function eS(v){var h=v;try{typeof h!="string"&&(h=JSON.parse(v))}catch(s){h=JSON.stringify(Id(v)).replace(/"/g,"'")}return h}var S0=`	
`;function Sd(v,h,s){var l=E0(s),o="",p=S0+l;if(h==="-json")return"";if(h==="#text")return p+v;if(h==="#cdata-section")return p+"<![CDATA["+v+"]]>";if(h==="#comment")return p+"<!--"+v+"-->";if((""+h).charAt(0)==="-")return" "+h.substring(1)+'="'+eS(v)+'"';if(Array.isArray(v))o+=v.map(function(E){return Sd(E,h,s+1)}).join("");else if(a_(v)==="[object Object]"){var d=Object.keys(v),_="",g=v["-json"]?S0+E0(s+1)+v["-json"]:"";o+=(s===0?"":p)+"<"+h,d.forEach(function(E){E.charAt(0)==="-"?_+=Sd(v[E],E,s+1):g+=Sd(v[E],E,s+1)}),o+=_+(g!==""?">"+g+p+"</"+h+">":" />")}else o+=p+"<"+h+">"+v.toString()+"</"+h+">";return o}function tS(v){var h="";for(var s in v)h+=Sd(v[s],s,0);return h}var nS=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),qv=globalThis&&globalThis.__assign||function(){return qv=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},qv.apply(this,arguments)},j0=globalThis&&globalThis.__rest||function(v,h){var s={};for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&h.indexOf(l)<0&&(s[l]=v[l]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(v);o<l.length;o++)h.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(v,l[o])&&(s[l[o]]=v[l[o]]);return s},ig=globalThis&&globalThis.__values||function(v){var h=typeof Symbol=="function"&&Symbol.iterator,s=h&&v[h],l=0;if(s)return s.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&l>=v.length&&(v=void 0),{value:v&&v[l++],done:!v}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},gs=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p},ys=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(gs(arguments[h]));return v},Kr;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",v.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",v.BOUNDARY="bpmn:boundaryEvent",v.PARALLEL_GATEWAY="bpmn:parallelGateway",v.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",v.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow",v.SUBPROCESS="bpmn:subProcess"})(Kr||(Kr={}));var u_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],rS=["properties","startPoint","endPoint","pointsList"],Ld={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},c_=function(v,h){var s=Object.keys(h||{});return s.forEach(function(l){if(v[l]){var o=h[l],p=o.in,d=o.out;p&&(v[l].in=p),d&&(v[l].out=d)}else v[l]=h[l]}),v},Uo={"bpmn:startEvent":{out:function(v){var h,s,l=v.properties;return((s=(h=Uo[l.definitionType])===null||h===void 0?void 0:h.out)===null||s===void 0?void 0:s.call(h,v))||{}}},"bpmn:intermediateCatchEvent":{out:function(v){var h,s,l=v.properties;return((s=(h=Uo[l.definitionType])===null||h===void 0?void 0:h.out)===null||s===void 0?void 0:s.call(h,v))||{}}},"bpmn:intermediateThrowEvent":{out:function(v){var h,s,l=v.properties;return((s=(h=Uo[l.definitionType])===null||h===void 0?void 0:h.out)===null||s===void 0?void 0:s.call(h,v))||{}}},"bpmn:boundaryEvent":{out:function(v){var h,s,l=v.properties;return((s=(h=Uo[l.definitionType])===null||h===void 0?void 0:h.out)===null||s===void 0?void 0:s.call(h,v))||{}}},"bpmn:sequenceFlow":{out:function(v){var h=v.properties,s=h.expressionType,l=h.condition;return l?s==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(v){var h=v.properties,s=h.timerType,l=h.timerValue,o=h.definitionId,p=function(){return"<bpmn:"+s+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+s+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(s&&l?">"+p()+"</bpmn:timerEventDefinition>":"/>")}},in:function(v,h){var s,l,o,p,d=v,_=h["-id"],g="",E="";try{for(var T=ig(Object.keys(h)),P=T.next();!P.done;P=T.next()){var D=P.value;D.includes("bpmn:")&&(o=gs(D.split(":"),2),g=o[1],E=(p=h[D])===null||p===void 0?void 0:p["#text"])}}catch(M){s={error:M}}finally{try{P&&!P.done&&(l=T.return)&&l.call(T)}finally{if(s)throw s.error}}return{"-definitionId":_,"-definitionType":d,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(v,h){var s,l="",o="";return h["#cdata-section"]?(o="cdata",l=((s=/^\$\{(.*)\}$/g.exec(h["#cdata-section"]))===null||s===void 0?void 0:s[1])||""):h["#text"]&&(o="normal",l=h["#text"]),{"-condition":l,"-expressionType":o}}}};function oS(v){var h=v!=null?v:{},s=h.retainedAttrsFields,l=h.excludeFields,o=h.transformer,p=new Set(ys(rS,s||[])),d={in:new Set(ys(Ld.in,(l==null?void 0:l.in)||[])),out:new Set(ys(Ld.out,(l==null?void 0:l.out)||[]))};return Uo=c_(Uo,o),function(_){var g=_.nodes,E=_.edges;function T(P,D){var M,R,C;if((P==null?void 0:P.flag)!==1){var B;if((B=Uo[P.type])&&B.out){var G=B.out(P),W=Object.keys(G);W.length>0&&W.forEach(function(H){P[H]=G[H]})}P!=null&&P.children&&(P.children=P.children.map(function(H){var V=g.find(function($){return $.id===H})||E.find(function($){return $.id===H});return V||{}}));var ne={};if(typeof P=="string")return P;if(Array.isArray(P))return P.map(function(H){return T(H,"")}).filter(function(H){return H!=null});try{for(var ue=ig(Object.entries(P)),te=ue.next();!te.done;te=ue.next()){var J=gs(te.value,2),ee=J[0],Y=J[1];if(((C=Y)===null||C===void 0?void 0:C.flag)===1)return;var L=[D,ee].filter(function(H){return H}).join(".");d.out.has(L)||(typeof Y!="object"?ee.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ee)?ne[ee]=Y:ne["-"+ee]=Y:p.has(L)?ne["-"+ee]=T(Y,L):ne[ee]=T(Y,L))}}catch(H){M={error:H}}finally{try{te&&!te.done&&(R=ue.return)&&R.call(ue)}finally{if(M)throw M.error}}return ne}}return T(_,"")}}function zd(v){var h,s,l={};try{for(var o=ig(Object.entries(v)),p=o.next();!p.done;p=o.next()){var d=gs(p.value,2),_=d[0],g=d[1];_.indexOf("-")===0?l[_.substring(1)]=Id(g):typeof g=="string"?l[_]=g:Object.prototype.toString.call(g)==="[object Object]"?l[_]=zd(g):Array.isArray(g)?l[_]=g.map(function(E){return zd(E)}):l[_]=g}}catch(E){h={error:E}}finally{try{p&&!p.done&&(s=o.return)&&s.call(o)}finally{if(h)throw h.error}}return l}function iS(v,h,s){var l,o=new Map,p=oS(s)(h);p.nodes.forEach(function(_){var g=_["-id"],E=_["-type"],T=_.text,P=_.children,D=j0(_,["-id","-type","text","children"]),M={"-id":g};T!=null&&T["-value"]&&(M["-name"]=T["-value"]),D["-json"]&&(M["-json"]=D["-json"]),D["-properties"]&&Object.assign(M,D["-properties"]),P&&(M.children=P),v[E]||(v[E]=[]),v[E].push(M),o.set(g,M)});var d=p.edges.map(function(_){var g=_["-id"];_["-type"];var E=_["-sourceNodeId"],T=_["-targetNodeId"],P=_.text,D=j0(_,["-id","-type","-sourceNodeId","-targetNodeId","text"]),M=o.get(T);M["bpmn:incoming"]||(M["bpmn:incoming"]=[]),M["bpmn:incoming"].push(g);var R={"-id":g,"-sourceRef":E,"-targetRef":T};return P!=null&&P["-value"]&&(R["-name"]=P["-value"]),D["-json"]&&(R["-json"]=D["-json"]),D["-properties"]&&Object.assign(R,D["-properties"]),R});return h.edges.forEach(function(_){var g=_.sourceNodeId,E=_.id,T=o.get(g);T["bpmn:outgoing"]||(T["bpmn:outgoing"]=[]),T["bpmn:outgoing"].push(E)}),(l=v["bpmn:subProcess"])===null||l===void 0||l.forEach(function(_){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];_.children.forEach(function(C){var B,G=o.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ne){G[ne]&&G[ne].forEach(function(ue){g[ne].add(ue)})});var W=(B=v[C["-type"]])===null||B===void 0?void 0:B.findIndex(function(ne){return ne["-id"]===C["-id"]});W>=0&&v[C["-type"]].splice(W,1),o.delete(C["-id"]),_[C["-type"]]||(_[C["-type"]]=[]),_[C["-type"]].push(G)});var T=g["bpmn:incoming"],P=g["bpmn:outgoing"];P.forEach(function(C){T.has(C)&&E.push(C)});for(var D=function(C){var B=d.findIndex(function(G){return G["-id"]===E[C]});B>=0?(_["bpmn:sequenceFlow"]||(_["bpmn:sequenceFlow"]=[]),_["bpmn:sequenceFlow"].push(d[B]),d.splice(B,1)):C++,M=C},M,R=0;R<E.length;)D(R),R=M;delete _.children}),v[Kr.FLOW]=d,v}function aS(v,h){v["bpmndi:BPMNEdge"]=h.edges.map(function(s){var l,o=s.id,p=s.pointsList.map(function(_){var g=_.x,E=_.y;return{"-x":g,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":p};return!((l=s.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),v["bpmndi:BPMNShape"]=h.nodes.map(function(s){var l,o=s.id,p=100,d=80,_=s.x,g=s.y,E=io.shapeConfigMap.get(s.type);E&&(p=E.width,d=E.height),_-=p/2,g-=d/2;var T={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":_,"-y":g,"-width":p,"-height":d}};return!((l=s.text)===null||l===void 0)&&l.value&&(T["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),T})}var uS=["bpmn:incoming","bpmn:outgoing"];function cS(v,h){var s=[],l=[],o=new Map,p=h!=null?h:{},d=p.transformer,_=p.excludeFields,g={in:new Set(ys(Ld.in,(_==null?void 0:_.in)||[])),out:new Set(ys(Ld.out,(_==null?void 0:_.out)||[]))};Uo=c_(Uo,d);var E=v["bpmn:definitions"];if(E){var T=E["bpmn:process"];(function(D,M){M.forEach(function(R){try{Object.keys(D).forEach(function(C){try{R(C)}catch(B){}})}catch(C){}})})(T,[function(D){function M(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(B){var G;B.indexOf("bpmn:")===0&&!uS.includes(B)&&(T[B]||(T[B]=[]),!Array.isArray(T[B])&&(T[B]=[T[B]]),Array.isArray(C[B])?(G=T[B]).push.apply(G,ys(C[B])):T[B].push(C[B]),Array.isArray(C[B])?C[B].forEach(function(W){!B.includes("Flow")&&C["-children"].push(W["-id"])}):!B.includes("Flow")&&C["-children"].push(C[B]["-id"]),delete C[B])})}if(D==="bpmn:subProcess"){var R=T[D];Array.isArray(R)?R.forEach(function(C){D==="bpmn:subProcess"&&M(C)}):M(R)}},function(D){var M=function(C){Object.keys(C).forEach(function(B){var G,W;if(B.includes("bpmn:")){var ne={};Uo[B]&&Uo[B].in?(ne=(W=(G=Uo[B]).in)===null||W===void 0?void 0:W.call(G,B,R0.cloneDeep(C[B])),delete C[B]):R(C[B]);var ue=void 0;(ue=Reflect.ownKeys(ne)).length>0&&ue.forEach(function(te){Reflect.set(C,te,ne[te])})}})};function R(C){o.set(C["-id"],C),Array.isArray(C)?C.forEach(function(B){R(B)}):typeof C=="object"&&M(C)}R(T[D])},function(D){if(D.indexOf("bpmn:")===0){var M=T[D];if(D==="bpmn:sequenceFlow"){var R=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=lS(M,R)}else{var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(D==="bpmn:boundaryEvent"){var B=T[D],G=function(W){var ne=W["-attachedToRef"],ue=o.get(ne);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(W["-id"])};Array.isArray(B)?B.forEach(function(W){G(W)}):G(B)}s=s.concat(sS(M,C,D))}}}])}var P=function(D,M,R){Object.keys(D).forEach(function(C){var B=R?R+"."+C:C;M.has(B)?delete D[C]:typeof D[C]=="object"&&P(D[C],M,B)})};return s.forEach(function(D){var M,R;if(!((M=h==null?void 0:h.mapping)===null||M===void 0)&&M.in){var C=(R=h==null?void 0:h.mapping)===null||R===void 0?void 0:R.in,B=D.type;C[B]&&(D.type=C[B])}P(D,g.in,"")}),l.forEach(function(D){var M,R;if(!((M=h==null?void 0:h.mapping)===null||M===void 0)&&M.in){var C=(R=h==null?void 0:h.mapping)===null||R===void 0?void 0:R.in,B=D.type;C[B]&&(D.type=C[B])}P(D,g.in,"")}),{nodes:s,edges:l}}function sS(v,h,s){var l=[];if(Array.isArray(v))v.forEach(function(d){var _;Array.isArray(h)?_=h.find(function(E){return E["-bpmnElement"]===d["-id"]}):_=h;var g=P0(_,s,d);l.push(g)});else{var o=void 0;Array.isArray(h)?o=h.find(function(d){return d["-bpmnElement"]===v["-id"]}):o=h;var p=P0(o,s,v);l.push(p)}return l}function P0(v,h,s){var l=Number(v["dc:Bounds"]["-x"]),o=Number(v["dc:Bounds"]["-y"]),p=s["-children"],d=s["-name"],_=io.shapeConfigMap.get(h);_&&(l+=_.width/2,o+=_.height/2);var g={};Object.entries(s).forEach(function(D){var M=gs(D,2),R=M[0],C=M[1];u_.includes(R)||(g[R]=C)}),g=zd(g);var E;if(d&&(E={x:l,y:o,value:d},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var T=v["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(T["-x"])+Number(T["-width"])/2,E.y=Number(T["-y"])+Number(T["-height"])/2}var P={id:v["-bpmnElement"],type:h,x:l,y:o,properties:g};return p&&(P.children=p),E&&(P.text=E),P}function lS(v,h){var s=[];if(Array.isArray(v))v.forEach(function(o){var p;Array.isArray(h)?p=h.find(function(d){return d["-bpmnElement"]===o["-id"]}):p=h,s.push(A0(p,o))});else{var l=void 0;Array.isArray(h)?l=h.find(function(o){return o["-bpmnElement"]===v["-id"]}):l=h,s.push(A0(l,v))}return s}function A0(v,h){var s,l=h["-name"];if(l){var o=v["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;l.split(`
`).forEach(function(E){p<E.length&&(p=E.length)}),s={value:l,x:Number(o["-x"])+p*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(h).forEach(function(E){var T=gs(E,2),P=T[0],D=T[1];u_.includes(P)||(d[P]=D)}),d=zd(d);var _=v["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:h["-id"],type:Kr.FLOW,pointsList:_,sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:d};return s&&(g.text=s),g}var io=function(){function v(h){var s=this,l=h.lf;this.adapterOut=function(o,p){var d,_,g=qv({},s.processAttributes);iS(g,o,p);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};aS(E,o);var T=s.definitionAttributes;T["bpmn:process"]=g,T["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var P={"bpmn:definitions":T};if(!((d=p==null?void 0:p.mapping)===null||d===void 0)&&d.out){var D=(_=p==null?void 0:p.mapping)===null||_===void 0?void 0:_.out,M=function(R){Array.isArray(R)&&R.forEach(function(C){return M(C)}),typeof R=="object"&&Object.keys(R).forEach(function(C){var B;(B=D[C])?(R[B]=R0.cloneDeep(R[C]),delete R[C],M(R[B])):M(R[C])})};M(P)}return P},this.adapterIn=function(o,p){if(o)return cS(o,p)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return v.prototype.setCustomShape=function(h,s){v.shapeConfigMap.set(h,s)},v.pluginName="bpmn-adapter",v.shapeConfigMap=new Map,v}();io.shapeConfigMap.set(Kr.START,{width:y0.width,height:y0.height});io.shapeConfigMap.set(Kr.END,{width:v0.width,height:v0.height});io.shapeConfigMap.set(Kr.INTERMEDIATE_CATCH,{width:Rd.width,height:Rd.height});io.shapeConfigMap.set(Kr.INTERMEDIATE_THROW,{width:Rd.width,height:Rd.height});io.shapeConfigMap.set(Kr.BOUNDARY,{width:g0.width,height:g0.height});io.shapeConfigMap.set(Kr.PARALLEL_GATEWAY,{width:b0.width,height:b0.height});io.shapeConfigMap.set(Kr.INCLUSIVE_GATEWAY,{width:m0.width,height:m0.height});io.shapeConfigMap.set(Kr.EXCLUSIVE_GATEWAY,{width:_0.width,height:_0.height});io.shapeConfigMap.set(Kr.SYSTEM,{width:O0.width,height:O0.height});io.shapeConfigMap.set(Kr.USER,{width:w0.width,height:w0.height});io.shapeConfigMap.set(Kr.SUBPROCESS,{width:x0.width,height:x0.height});(function(v){nS(h,v);function h(s){var l=v.call(this,s)||this;l.adapterXmlIn=function(d){var _=QE(d);return l.adapterIn(_,l.props)},l.adapterXmlOut=function(d){var _=l.adapterOut(d,l.props);return tS(_)};var o=s.lf,p=s.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=p,l}return h.pluginName="BPMNAdapter",h})(io);var fS=function(){function v(h){var s=this,l=h.lf;this.lf=l,this.customCssRules="",this.useGlobalRules=!0,l.getSnapshot=function(o,p){s.getSnapshot(o,p)},l.getSnapshotBlob=function(o){return s.getSnapshotBlob(o)},l.getSnapshotBase64=function(o){return s.getSnapshotBase64(o)}}return v.prototype.getSvgRootElement=function(h){var s=h.container.querySelector(".lf-canvas-overlay");return s},v.prototype.triggerDownload=function(h){var s=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),l=document.createElement("a");l.setAttribute("download",this.fileName),l.setAttribute("href",h),l.setAttribute("target","_blank"),l.dispatchEvent(s)},v.prototype.removeAnchor=function(h){for(var s=h.childNodes,l=h.childNodes&&h.childNodes.length,o=0;o<l;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[o]),l--,o--)}},v.prototype.removeRotateControl=function(h){for(var s=h.childNodes,l=h.childNodes&&h.childNodes.length,o=0;o<l;o++){var p=s[o],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-rotate-control")>-1&&(h.removeChild(h.childNodes[o]),l--,o--)}},v.prototype.getSnapshot=function(h,s){var l=this;this.fileName=h||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,s).then(function(p){var d=p.toDataURL("image/png").replace("image/png","image/octet-stream");l.triggerDownload(d)})},v.prototype.getSnapshotBase64=function(h){var s=this,l=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(l,h).then(function(p){var d=p.toDataURL("image/png");o({data:d,width:p.width,height:p.height})})})},v.prototype.getSnapshotBlob=function(h){var s=this,l=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(l,h).then(function(p){p.toBlob(function(d){o({data:d,width:p.width,height:p.height})},"image/png")})})},v.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var s=document.styleSheets,l=0;l<s.length;l++)for(var o=s[l],p=0;p<o.cssRules.length;p++)h+=o.cssRules[p].cssText;return this.customCssRules&&(h+=this.customCssRules),h},v.prototype.getCanvasData=function(h,s){var l=this,o=h.cloneNode(!0),p=o.lastChild,d=p.childNodes&&p.childNodes.length;if(d)for(var _=0;_<d;_++){var g=p.childNodes[_],E=g.classList&&Array.from(g.classList);if(E&&E.indexOf("lf-base")<0)p.removeChild(p.childNodes[_]),d--,_--;else{var T=p.childNodes[_];T&&T.childNodes.forEach(function(Oe){var he=Oe;l.removeAnchor(he.firstChild),l.removeRotateControl(he.firstChild)})}}var P=window.devicePixelRatio||1;P<1&&(P=1);var D=document.createElement("canvas"),M=this.lf.graphModel.rootEl.querySelector(".lf-base"),R=M.getBoundingClientRect(),C=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),B=R.x-C.x,G=R.y-C.y,W=this.lf.graphModel,ne=W.transformModel,ue=ne.SCALE_X,te=ne.SCALE_Y,J=ne.TRANSLATE_X,ee=ne.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-B+J)*(1/ue)+10)+", "+((-G+ee)*(1/te)+10)+")";var Y=Math.ceil(R.width/ue),L=Math.ceil(R.height/te);D.style.width=Y+"px",D.style.height=L+"px",D.width=Y*P+80,D.height=L*P+80;var H=D.getContext("2d");H.clearRect(0,0,D.width,D.height),H.scale(P,P),s?(H.fillStyle=s,H.fillRect(0,0,Y*P+80,L*P+80)):H.clearRect(0,0,Y,L);var V=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var ae=document.createElement("foreignObject");return ae.appendChild($),o.appendChild(ae),new Promise(function(Oe){V.onload=function(){var Be=navigator.userAgent.indexOf("Firefox")>-1;try{Be?createImageBitmap(V,{resizeWidth:D.width,resizeHeight:D.height}).then(function(Se){H.drawImage(Se,0,0),Oe(D)}):(H.drawImage(V,0,0),Oe(D))}catch(Se){H.drawImage(V,0,0),Oe(D)}};var he="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Pe=he.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");V.src=Pe})},v.pluginName="snapshot",v}(),T0=globalThis&&globalThis.__assign||function(){return T0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},T0.apply(this,arguments)};globalThis&&globalThis.__read;var M0;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(M0||(M0={}));var pS=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var dS=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var hS=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p},yS=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(hS(arguments[h]));return v},ef="lf:defaultNodeMenu",tf="lf:defaultEdgeMenu",nf="lf:defaultGraphMenu",k0="lf:defaultSelectionMenu",vS=function(){function v(h){var s=this,l=h.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(p){s.setMenuConfig(p)},this.lf.addMenuConfig=function(p){s.addMenuConfig(p)},this.lf.setMenuByType=function(p){s.setMenuByType(p)})}return v.prototype.init=function(){var h=this,s=[{text:"删除",callback:function(p){h.lf.deleteNode(p.id)}},{text:"编辑文本",callback:function(p){h.lf.graphModel.editText(p.id)}},{text:"复制",callback:function(p){h.lf.cloneNode(p.id)}}];this.menuTypeMap.set(ef,s);var l=[{text:"删除",callback:function(p){h.lf.deleteEdge(p.id)}},{text:"编辑文本",callback:function(p){h.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(tf,l),this.menuTypeMap.set(nf,[]);var o=[{text:"删除",callback:function(p){h.lf.clearSelectElements(),p.edges.forEach(function(d){return h.lf.deleteEdge(d.id)}),p.nodes.forEach(function(d){return h.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(k0,o)},v.prototype.render=function(h,s){var l=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var p=o.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1&&(p.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null)},!0),this.lf.on("node:contextmenu",function(o){var p=o.data,d=o.position,_=o.e,g=d.domOverlayPosition,E=g.x,T=g.y,P=p.id,D=l.lf.graphModel.getNodeModelById(P),M=[],R=l.menuTypeMap.get(D.type);D&&D.menu&&Array.isArray(D.menu)?M=D.menu:R?M=R:M=l.menuTypeMap.get(ef),l.__currentData=p,l.showMenu(E,T,M,{width:D.width,height:D.height,clientX:_.clientX,clientY:_.clientY})}),this.lf.on("edge:contextmenu",function(o){var p=o.data,d=o.position,_=o.e,g=d.domOverlayPosition,E=g.x,T=g.y,P=p.id,D=l.lf.graphModel.getEdgeModelById(P),M=[],R=l.menuTypeMap.get(D.type);D&&D.menu&&Array.isArray(D.menu)?M=D.menu:R?M=R:M=l.menuTypeMap.get(tf),l.__currentData=p,l.showMenu(E,T,M,{width:D.width,height:D.height,clientX:_.clientX,clientY:_.clientY})}),this.lf.on("blank:contextmenu",function(o){var p=o.position,d=l.menuTypeMap.get(nf),_=p.domOverlayPosition,g=_.x,E=_.y;l.showMenu(g,E,d)}),this.lf.on("selection:contextmenu",function(o){var p=o.data,d=o.position,_=l.menuTypeMap.get(k0),g=d.domOverlayPosition,E=g.x,T=g.y;l.__currentData=p,l.showMenu(E,T,_)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(h,s,l,o){if(!(!l||!l.length)){var p=this.__menuDOM;if(p.innerHTML="",p.append.apply(p,yS(this.__getMenuDom(l))),!!p.children.length){if(p.style.display="block",!o){p.style.top=s+"px",p.style.left=h+"px";return}var d=o.width,_=o.height,g=o.clientX,E=o.clientY,T=this.lf.graphModel,P=p.offsetWidth,D=!0,M=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,R=M-g,C=T.rootEl.getBoundingClientRect(),B=C.left+C.width;B<M&&(R=B-g),R<P&&(D=!1),D?p.style.left=h+"px":p.style.left=h-d+"px";var G=p.offsetHeight,W=!0,ne=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=ne-E,te=C.top+C.height;te<ne&&(ue=te-E),ue<G&&(W=!1),W?p.style.top=s+"px":p.style.top=s-_+"px"}}},v.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},v.prototype.__getMenuDom=function(h){var s=[];return h&&h.length>0&&h.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",o.appendChild(p)}var d=document.createElement("span");d.className="lf-menu-item-text",l.text&&(d.innerText=l.text),o.appendChild(d),o.onclickCallback=l.callback,s.push(o)}),s},v.prototype.setMenuConfig=function(h){h&&(h.nodeMenu!==void 0&&this.menuTypeMap.set(ef,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(tf,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(nf,h.graphMenu?h.graphMenu:[]))},v.prototype.addMenuConfig=function(h){if(h){if(Array.isArray(h.nodeMenu)){var s=this.menuTypeMap.get(ef);this.menuTypeMap.set(ef,s.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var s=this.menuTypeMap.get(tf);this.menuTypeMap.set(tf,s.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var s=this.menuTypeMap.get(nf);this.menuTypeMap.set(nf,s.concat(h.graphMenu))}}},v.prototype.changeMenuItem=function(h,s){if(h==="add")this.addMenuConfig(s);else if(h==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var gS=function(){function v(h){var s=this,l=h.lf;this.lf=l,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return v.prototype.render=function(h,s){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(h){var s=this,l=document.createElement("div");l.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",h.icon&&(o.style.backgroundImage="url("+h.icon+")"),l.appendChild(o),h.label){var p=document.createElement("div");p.innerText=h.label,p.className="lf-dnd-text",l.appendChild(p)}return l.onmousedown=function(){h.type&&s.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(s.lf,s.domContainer)},l.ondblclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:d,data:h})},l.onclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:d,data:h})},l.oncontextmenu=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:d,data:h})},l},v.pluginName="dndPanel",v}(),bS=function(){function v(h){var s=this,l=h.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(p){var d=s.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,_=d.x,g=d.y;s.endPoint={x:_,y:g};var E=s.startPoint,T=E.x,P=E.y,D=s.wrapper.style,M=T,R=P,C=_-T,B=g-P;_<T&&(M=_,C=T-_),g<P&&(R=g,B=P-g),D.left=M+"px",D.top=R+"px",D.width=C+"px",D.height=B+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var p=s.startPoint,d=p.x,_=p.y,g=s.endPoint,E=g.x,T=g.y;if(!(Math.abs(E-d)<10&&Math.abs(T-_)<10)){var P=[Math.min(d,E),Math.min(_,T)],D=[Math.max(d,E),Math.max(_,T)],M=s.lf.graphModel.getAreaElement(P,D,s.isWholeEdge,s.isWholeNode,!0),R=s.lf.graphModel.group;M.forEach(function(C){(!R||!R.getNodeGroup(C.id))&&s.lf.selectElementById(C.id,!0)}),s.lf.emit("selection:selected",M)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){s.openSelectionSelect()},l.closeSelectionSelect=function(){s.closeSelectionSelect()}}return v.prototype.render=function(h,s){var l=this;this.__domContainer=s,h.on("blank:mousedown",function(o){var p=o.e,d=h.getEditConfig();if(!(!d.stopMoveGraph||l.__disabled)){var _=p.button===2;if(!_){var g=h.getPointByClient(p.clientX,p.clientY).domOverlayPosition,E=g.x,T=g.y;l.startPoint={x:E,y:T},l.endPoint={x:E,y:T};var P=document.createElement("div");P.className="lf-selection-select",P.oncontextmenu=function(M){M.preventDefault()},P.style.top=l.startPoint.y+"px",P.style.left=l.startPoint.x+"px",s.appendChild(P),l.wrapper=P,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},v.prototype.setSelectionSense=function(h,s){h===void 0&&(h=!0),s===void 0&&(s=!0),this.isWholeEdge=h,this.isWholeNode=s},v.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}();globalThis&&globalThis.__values;function mS(v){if(v.length<=1)return!1;for(var h=0,s=v.length-1;h!==s&&h+1!==s&&s-1!==h;)h++,s--;return h===s?[--h,s]:[h,s]}var s_=globalThis&&globalThis.__extends||function(){var v=function(h,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var p in o)o.hasOwnProperty(p)&&(l[p]=o[p])},v(h,s)};return function(h,s){v(h,s);function l(){this.constructor=h}h.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),ds=globalThis&&globalThis.__assign||function(){return ds=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},ds.apply(this,arguments)},oa=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};(function(v){s_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.pointFilter=function(s){for(var l=s,o=1;o<l.length-1;){var p=oa(l[o-1],2),d=p[0],_=p[1],g=oa(l[o],2),E=g[0],T=g[1],P=oa(l[o+1],2),D=P[0],M=P[1];d===E&&E===D||_===T&&T===M?l.splice(o,1):o++}return l},h.prototype.getEdge=function(){var s=this.props.model,l=s.points,o=s.isAnimation,p=s.arrowConfig,d=s.radius,_=d===void 0?5:d,g=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),T=this.pointFilter(l.split(" ").map(function(Ge){return Ge.split(",").map(function(Ke){return Number(Ke)})})),P=mS(T);if(P){var D=oa(P,2),M=D[0],R=D[1],C=T[M],B=T[R],G=C.some(function(Ge,Ke){return Ge===B[Ke]});if(!G){var W=(B[1]-C[1])/2,ne=[B[0],B[1]-W],ue=[C[0],C[1]+W];T.splice(M+1,0,ue,ne)}}for(var te=oa(T[0],2),J=te[0],ee=te[1],Y="M"+J+" "+ee,L=1;L<T.length-1;L++){var H=oa(T[L-1],2),V=H[0],$=H[1],ae=oa(T[L],2),Oe=ae[0],he=ae[1],Pe=oa(T[L+1],2),Be=Pe[0],Se=Pe[1];if(Oe===V&&he!==$){var ve=he>$?he-_:he+_;Y=Y+" L "+Oe+" "+ve}if(he===$&&Oe!==V){var je=Oe>V?Oe-_:Oe+_;Y=Y+" L "+je+" "+he}if(Y=Y+" Q "+Oe+" "+he,Oe===Be&&he!==Se){var ve=he>Se?he-_:he+_;Y=Y+" "+Oe+" "+ve}if(he===Se&&Oe!==Be){var je=Oe>Be?Oe-_:Oe+_;Y=Y+" "+je+" "+he}}var Ae=oa(T[T.length-1],2),Ue=Ae[0],et=Ae[1];Y=Y+" L "+Ue+" "+et;var ht=ds(ds(ds({d:Y,style:o?E:{}},g),p),{fill:"none"});return nt.h("path",ds({d:Y},ht))},h})(nt.PolylineEdge);(function(v){s_(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h})(nt.PolylineEdgeModel);var _S=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;var D0=globalThis&&globalThis.__assign||function(){return D0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},D0.apply(this,arguments)},N0=globalThis&&globalThis.__assign||function(){return N0=Object.assign||function(v){for(var h,s=1,l=arguments.length;s<l;s++){h=arguments[s];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(v[o]=h[o])}return v},N0.apply(this,arguments)},OS=globalThis&&globalThis.__read||function(v,h){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var l=s.call(v),o,p=[],d;try{for(;(h===void 0||h-- >0)&&!(o=l.next()).done;)p.push(o.value)}catch(_){d={error:_}}finally{try{o&&!o.done&&(s=l.return)&&s.call(l)}finally{if(d)throw d.error}}return p};globalThis&&globalThis.__spread;const wS={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function xS(v){const{incoming:h,outgoing:s,properties:l,key:o}=v,{text:p,startPoint:d,endPoint:_,pointsList:g,logicFlowType:E}=l,T={id:o,type:E,sourceNodeId:h[0],targetNodeId:s[0],text:p,startPoint:d,endPoint:_,pointsList:g,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(D=>{P.indexOf(D)===-1&&(T.properties[D]=v.properties[D])}),T}function ES(v){const{properties:h,key:s}=v,{x:l,y:o,text:p,logicFlowType:d}=h,_={id:s,type:d,x:l,y:o,text:p,properties:{}},g=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(E=>{g.indexOf(E)===-1&&(_.properties[E]=v.properties[E])}),_}function SS(v){const h={nodes:[],edges:[]},s=v.flowElementList;return s&&s.length>0&&s.forEach(l=>{if(l.type===wS.SEQUENCE_FLOW){const o=xS(l);h.edges.push(o)}else{const o=ES(l);h.nodes.push(o)}}),h}function jS(v){return[{text:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"开始",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const PS=C0({name:"FlowChart",components:{BasicModal:Ix,FlowChartToolbar:Yx,JsonPreview:zx},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const h=_d(null),s=_d({}),l=_d(null),{prefixCls:o}=mx("flow-chart"),p=_x(),[d,{openModal:_}]=Lx();Fx({logicFlow:l});const g=Mx(()=>{const{flowOptions:D}=v;return Uv({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},D)});Gm(()=>v.data,()=>{T()}),Gm(()=>Wr(g),D=>{var M;(M=Wr(l))==null||M.updateEditConfig(D)});function E(){return md(this,null,function*(){yield Gv();const D=Wr(h);if(!D)return;ls.use(gS),ls.use(fS),ls.use(dE),ls.use(vS),ls.use(bS),l.value=new ls(Fm(Uv({},Wr(g)),{container:D}));const M=Wr(l);M==null||M.setDefaultEdgeType("line"),T(),M==null||M.setPatternItems(v.patternItems||jS(M))})}function T(){return md(this,null,function*(){yield Gv();const D=Wr(l);if(!D)return;const M=SS(v.data);D.render(M)})}function P(){const D=Wr(l);D&&(s.value=Wr(D).getGraphData(),_())}return kx(E),{register:d,prefixCls:o,lfElRef:h,handlePreview:P,graphData:s}}}),AS={ref:"lfElRef",class:"h-full"};function TS(v,h,s,l,o,p){const d=Ka("FlowChartToolbar"),_=Ka("JsonPreview"),g=Ka("BasicModal");return Va(),rf("div",{class:Od(["h-full",v.prefixCls])},[v.toolbar?(Va(),Qv(d,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):Hv("",!0),Dx("div",AS,null,512),sf(g,{onRegister:v.register,title:"流程数据",width:"50%"},{default:jd(()=>[sf(_,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}const MS=Jv(PS,[["render",TS]]),kS=Ox(MS),DS=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],NS={flowElementList:DS},CS={components:{FlowChart:kS,PageWrapper:Bx},setup(){return{demoData:NS}}};function RS(v,h,s,l,o,p){const d=Ka("FlowChart"),_=Ka("PageWrapper");return Va(),Qv(_,{title:"流程图",content:"简单流程图示例,具体功能需要自己完善",contentFullHeight:"",fixedHeight:""},{default:jd(()=>[sf(d,{data:l.demoData},null,8,["data"])]),_:1})}const VS=Jv(CS,[["render",RS]]);export{VS as default};
