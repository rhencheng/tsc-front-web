var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var B=(n,t,o)=>t in n?J(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,k=(n,t)=>{for(var o in t||(t={}))U.call(t,o)&&B(n,o,t[o]);if(T)for(var o of T(t))Z.call(t,o)&&B(n,o,t[o]);return n},L=(n,t)=>K(n,Q(t));var b=(n,t,o)=>new Promise((u,i)=>{var h=p=>{try{m(o.next(p))}catch(_){i(_)}},d=p=>{try{m(o.throw(p))}catch(_){i(_)}},m=p=>p.done?u(p.value):Promise.resolve(p.value).then(h,d);m((o=o.apply(n,t)).next())});import{p as O,t as q,aE as w,a6 as H,af as X,u as Y}from"./index.js";import{B as ee}from"./BasicForm-152e2559.js";import"./BasicForm.vue_vue_type_style_index_0_lang-8c66020c.js";import{u as te}from"./useForm-4dc53c5d.js";import{f as g,d as D,c as z,o as ae,Z as F,_ as se,$ as C,l as a,u as e,a8 as s,N as oe,ab as ne,k as re,E as M,a1 as ie,a0 as le,a7 as ce}from"./vue-b9806415.js";import{ae as E,K as I,aM as ue,T as $,au as pe,aN as de,a0 as me,ao as fe,aO as ge,aP as he,ab as _e}from"./antd-57936705.js";import{P as ve}from"./index-c8f3d3c2.js";import{d as ye}from"./table-9286518d.js";import"./index-7caba1aa.js";import"./useWindowSizeFn-da6b5cad.js";import"./index-456abdd7.js";import"./uuid-31b8b5a4.js";import"./download-9ecd0762.js";import"./base64Conver-39fc0d26.js";import"./index-acb772bd.js";import"./useContentViewHeight-bbdf3bf4.js";import"./onMountedOrActivated-b65981ee.js";const y=g(12),Ce=(n=6,t=12)=>({min:n,max:t,marks:(()=>{const u={};for(let i=n;i<t+1;i++)u[i]={style:{color:"#fff"},label:i};return u})(),step:1}),be={class:"p-2"},we={class:"p-4 mb-2 bg-white"},Me={class:"p-2 bg-white"},Se={class:"flex justify-end space-x-2"},ke=C("div",{class:"w-50"},"每行显示数量",-1),xe=D({__name:"CardList",props:{params:O.object.def({}),api:O.func},emits:["getMethod","delete"],setup(n,{emit:t}){const o=n,u=E.Item,i=I.Meta,h=ue.Paragraph,d=z(()=>Ce(4)),m=g([]),p=z(()=>`h-${120-y.value*6}`),[_,{validate:N}]=te({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:R});function R(){return b(this,null,function*(){const r=yield N();yield f(r)})}function V(r){v.value=r*4,f()}ae(()=>{f(),t("getMethod",f)});function f(){return b(this,arguments,function*(r={}){const{api:l,params:c}=o;if(l&&q(l)){const P=yield l(k(L(k({},c),{page:S.value,pageSize:v.value}),r));m.value=P.items,x.value=P.total}})}const S=g(1),v=g(36),x=g(0),j=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:S,total:x,showTotal:r=>`总 ${r} 条`,onChange:A,onShowSizeChange:W});function A(r,l){S.value=r,v.value=l,f()}function W(r,l){v.value=l,f()}function G(r){return b(this,null,function*(){t("delete",r)})}return(r,l)=>(F(),se("div",be,[C("div",we,[a(e(ee),{onRegister:e(_)},null,8,["onRegister"])]),C("div",Me,[a(e(E),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:e(y)},"data-source":m.value,pagination:j.value},{header:s(()=>[C("div",Se,[oe(r.$slots,"header"),a(e($),null,{title:s(()=>[ke,a(e(pe),ne({id:"slider"},d.value,{value:e(y),"onUpdate:value":l[0]||(l[0]=c=>re(y)?y.value=c:null),onChange:V}),null,16,["value"])]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(de))]),_:1})]),_:1}),a(e($),{onClick:f},{title:s(()=>[M("刷新")]),default:s(()=>[a(e(w),null,{default:s(()=>[a(e(me))]),_:1})]),_:1})])]),renderItem:s(({item:c})=>[a(e(u),null,{default:s(()=>[a(e(I),null,{title:s(()=>[]),cover:s(()=>[C("div",{class:ie(p.value)},[a(e(fe),{src:c.imgs[0]},null,8,["src"])],2)]),actions:s(()=>[a(e(ge),{key:"edit"}),a(e(H),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:G.bind(null,c.id)}}],popconfirm:""},{default:s(()=>[a(e(he),{key:"ellipsis"})]),_:2},1032,["dropMenuList"])]),default:s(()=>[a(e(i),null,{title:s(()=>[a(e(h),{content:c.name,ellipsis:{tooltip:c.address}},null,8,["content","ellipsis"])]),avatar:s(()=>[a(e(_e),{src:c.avatar},null,8,["src"])]),description:s(()=>[M(le(c.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])]))}}),Pe=X(xe),Ke=D({__name:"index",setup(n){const{notification:t}=Y(),o={};let u=()=>{};function i(d){u=d}function h(d){t.success({message:`成功删除${d}`}),u()}return(d,m)=>(F(),ce(e(ve),{title:"卡片列表示例",content:"基础封装"},{default:s(()=>[a(e(Pe),{params:o,api:e(ye),onGetMethod:i,onDelete:h},{header:s(()=>[a(e(w),{type:"primary",color:"error"},{default:s(()=>[M(" 按钮1 ")]),_:1}),a(e(w),{type:"primary",color:"success"},{default:s(()=>[M(" 按钮2 ")]),_:1})]),_:1},8,["api"])]),_:1}))}});export{Ke as default};
